<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SPARQL 1.1概要</title>
<style type="text/css">@import url("www.asahi-net.or.jp/~ax2s-kmtn/internet/rdf/local.css");

code           { font-family: monospace; }

div.constraint,
div.issue,
div.note,
div.notice     { margin-left: 2em; }

ol.enumar      { list-style-type: decimal; }
ol.enumla      { list-style-type: lower-alpha; }
ol.enumlr      { list-style-type: lower-roman; }
ol.enumua      { list-style-type: upper-alpha; }
ol.enumur      { list-style-type: upper-roman; }


div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
div.exampleWrapper { margin: 4px }
div.exampleHeader { font-weight: bold;
                    margin: 4px}

em.rfc2119 { text-transform: lowercase;
             font-variant: small-caps;
             font-style: normal; }</style>
<link rel="stylesheet" type="text/css" href="www.w3.org/StyleSheets/TR/W3C-REC.css">
</head>

<body>

<p><a href="www.asahi-net.or.jp/~ax2s-kmtn/index.html"><img src="www.asahi-net.or.jp/~ax2s-kmtn/images/logo.gif" border="0" alt="CyberLibrarian" width="105" height="19"></a></p>

<p>【注意】 このドキュメントは、W3Cの<a href="www.w3.org/TR/2013/REC-sparql11-overview-20130321/">SPARQL 1.1 Overview W3C Recommendation 21 March 2013</a>の和訳です。<br>
このドキュメントの正式版はW3Cのサイト上にある英語版であり、このドキュメントには翻訳に起因する誤りがありえます。誤訳、誤植などのご指摘は、<a href="www.asahi-net.or.jp/~ax2s-kmtn/mail.html">訳者</a>までお願い致します。</p>

<p>First Update: 2013年4月11日</p>
<hr>

<div class="head">

<p><a href="www.w3.org/"><img src="www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72"></a></p>

<h1>
<a name="title" id="title"></a>SPARQL 1.1概要</h1>

<h2>
<a name="w3c-doctype" id="w3c-doctype"></a>W3C勧告 2013年3月21日</h2>

<dl>
<dt>本バージョン:</dt>
<dd><a href="www.w3.org/TR/2013/REC-sparql11-overview-20130321/">http://www.w3.org/TR/2013/REC-sparql11-overview-20130321/</a></dd>
<dt>最新バージョン:</dt>
<dd><a href="www.w3.org/TR/sparql11-overview/">http://www.w3.org/TR/sparql11-overview/</a></dd>
<dt>旧バージョン:</dt>
<dd><a href="www.w3.org/TR/2012/PR-sparql11-overview-20121108/">http://www.w3.org/TR/2012/PR-sparql11-overview-20121108/</a></dd>
<dt>編集者:</dt>
<dd>The W3C SPARQL Working Group、<a href="#Acknowledgements">謝辞</a>を参照。<a href="mailto:public-rdf-dawg-comments@w3.org">&lt;public-rdf-dawg-comments@w3.org&gt;</a>
</dd>
</dl>

<p>このドキュメントに対する<a href="www.w3.org/2013/sparql-errata#sparql11-overview"><strong>正誤表</strong></a>を参照してください。いくつかの規範的な修正が含まれているかもしれません。</p>

<p><a href="www.w3.org/2003/03/Translations/byTechnology?technology=sparql11-overview"><strong>翻訳版</strong></a>も参照してください。</p>

<p class="copyright"><a href="www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> &#xa9; 2013 <a href="www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>&#xae;</sup> (<a href="www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="www.keio.ac.jp/">Keio</a>, <a href="ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved. W3C <a href="www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p>
</div>

<hr>
<div>

<h2>
<a name="abstract" id="abstract"></a>要約</h2>

<p>このドキュメントは、SPARQL 1.1の概要です。このドキュメントでは、ウェブ上またはRDFストア内のRDFグラフのコンテンツに対するクエリの実行や処理を容易にするW3C仕様を紹介しています。</p>

</div>
<div>

<h2>
<a name="status" id="status"></a>このドキュメントのステータス </h2>

<h4 id="may-be">置き換えられる可能性</h4>

<p><em>この項は、このドキュメントの公開時のステータスについて記述しています。他のドキュメントがこのドキュメントに取って代わることがありえます。現行のW3Cの刊行物およびこの技術報告の最新の改訂版のリストは、http://www.w3.org/TR/の<a href="www.w3.org/TR/">W3C技術報告インデックス</a>にあります。</em></p>

<h4 id="related">一連のドキュメント</h4>

<p>このドキュメントは、<a href="www.w3.org/2001/sw/DataAccess/">SPARQLワーキンググループ</a>が作成した以下の11のSPARQL 1.1勧告のうちの1つです。</p>

<ol>
  <li>
<a href="www.w3.org/TR/2013/REC-sparql11-overview-20130321">SPARQL 1.1概要</a>（このドキュメント）</li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-query-20130321">SPARQL 1.1クエリ言語</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-update-20130321">SPARQL 1.1更新</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-service-description-20130321">SPARQL 1.1サービス記述</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-federated-query-20130321">SPARQL 1.1統合クエリ</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-results-json-20130321">SPARQL 1.1クエリ結果JSONフォーマット</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-results-csv-tsv-20130321">SPARQL 1.1クエリ結果CSVおよびTSVフォーマット</a></li>
  <li><a href="www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321">SPARQLクエリ結果XMLフォーマット（第2版）</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-entailment-20130321">SPARQL 1.1含意レジーム</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-protocol-20130321">SPARQL 1.1プロトコル</a></li>
  <li><a href="www.w3.org/TR/2013/REC-sparql11-http-rdf-update-20130321">SPARQL 1.1グラフ・ストアHTTPプロトコル</a></li>
</ol>

<h4 class="no-toc no-num" id="status-changes">本質的な変更なし</h4>

<p><a href="www.w3.org/TR/2012/PR-sparql11-overview-20121108/">旧バージョン</a>以降、このドキュメントには実質的な変更はありませんでした。マイナーな編集上の変更がある場合には、<a href="#changes-since-pr">変更履歴</a>に詳細が記述されており、<a href="www.w3.org/TR/2013/REC-sparql11-overview-20130321/diff">色分けした差分</a>として見ることができます。</p>

<h4 class="no-toc no-num" id="please">コメントの送信</h4>

<p><a class="mailto" href="mailto:public-rdf-dawg-comments@w3.org">public-rdf-dawg-comments@w3.org</a>（<a class="http" href="lists.w3.org/Archives/Public/public-rdf-dawg-comments/">公開アーカイブ</a>）にコメントをお送りください。このドキュメントに対する<a href="www.w3.org/2009/sparql/">SPARQLワーキンググループ</a>の作業は完了していますが、コメントは<a href="www.w3.org/2013/sparql-errata">正誤表</a>や今後の改定で扱われることがあります。公開討論は、<a class="mailto" href="mailto:public-sparql-dev@w3.org">public-sparql-dev@w3.org</a>（<a class="http" href="lists.w3.org/Archives/Public/public-sparql-dev/">公開アーカイブ</a>）で歓迎します。</p>

<h4 class="no-toc no-num" id="endorsement">W3Cによる承認</h4>

<p><em>このドキュメントは、W3Cメンバー、ソフトウェア開発者、他のW3Cグループ、および他の利害関係者によりレビューされ、W3C勧告として管理者の協賛を得ました。これは確定済みドキュメントであり、参考資料として用いたり、別のドキュメントで引用することができます。勧告の作成におけるW3Cの役割は、仕様に注意を引き付け、広範囲な開発を促進することです。これによってウェブの機能性および相互運用性が増強されます。</em></p>

<h4 id="patents">特許</h4>

<p><em>このドキュメントは、<a href="www.w3.org/Consortium/Patent-Policy-20040205/">2004年2月5日のW3C特許方針</a>の下で活動しているグループによって作成されました。W3Cは、このグループの成果物に関連する<a href="www.w3.org/2004/01/pp-impl/35463/status" rel="disclosure">あらゆる特許の開示の公開リスト</a>を維持し、このページには特許の開示に関する指示も含まれています。<a href="www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">不可欠な請求権</a>（Essential Claim(s)）を含んでいると思われる特許に関して実際に知っている人は、<a href="www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">W3C特許方針の6項</a>に従って情報を開示しなければなりません。</em></p>

</div>
<div class="toc">

<h2>
<a name="contents" id="contents"></a>目次</h2>

<p class="toc">1 <a href="#sec-intro">はじめに</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;1.1 <a href="#Example">例</a><br>
2 <a href="#sparql11-query">SPARQL 1.1クエリ言語</a><br>
3 <a href="#sparql11-results">SPARQL 1.1がサポートする様々なクエリ結果フォーマット（XML、JSON、CSV、TSV）</a><br>
4 <a href="#sparql11-federated-query">SPARQL 1.1統合クエリ</a><br>
5 <a href="#sparql11-entailment">SPARQL 1.1含意レジーム</a><br>
6 <a href="#sparql11-update">SPARQL 1.1更新言語</a><br>
7 <a href="#sparql11-protocol">SPARQL 1.1 RDF用プロトコル</a><br>
8 <a href="#sparql11-service-description">SPARQL 1.1サービス記述</a><br>
9 <a href="#sparql11-graphstore-http-protocol">SPARQL 1.1グラフ・ストアHTTPプロトコル</a><br>
10 <a href="#Acknowledgements">謝辞</a><br>
11 <a href="#sec-bibliography">参考文献</a><br>
</p>

</div>

<hr>

<div class="body">
<div class="div1">

<h2>
<a name="sec-intro" id="sec-intro"></a>1 はじめに</h2>

<p>SPARQL 1.1は、ウェブ上またはRDFストア内のRDFグラフのコンテンツに対するクエリの実行や処理を行うための言語とプロトコルを示した仕様です。この標準には、次の仕様が含まれています。</p>

<ul>
  <li>
<a href="www.w3.org/TR/sparql11-query/" class="external text" title="http://www.w3.org/TR/sparql11-query/" rel="nofollow">SPARQL 1.1クエリ言語</a> - RDF用のクエリ言語</li>
  <li>
<a href="www.w3.org/TR/sparql11-results-json/" class="external text" title="http://www.w3.org/TR/sparql11-results-json/" rel="nofollow">SPARQL 1.1クエリ結果JSONフォーマット</a>と<a href="www.w3.org/TR/sparql11-results-csv-tsv/" class="external text" title="http://www.w3.org/TR/sparql11-results-csv-tsv/" rel="nofollow">SPARQL 1.1クエリ結果CSVおよびTSVフォーマット</a> - 標準的なSPARQLクエリ結果XML[<a href="#SPARQL-XML-Result">SPARQL-XML-Result</a>]とは別に、SPARQL 1.1によって、よく知られている3つの選択可能なフォーマット（つまり、これらの2つのドキュメントで記述しているJSON、CSV（コンマ区切りの値）およびTSV（タブ区切りの値））で、SPARQLクエリの回答を交換できるようになりました。</li>
  <li>
<a href="www.w3.org/TR/sparql11-federated-query/" class="external text" title="http://www.w3.org/TR/sparql11-federated-query/" rel="nofollow">SPARQL 1.1統合クエリ</a> -  様々なSPARQLエンドポイントに分散しているクエリを実行するためのSPARQL 1.1クエリ言語の拡張を定義している仕様</li>
  <li>
<a href="www.w3.org/TR/sparql11-entailment/" class="external text" title="http://www.w3.org/TR/sparql11-entailment/" rel="nofollow">SPARQL 1.1含意レジーム</a> - RDFスキーマやOWL、RIFなどの含意レジーム下のSPARQLクエリのセマンティクスを定義している仕様</li>
  <li>
<a href="www.w3.org/TR/sparql11-update/" class="external text" title="http://www.w3.org/TR/sparql11-update/" rel="nofollow">SPARQL 1.1更新言語</a> - RDFグラフ用の更新言語</li>
  <li>
<a href="www.w3.org/TR/sparql11-protocol/" class="external text" title="http://www.w3.org/TR/sparql11-protocol/" rel="nofollow">SPARQL 1.1 RDF用プロトコル</a> - 任意のSPARQLクエリと更新リクエストをSPARQLサービスに伝えるための手段を定義しているプロトコル</li>
  <li>
<a href="www.w3.org/TR/sparql11-service-description/" class="external text" title="http://www.w3.org/TR/sparql11-service-description/" rel="nofollow">SPARQL 1.1サービス記述</a> - SPARQLサービスの発見方法と記述用語彙を定義している仕様</li>
  <li>
<a href="www.w3.org/TR/sparql11-http-rdf-update/" class="external text" title="http://www.w3.org/TR/sparql11-http-rdf-update/" rel="nofollow">SPARQL 1.1グラフ・ストアHTTPプロトコル</a> - フルのSPARQLプロトコルとは対照的に、この仕様は、一般的なHTTPオペレーションでRDFグラフのコンテンツを直接管理するための最小限の手段を定義しています。</li>
  <li>
<a href="www.w3.org/2009/sparql/docs/tests/">SPARQL 1.1テストケース</a> - 仕様の特殊ケースを理解し、システムがSPARQL 1.1に適合しているかどうかを評価するために有用な一連のテスト</li>
</ul>

<div class="div2">

<h3>
<a name="Example" id="Example"></a>1.1 例</h3>

<p>以下では、SPARQLの言語、プロトコル、関連する仕様書の使用について、小さな例を用いて説明しています。</p>

<p>「<a href="example.org/alice'" class="external free" title="http://example.org/alice'" rel="nofollow">http://example.org/alice</a>」というURLでウェブ上で公開されているRDFグラフには、アリス（Alice）と彼女の社会的関係に関する個人情報が含まれています。ここでは、実例として、Turtle[<a href="#Turtle">Turtle</a>]構文を用いています。</p>

<p>グラフ: <tt><a href="example.org/alice" class="external free" title="http://example.org/alice" rel="nofollow">http://example.org/alice</a></tt></p>

<pre> 
 @prefix foaf: &lt;<a href="xmlns.com/foaf/0.1/" class="external free" title="http://xmlns.com/foaf/0.1/" rel="nofollow">http://xmlns.com/foaf/0.1/</a>&gt; .
 @prefix rdfs: &lt;<a href="www.w3.org/2000/01/rdf-schema#" class="external free" title="http://www.w3.org/2000/01/rdf-schema#" rel="nofollow">http://www.w3.org/2000/01/rdf-schema#</a>&gt; .

 &lt;<a href="example.org/alice#" class="external free" title="http://example.org/alice#" rel="nofollow">http://example.org/alice#me</a>&gt; a foaf:Person .
 &lt;<a href="example.org/alice#" class="external free" title="http://example.org/alice#" rel="nofollow">http://example.org/alice#me</a>&gt; foaf:name "Alice" .
 &lt;<a href="example.org/alice#" class="external free" title="http://example.org/alice#" rel="nofollow">http://example.org/alice#me</a>&gt; foaf:mbox &lt;<a href="mailto:alice@example.org" class="external free" title="mailto:alice@example.org" rel="nofollow">mailto:alice@example.org</a>&gt; .
 &lt;<a href="example.org/alice#" class="external free" title="http://example.org/alice#" rel="nofollow">http://example.org/alice#me</a>&gt; foaf:knows &lt;<a href="example.org/bob#me" class="external free" title="http://example.org/bob#me" rel="nofollow">http://example.org/bob#me</a>&gt; .
 &lt;<a href="example.org/bob#" class="external free" title="http://example.org/bob#" rel="nofollow">http://example.org/bob#me</a>&gt; foaf:knows &lt;<a href="example.org/alice#me" class="external free" title="http://example.org/alice#me" rel="nofollow">http://example.org/alice#me</a>&gt; .
 &lt;<a href="example.org/bob#me" class="external free" title="http://example.org/bob#me" rel="nofollow">http://example.org/bob#me</a>&gt; foaf:name "Bob" .
 &lt;<a href="example.org/alice#" class="external free" title="http://example.org/alice#" rel="nofollow">http://example.org/alice#me</a>&gt; foaf:knows &lt;<a href="example.org/charlie#me" class="external free" title="http://example.org/charlie#me" rel="nofollow">http://example.org/charlie#me</a>&gt; .
 &lt;<a href="example.org/charlie#" class="external free" title="http://example.org/charlie#" rel="nofollow">http://example.org/charlie#me</a>&gt; foaf:knows &lt;<a href="example.org/alice#me" class="external free" title="http://example.org/alice#me" rel="nofollow">http://example.org/alice#me</a>&gt; .
 &lt;<a href="example.org/charlie#me" class="external free" title="http://example.org/charlie#me" rel="nofollow">http://example.org/charlie#me</a>&gt; foaf:name "Charlie" .
 &lt;<a href="example.org/alice#" class="external free" title="http://example.org/alice#" rel="nofollow">http://example.org/alice#me</a>&gt; foaf:knows &lt;<a href="example.org/snoopy" class="external free" title="http://example.org/snoopy" rel="nofollow">http://example.org/snoopy</a>&gt; .
 &lt;<a href="example.org/snoopy" class="external free" title="http://example.org/snoopy" rel="nofollow">http://example.org/snoopy</a>&gt; foaf:name "Snoopy"@en .</pre>

<p>SPARQL 1.1では、このようなグラフにクエリを実行してRDFストアに読み込み、それを様々な方法で処理できます。</p>

</div>
</div>
<div class="div1">

<h2>
<a name="sparql11-query" id="sparql11-query"></a>2 SPARQL 1.1クエリ言語</h2>

<p>上記のグラフのデータが、SPARQLサービス（つまり、SPARQLクエリを処理可能なHTTPサービス・エンドポイント）に読み込まれていれば、<a href="www.w3.org/TR/sparql11-query/" class="external text" title="http://www.w3.org/TR/sparql11-query/" rel="nofollow">SPARQL 1.1クエリ言語</a>を用いて、単純なグラフ・パターンマッチングから複雑なクエリに及ぶクエリを作成できます。例えば、次のように、SPARQL SELECTクエリを用いて、人の名前とその人の友達の数を問い合わせることができます。</p>

<pre>PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
SELECT ?name (COUNT(?friend) AS ?count)
WHERE { 
    ?person foaf:name ?name . 
    ?person foaf:knows ?friend . 
} GROUP BY ?person ?name
</pre>

<p>2008年に出された初期のSPARQL1.0仕様[<a href="#SPARQL10-Query">SPARQL-Query</a>]と同様に、複雑なクエリには、和集合（union）、オプションのクエリ部分（query part）、フィルタ（filter）が含まれるかもしれません。SPARQL 1.1には、値集約（value aggregation）、パス式（path expression）、入れ子のクエリ（nested quey）などの新しい機能が加えられました。SPARQLは、（変数バインディングを返す）SELECTクエリとは別に、ASKクエリ（つまり、ブール「yes/no」クエリ）、CONSTRUCTクエリ（クエリ結果から新しいRDFグラフを構築可能とする）をサポートしています。SPARQL 1.1の新しいクエリ言語の機能はすべて、ASKクエリとCONSTRUCTクエリで同じように使用できます。</p>

<p>SPARQL1.0と比べると、SPARQL 1.1は、クエリ言語に、サブクエリ（subquery）、値割当て（value assignment）、パス式（path expression）や（上記のクエリの例で使用しているCOUNTなどの）集約（aggregate）を含む多くの新しい機能を追加しています。</p>

<p><a href="www.w3.org/TR/sparql11-query/" class="external text" title="http://www.w3.org/TR/sparql11-query/" rel="nofollow">SPARQL 1.1クエリ言語</a>ドキュメントは、SPARQL 1.1クエリの構文とセマンティクスを定義し、さらに、様々な使用例を提供します。</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-results" id="sparql11-results"></a>3 SPARQL 1.1がサポートする様々なクエリ結果フォーマット（XML、JSON、CSV、TSV）</h2>

<p>SPARQLのSELECTクエリの結果には、変数からRDF用語へのマッピングが多く含まれ、多くの場合、便宜上、表形式で表されます。例えば、2項のクエリには、次の結果が含まれています。</p>

<p><br></p>

<table border="1" align="center" style="text-align:center;">
  <tr>
    <td>?name</td>
    <td>?count</td>
  </tr>
  <tr>
    <td>"Alice"</td>
    <td>3</td>
  </tr>
  <tr>
    <td>"Bob"</td>
    <td>1</td>
  </tr>
  <tr>
    <td>"Charlie"</td>
    <td>1</td>
  </tr>
</table>

<p><br>
これらの結果を機械可読形式に交換するために、SPARQLは、4つの一般的な交換フォーマットをサポートしており、それらは、Extensible Markup Language（<a href="www.w3.org/XML/" class="external text" title="http://www.w3.org/XML/" rel="nofollow">XML</a>）、JavaScript Object Notation（<a href="www.ietf.org/rfc/rfc4627.txt" class="external text" title="https://www.ietf.org/rfc/rfc4627.txt" rel="nofollow">JSON</a>）、Comma Separated Values（<a href="www.ietf.org/rfc/rfc4180.txt" class="external text" title="https://www.ietf.org/rfc/rfc4180.txt" rel="nofollow">CSV</a>）とTab Separated Values（<a href="www.iana.org/assignments/media-types/text/tab-separated-values" class="external text" title="http://www.iana.org/assignments/media-types/text/tab-separated-values" rel="nofollow">TSV</a>）です。これらの結果フォーマットについては、次の3つの別々のドキュメントに記述されています。</p>

<ul>
  <li>
<a href="www.w3.org/TR/rdf-sparql-XMLres/" class="external text" title="http://www.w3.org/TR/rdf-sparql-XMLres/" rel="nofollow">SPARQLクエリ結果XMLフォーマット</a>（<i>この仕様に対し、SPARQL 1.1 WGが小さな<a href="www.w3.org/2001/sw/DataAccess/XMLres-errata" class="external text" title="http://www.w3.org/2001/sw/DataAccess/XMLres-errata" rel="nofollow">正誤表</a>を作成したことに特に注意してください。</i>）、</li>
  <li>
<a href="www.w3.org/TR/sparql11-results-json/" class="external text" title="http://www.w3.org/TR/sparql11-results-json/" rel="nofollow">SPARQL 1.1クエリ結果JSONフォーマット</a>、そして</li>
  <li><a href="www.w3.org/TR/sparql11-results-csv-tsv/" class="external text" title="http://www.w3.org/TR/sparql11-results-csv-tsv/" rel="nofollow">SPARQL 1.1クエリ結果CSVおよびTSVフォーマット</a></li>
</ul>

<p>これらのドキュメントでは、特定の解決策と解決策で生じるRDF用語を、それぞれの対象とするフォーマットでコード化する方法に関する詳細を定めています。</p>

<p>ここで例示しているクエリの結果は、これらの3つのフォーマットで、次のようになります。</p>

<p><b>XML:</b> </p>

<pre>&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
 &lt;head&gt;
   &lt;variable name="name"/&gt;
   &lt;variable name="count"/&gt;
 &lt;/head&gt;
 &lt;results&gt;
   &lt;result&gt;
     &lt;binding name="name"&gt;
       &lt;literal&gt;Alice&lt;/literal&gt;
     &lt;/binding&gt;
     &lt;binding name="count"&gt;
       &lt;literal datatype="http://www.w3.org/2001/XMLSchema#integer"&gt;3&lt;/literal&gt;
     &lt;/binding&gt;
   &lt;/result&gt;
   &lt;result&gt;
     &lt;binding name="name"&gt;
       &lt;literal&gt;Bob&lt;/literal&gt;
     &lt;/binding&gt;
     &lt;binding name="count"&gt;
       &lt;literal datatype="http://www.w3.org/2001/XMLSchema#integer"&gt;1&lt;/literal&gt;
     &lt;/binding&gt;
   &lt;/result&gt;
   &lt;result&gt;
     &lt;binding name="name"&gt;
       &lt;literal&gt;Charlie&lt;/literal&gt;
     &lt;/binding&gt;
     &lt;binding name="count"&gt;
       &lt;literal datatype="http://www.w3.org/2001/XMLSchema#integer"&gt;1&lt;/literal&gt;
     &lt;/binding&gt;
   &lt;/result&gt;
 &lt;/results&gt;
&lt;/sparql&gt;
</pre>

<p><b>JSON:</b></p>

<pre>{
  "head": {
    "vars": [ "name" , "count" ]
  } ,
  "results": {
    "bindings": [
      {
        "name": { "type": "literal" , "value": "Alice" } ,
        "count": { "datatype": "http://www.w3.org/2001/XMLSchema#integer" , "type": "typed-literal" , "value": "3" }
      } ,
      {
        "name": { "type": "literal" , "value": "Bob" } ,
        "count": { "datatype": "http://www.w3.org/2001/XMLSchema#integer" , "type": "typed-literal" , "value": "1" }
      } ,
      {
        "name": { "type": "literal" , "value": "Charlie" } ,
        "count": { "datatype": "http://www.w3.org/2001/XMLSchema#integer" , "type": "typed-literal" , "value": "1" }
      }
    ]
  }
}
</pre>

<p><br><b>CSV:</b></p>

<pre>name,count
Alice,3
Bob,1
Charlie,1
</pre>

<p><br><b>TSV:</b></p>

<pre>?name&lt;TAB&gt;?count
"Alice"&lt;TAB&gt;3
"Bob"&lt;TAB&gt;1
"Charlie"&lt;TAB&gt;1
</pre>

<p>（<i><b>注:</b> ここでは、例示目的のためだけに、タブ文字を目視できるように</i>「<tt>&lt;TAB&gt;</tt>」<i>とマークアップしています。</i>）</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-federated-query" id="sparql11-federated-query"></a>4 SPARQL 1.1統合クエリ</h2>

<p><a href="www.w3.org/TR/sparql11-federated-query/" class="external text" title="http://www.w3.org/TR/sparql11-federated-query/" rel="nofollow">SPARQL 1.1統合クエリ</a>・ドキュメントは、サブクエリを様々なSPARQLエンドポイントに明示的に委譲する（delegate）ための基礎的な<a href="www.w3.org/TR/sparql11-query/" class="external text" title="http://www.w3.org/TR/sparql11-query/" rel="nofollow">SPARQL 1.1クエリ言語</a>の拡張について記述しています。</p>

<p>例えば、このドキュメントの例では、アリスの友達の中に、DBpediaにおいて&lt;<a href="dbpedia.org/resource/Snoopy" class="external text" title="http://dbpedia.org/resource/Snoopy" rel="nofollow">http://dbpedia.org/resource/Snoopy</a>&gt;というIRIで識別される資源と同じ名前を持つ人がいるかを知りたいとします。これは、次のように、友達の名前に対するクエリを、<tt><a href="dbpedia.org/sparql" class="external free" title="http://dbpedia.org/sparql" rel="nofollow">http://dbpedia.org/sparql</a></tt>のSPARQLエンドポイントに対するリモート呼び出しと組み合わせ、<tt>SERVICE</tt>キーワードを用いて、&lt;<a href="dbpedia.org/resource/Snoopy" class="external text" title="http://dbpedia.org/resource/Snoopy" rel="nofollow">http://dbpedia.org/resource/Snoopy</a>&gt;の名前を見つけ出すことで可能となります。</p>

<pre>PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
SELECT ?name
WHERE {
    &lt;http://example.org/alice#me&gt; foaf:knows [ foaf:name ?name ] .
    SERVICE &lt;http://dbpedia.org/sparql&gt; { &lt;http://dbpedia.org/resource/Snoopy&gt; foaf:name ?name }
}
</pre>

<p>この結果は、次のとおりです。</p>

<table border="1" align="center" style="text-align:center;">
  <tr>
    <td>?name</td>
  </tr>
  <tr>
    <td>"Snoopy"@en</td>
  </tr>
</table>

<p>このとき、<tt>WHERE</tt>部分のパターンの最初の部分は、ローカルのSPARQLサービスとの一致を保っていますが、<tt>SERVICE</tt>というキーワードの後のパターンの評価は、個々のリモートのSPARQLサービスに委譲されます。</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-entailment" id="sparql11-entailment"></a>5 SPARQL 1.1含意レジーム</h2>

<p>SPARQLは、RDFスキーマやOWL公理などの形で、オントロジーの情報と一緒に使用できます。例えば、この例のSPARQLサービスには、アリスに関するデータとは別に、RDFスキーマ[<a href="#RDF-Schema">RDF-Schema</a>]形式のオントロジー情報と、FOAF語彙を定義しているOWL[<a href="#OWL2-Overview">OWL2-Overview</a>]構成子が読み込まれていると想定しましょう。</p>

<p><a href="xmlns.com/foaf/0.1/">FOAF</a>オントロジー:（抜粋のみ）</p>

<pre> @prefix foaf: &lt;<a href="xmlns.com/foaf/0.1/" class="external free" title="http://xmlns.com/foaf/0.1/" rel="nofollow">http://xmlns.com/foaf/0.1/</a>&gt; .
 @prefix rdfs: &lt;<a href="www.w3.org/2000/01/rdf-schema#" class="external free" title="http://www.w3.org/2000/01/rdf-schema#" rel="nofollow">http://www.w3.org/2000/01/rdf-schema#</a>&gt; .
 ...
 foaf:name rdfs:subPropertyOf rdfs:label .
 ...
</pre>

<p>次のクエリは、人のラベルを問い合わせます。</p>

<pre>SELECT ?label 
WHERE { ?person rdfs:label ?label }
</pre>

<p>（標準的な<a href="www.w3.org/TR/rdf-mt/#entail" class="external text" title="http://www.w3.org/TR/rdf-mt/#entail" rel="nofollow">シンプルな含意</a>に加えて）特殊な含意レジームに対応していないSPARQLエンジンは、このクエリに対して結果を返さないでしょうが、RDFのスキーマに対応したクエリ・エンジンは結果を返すでしょう。</p>

<table border="1" align="center" style="text-align:center;">
  <tr>
    <td>?label</td>
  </tr>
  <tr>
    <td>"Alice"</td>
  </tr>
  <tr>
    <td>"Bob"</td>
  </tr>
  <tr>
    <td>"Charlie"</td>
  </tr>
  <tr>
    <td>"Snoopy"@en</td>
  </tr>
</table>

<p>その理由は、<tt>foaf:name</tt>が<tt>rdfs:label</tt>のサブプロパティーだからです。</p>

<p><a href="www.w3.org/TR/sparql11-entailment/" class="external text" title="http://www.w3.org/TR/sparql11-entailment/" rel="nofollow">SPARQL 1.1含意レジーム</a>仕様は、どの回答をどの含意レジーム下で提供すべきかを定義し、RDF、RDFスキーマ、D-含意[<a href="#RDF-MT">RDF-MT</a>]、OWL[<a href="#OWL2-Overview">OWL2-Overview</a>]、RIF[<a href="#RIF-Overview">RIF-Overview</a>]の含意レジームを定めています。</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-update" id="sparql11-update"></a>6 SPARQL 1.1更新言語</h2>

<p><a href="www.w3.org/TR/sparql11-update/" class="external text" title="http://www.w3.org/TR/sparql11-update/" rel="nofollow">SPARQL 1.1更新</a>仕様は、SPARQL 1.1更新リクエストの構文とセマンティクスを定義し、さらに、様々な使用例を提供します。更新オペレーションは、複数の連続するリクエストで構成し、グラフ・ストア内のグラフのコレクションで実行することができます。オペレーションは、グラフ・ストア内のRDFグラフを更新、作成、削除するために提供されます。</p>

<p>例えば、次のリクエストは、ドロシー（Dorothy）という名前のアリスの新しい友達を、この例のSPARQLサービスのデフォルトのグラフに挿入し、その後、英語のタグを持つアリスのすべての友達の名前を削除します。</p>

<pre>
PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

INSERT DATA { &lt;http://www.example.org/alice#me&gt; foaf:knows [ foaf:name "Dorothy" ]. } ;
DELETE { ?person foaf:name ?mbox } 
WHERE { &lt;http://www.example.org/alice#me&gt; foaf:knows ?person .
        ?person foaf:name ?name FILTER ( lang(?name) = "EN" ) .}

</pre>

<p>2番目のオペレーションが示しているとおり、挿入と削除はグラフ・ストアに対するクエリの結果に依存する可能性があり、WHERE部分で使用される個々の構文は、<a href="www.w3.org/TR/sparql11-query/" class="external free" title="http://www.w3.org/TR/sparql11-query/" rel="nofollow">SPARQL 1.1クエリ言語</a>に基づいています。</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-protocol" id="sparql11-protocol"></a>7 SPARQL 1.1 RDF用プロトコル</h2>

<p>RDF用の<a href="www.w3.org/TR/sparql11-protocol/" class="external text" title="http://www.w3.org/TR/sparql11-protocol/" rel="nofollow">SPARQL 1.1プロトコル</a>は、SPARQL 1.1クエリと更新リクエストを、HTTPでSPARQLサービスに転送する方法を定義しています。リクエストをHTTPのGETとPOSTのオペレーションにマッピングする方法と、そのようなリクエストに対する個々のHTTPレスポンスがどのようなものになるべきかも定義しています。</p>

<p>例えば、<tt><a href="www.example.org/sparql/" class="external free" title="http://www.example.org/sparql/" rel="nofollow">http://www.example.org/sparql/</a></tt>で管理されているSPARQLクエリのサービスに対して発行された上記の3項のクエリは、この仕様に従い、1つのHTTP GETリクエストにまとめることができます（クエリ文字列がURIでコード化されている場合）。</p>

<pre>GET /sparql/?query=PREFIX%20foaf%3A%20%3Chttps%3A%2F%2Fhttps%3A%2F%2Ftawasl-zahra.github.io%2Fwhimsywondersxmlns.com%2Ffoaf%2F0.1%2F%3E%0ASELECT%20%3Fname%20%28COUNT%28%3Ffriend%29%20AS%20%3Fcount%29%0AWHERE%20%7B%20%0A%20%20%20%20%3Fperson%20foaf%3Aname%20%3Fname%20.%20%0A%20%20%20%20%3Fperson%20foaf%3Aknows%20%3Ffriend%20.%20%0A%7D%20GROUP%20BY%20%3Fperson%20%3Fname HTTP/1.1
Host: www.example.org
User-agent: my-sparql-client/0.1
</pre>

<p>プロトコル仕様では、サポートされているHTTPメソッドに加え、レスポンスのコード化およびクエリと更新リクエストに対する様々なオペレーションに関する詳細も記述しています。</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-service-description" id="sparql11-service-description"></a>8 SPARQL 1.1サービス記述</h2>

<p><a href="www.w3.org/TR/sparql11-service-description/" class="external text" title="http://www.w3.org/TR/sparql11-service-description/" rel="nofollow">SPARQL 1.1サービス記述</a>ドキュメントは、<a href="www.w3.org/TR/sparql11-protocol/" class="external text" title="http://www.w3.org/TR/sparql11-protocol/" rel="nofollow">SPARQL 1.1 RDF用プロトコル</a>で利用可能なSPARQLサービスを発見する方法と、それを記述するためのRDF語彙を記述しています。</p>

<p>この仕様に従い、サービス・エンドポイントは、追加の（クエリまたは更新リクエストの）パラメータなしにHTTP GETオペレーションでアクセスした時に、提供するサービスのRDF記述を返すべきです。例えば、<tt><a href="www.example.org/sparql/" class="external free" title="http://www.example.org/sparql/" rel="nofollow">http://www.example.org/sparql/</a></tt>で管理されているSPARQLエンドポイントに対し発行された次のHTTPリクエスト</p>

<pre>GET /sparql/ HTTP/1.1
Host: www.example.org
</pre>

<p>は、サービス記述語彙を用いてRDF記述を返すべきです。例えば、このような記述は、個々のエンドポイントのデフォルト・データセット、あるいはサポートされているSPARQLクエリ言語機能と含意レジームに関する情報を提供します。</p>

</div>
<div class="div1">

<h2>
<a name="sparql11-graphstore-http-protocol" id="sparql11-graphstore-http-protocol"></a>9 SPARQL 1.1グラフ・ストアHTTPプロトコル</h2>

<p>RDFデータを処理する多くのアプリケーションやサービスは、フルの<a href="www.w3.org/TR/sparql11-update/" class="external text" title="http://www.w3.org/TR/sparql11-update/" rel="nofollow">SPARQL 1.1更新言語</a>を必要としないかもしれません。そのため、<a href="www.w3.org/TR/sparql11-http-rdf-update/" class="external text" title="http://www.w3.org/TR/sparql11-http-rdf-update/" rel="nofollow">SPARQL 1.1グラフ・ストアHTTPプロトコル</a>は、HTTPオペレーションで直接グラフのコレクションを管理するオペレーションを実行する手段を提供します。</p>

<p>例えば、上記の4項の更新リクエストの最初の部分は、RDFグラフにトリプルをシンプルに挿入したものです。このプロトコルをサポートするサービスでは、（SPARQL 1.1更新リクエストではなく）このような挿入は、RDFトリプルをペイロードとして挿入して、HTTP POSTオペレーションで直接行なうことができます。</p>

<pre>POST /rdf-graphs/service?graph=https%3A%2F%2Fhttps%3A%2F%2Ftawasl-zahra.github.io%2Fwhimsywonderswww.example.org%2Falice HTTP/1.1
Host: example.org
Content-Type: text/turtle
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
&lt;http://www.example.org/alice#me&gt; foaf:knows [ foaf:name "Dorothy" ] .
</pre>

<p><br>RDFグラフを変更（例えば、グラフ全体を入れ替えるためにHTTP PUTを用いるため、またはRDFグラフを取り除くためにHTTP DELETEを用いるために）したり、（HTTP GETで）検索したりするための、その他の直接的なHTTPオペレーションについては、<a href="www.w3.org/TR/sparql11-http-rdf-update/" class="external text" title="http://www.w3.org/TR/sparql11-http-rdf-update/" rel="nofollow">SPARQL 1.1グラフ・ストアHTTPプロトコル</a>仕様に記述されており、フルの<a href="www.w3.org/TR/sparql11-query/" class="external text" title="http://www.w3.org/TR/sparql11-query/" rel="nofollow">SPARQL 1.1クエリ</a>言語と<a href="www.w3.org/TR/sparql11-update/" class="external text" title="http://www.w3.org/TR/sparql11-update/" rel="nofollow">SPARQL 1.1更新</a>言語とを組み合わせたSPARQL 1.1プロトコルの軽量版ととらえることができます。</p>

</div>
<div class="div1">

<h2>
<a name="Acknowledgements" id="Acknowledgements"></a>10 謝辞</h2>

<p>SPARQL 1.1仕様に積極的に貢献いただいたW3C SPARQLワーキンググループのメンバーは次のとおりです。</p>

<ul>
  <li> Carlos Buil Aranda, Universidad Politecnica de Madrid</li>
  <li> Olivier Corby, Institut National de Recherche en Informatique et en Automatique (INRIA)</li>
  <li> Souripriya Das, Oracle Corporation</li>
  <li> Lee Feigenbaum, Cambridge Semantics</li>
  <li> Paul Gearon, Revelytix Inc</li>
  <li> Birte Glimm, Universitat Ulm</li>
  <li> Steve Harris, Garlik Ltd</li>
  <li> Sandro Hawke, W3C</li>
  <li> Ivan Herman, W3C</li>
  <li> Nicholas Humfrey, BBC</li>
  <li> Nico Michaelis, Dreamlab Technologies AG</li>
  <li> Chimezie Ogbuji, Invited Expert</li>
  <li> Matthew Perry, Oracle Corporation</li>
  <li> Alexandre Passant, DERI, National University of Ireland, Galway</li>
  <li> Axel Polleres, Siemens AG</li>
  <li> Eric Prud'hommeaux, W3C</li>
  <li> Andy Seaborne, The Apache Software Foundation </li>
  <li> Gregory Todd Williams, Rensselaer Polytechnic Institute</li>
</ul>

</div>
<div class="div1">

<h2>
<a name="sec-bibliography" id="sec-bibliography"></a>11 参考文献</h2>

<dl>
  <dt class="label">
<a name="SPARQL-XML-Result" id="SPARQL-XML-Result"></a>SPARQL-XML-Result</dt>
  <dd>
<cite><a href="www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321">SPARQL Query Results XML Format (Second Edition)</a></cite>, D. Beckett, J. Broekstra, Editors, W3C Recommendation, 21 March 2013, http://www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321. <a href="www.w3.org/TR/rdf-sparql-XMLres/" title="Latest version of SPARQL Query Results XML Format (Second Edition)">Latest version</a> available at http://www.w3.org/TR/rdf-sparql-XMLres.  (See http://www.w3.org/TR/rdf-sparql-XMLres/.)</dd>
  <dt class="label">
<a name="RDF-Schema" id="RDF-Schema"></a>RDF-Schema</dt>
  <dd>
<a href="www.w3.org/TR/rdf-schema/"><cite>RDF Vocabulary Description Language 1.0: RDF Schema</cite></a>, ed. Dan Brickley and R.V. Guha, W3C Recommendation 10 February 2004  (See http://www.w3.org/TR/rdf-schema/.)</dd>
  <dt class="label">
<a name="RDF-MT" id="RDF-MT"></a>RDF-MT</dt>
  <dd>
<a href="www.w3.org/TR/rdf-mt/"><cite>RDF Semantics</cite></a>, ed. Pat Hayes, W3C Recommendation 10 February 2004  (See http://www.w3.org/TR/rdf-mt/.)</dd>
  <dt class="label">
<a name="OWL2-Overview" id="OWL2-Overview"></a>OWL2-Overview</dt>
  <dd>
<a href="www.w3.org/TR/owl2-overview/"><cite>OWL 2 Web Ontology Language Document Overview</cite></a>, W3C OWL Working Group, W3C Recommendation 27 October 2009  (See http://www.w3.org/TR/owl2-overview/.)</dd>
  <dt class="label">
<a name="RIF-Overview" id="RIF-Overview"></a>RIF-Overview</dt>
  <dd>
<a href="www.w3.org/TR/rif-overview/"><cite>RIF Overview</cite></a>, ed. Michael Kifer and Harold Boley, W3C Working Group Note 22 June 2010  (See http://www.w3.org/TR/rif-overview/.)</dd>
  <dt class="label">
<a name="Turtle" id="Turtle"></a>Turtle</dt>
  <dd>
<a href="www.w3.org/TR/turtle/"><cite>Turtle - Terse RDF Triple Language</cite></a>, ed Eric Prud'hommeaux and Gavin Carothers, Working Draft 09 August 2011.  (See http://www.w3.org/TR/turtle/.)</dd>
  <dt class="label">
<a name="SPARQL10-Query" id="SPARQL10-Query"></a>SPARQL10-Query</dt>
  <dd>
<a href="www.w3.org/TR/rdf-sparql-query/"><cite>SPARQL Query Language for RDF</cite></a>, ed. Eric Prud'hommeaux and Andy Seaborne, W3C Recommendation 15 January 2008  (See http://www.w3.org/TR/rdf-sparql-query/.)</dd>
</dl>

</div>
<div>

<h2 id="changelog">変更履歴</h2>

<h3 id="changes-since-pr">勧告案以後の変更履歴</h3>

<ul>
  <li>廃止ドキュメントへの参考文献を削除</li>
</ul>

<h3 id="changes-since-lc">最終呼びかけ以後の変更履歴</h3>

<ul>
  <li>「REST」という用語を削除し、参考文献を更新</li>
</ul>

</div>
</div>

</body>
</html>