<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>SPARQLクエリ結果XMLフォーマット（第2版）</title>
<style type="text/css">
/*<![CDATA[*/
span.cvs-id     {color: gray; font-size:80%}

.toc {
    text-indent: 0;
}
DIV.toc UL UL, DIV.toc OL OL {margin-left: 0}
DIV.toc UL UL UL, DIV.toc OL OL OL {margin-left: 1em}
DIV.toc UL UL UL UL, DIV.toc OL OL OL OL {margin-left: 0}
LI.tocline1 {font-weight: bold}
LI.tocline2 {font-weight: normal}
LI.tocline4 {font-style: italic}
/* DIV.subtoc UL, DIV.subtoc OL {list-style: none} */
/* The border in the following rule crashes NN4 on fonts.html :-(
DIV.subtoc {padding: 1em; border: solid black thin; margin: 1em 0;
    background: #ddd}
*/
DIV.toc, UL.index, DT {
    text-align: left
}

PRE.xmlresult {
  margin: 1em 4em 1em 4em;
  color: black;
  background-color: #eee;
  padding: 0.5em;
  border-color: #006;
  border-width: 1px;
  border-style: dotted;
}

DIV.mime {
  margin: 1em 4em 1em 4em;
  color: black;
  background-color: white;
  padding: 0.5em;
  border-color: black;
  border-width: 1px;
  border-style: solid;
}

.defn		{ /*border: double 1px #888888; *//* Buggy */
                  border: 2px solid #888888;
                  padding: 1ex 2ex 0.5ex 2ex ; /* top, right, bottom, left */
                  margin: 1em 6em 1em 2em ; 
                  page-break-inside: avoid ;
                  background-color: #F0F8F8 ; }
div.defn p	{ margin-top: 1ex ; margin-bottom: 1.5ex ;}
div.defn ul	{ margin-top: 1ex ; margin-bottom: 1.5ex ;}
span.definedTerm	{font-weight: bold;}

.issue          { color: #ff3f3f }
ul.issue        {}
.note           { margin-left: 2.5em; margin-right: 4ex ; font-size: 85% ; font-style: italic ; }

/*]]>*/
</style>
<link rel="stylesheet" type="text/css" href="www.w3.org/StyleSheets/TR/W3C-REC">
</head>

<body>

<p><a href="www.asahi-net.or.jp/~ax2s-kmtn/index.html"><img src="www.asahi-net.or.jp/~ax2s-kmtn/images/logo.gif" alt="CyberLibrarian" width="105" height="19"></a></p>

<p>【注意】 このドキュメントは、W3Cの<a href="www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321/">SPARQL Query Results XML Format (Second Edition) W3C Recommendation 21 March 2013</a>の和訳です。<br>
このドキュメントの正式版はW3Cのサイト上にある英語版であり、このドキュメントには翻訳に起因する誤りがありえます。誤訳、誤植などのご指摘は、<a href="www.asahi-net.or.jp/~ax2s-kmtn/mail.html">訳者</a>までお願い致します。</p>

<p>First Update: 2013年8月7日</p>

<hr>

<div class="head">

<p><a href="www.w3.org/"><img src="www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72"></a></p>

<h1 id="main">SPARQLクエリ結果XMLフォーマット（第2版）</h1>

<h2><a name="w3c-doctype" id="w3c-doctype">W3C勧告 2013年3月21日</a></h2>

<dl>
  <dt>本バージョン:</dt>
  <dd><a href="www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321/">http://www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321/</a></dd>
  <dt>最新バージョン:</dt>
  <dd><a href="www.w3.org/TR/rdf-sparql-XMLres/">http://www.w3.org/TR/rdf-sparql-XMLres/</a></dd>
  <dt>旧バージョン:</dt>
  <dd><a href="www.w3.org/TR/2012/PER-rdf-sparql-XMLres-20121108/">http://www.w3.org/TR/2012/PER-rdf-sparql-XMLres-20121108/</a></dd>
  <dt>旧勧告:</dt>
  <dd><a href="www.w3.org/TR/2008/REC-rdf-sparql-XMLres-20080115/">http://www.w3.org/TR/2008/REC-rdf-sparql-XMLres-20080115/</a></dd>
  <dt>第2版の編集者:</dt>
  <dd>Sandro Hawke</dd>
  <dt>編集者:</dt>
  <dd>
<a href="purl.org/net/dajobe/">Dave Beckett</a>, <a href="www.ilrt.bris.ac.uk/">Institute for Learning and Research Technology (ILRT)</a>, <a href="www.bristol.ac.uk/">University of Bristol</a>
</dd>
  <dd>Jeen Broekstra, <a href="wwwis.win.tue.nl/">Information Systems Group</a>, <a href="www.tue.nl/">Eindhoven University of Technology</a>
</dd>
</dl>

<p>このドキュメントに対する<a href="www.w3.org/2013/sparql-errata#rdf-sparql-XMLres"><strong>正誤表</strong></a>を参照してください。いくつかの規範的な修正が含まれているかもしれません。</p>

<p><a href="www.w3.org/2003/03/Translations/byTechnology?technology=rdf-sparql-XMLres"><strong>翻訳版</strong></a>も参照してください。</p>

<p class="copyright"><a href="www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> &#xa9; 2013 <a href="www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>&#xae;</sup> (<a href="www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="www.keio.ac.jp/">Keio</a>, <a href="ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved. W3C <a href="www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p>

</div>

<hr title="Separator for header">

<div>

<h2 class="notoc"><a id="abstract" name="abstract">要約</a></h2>

<p>RDFは、WWW資源に関する情報を表すための、柔軟で、拡張可能な手段です。これは、とりわけ、個人情報、ソーシャル・ネットワーク、音楽や画像のようなデジタル・アーティファクトに関するメタデータを表現し、異なるソースの情報を統合する手段を提供するために用いられます複数の実装を有するRDFデータ用の標準クエリ言語は、開発者やエンドユーザに、この広範囲な分野にわたる情報のクエリ結果を記述し利用する方法を提供します。</p>

<p>このドキュメントでは、<a href="www.w3.org/2001/sw/Activity">アクティビティ声明</a>で記述されているように、<a href="www.w3.org/2001/sw/">セマンティック・ウェブ・アクティビティ</a>の一部である<a href="www.w3.org/2001/sw/DataAccess/">W3CのRDFデータ・アクセス・ワーキンググループ</a>（DAWG）によって開発された、RDF用のクエリ言語<acronym title="Simple Protocol And RDF Query Language">SPARQL</acronym>で提供される変数バインディングのためのXMLフォーマットおよびブール結果フォーマットについて説明します。</p>

</div>
<div>

<h2 id="status">このドキュメントのステータス</h2>

<h4 id="may-be">置き換えられる可能性</h4>
    
<p><em>この項は、このドキュメントの公開時のステータスについて記述しています。他のドキュメントがこのドキュメントに取って代わることがありえます。現行のW3Cの刊行物およびこの技術報告の最新の改訂版のリストは、http://www.w3.org/TR/の<a href="www.w3.org/TR/">W3C技術報告インデックス</a>にあります。</em></p>

<h4 id="related">一連のドキュメント</h4>

<p>このドキュメントは、<a href="www.w3.org/2001/sw/DataAccess/">SPARQLワーキンググループ</a>が作成した以下の11のSPARQL 1.1勧告のうちの1つです。</p>

<ol>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-overview-20130321">SPARQL 1.1概要</a><!-- sparql11-overview -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-query-20130321">SPARQL 1.1クエリ言語</a><!-- sparql11-query -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-update-20130321">SPARQL 1.1更新</a><!-- sparql11-update -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-service-description-20130321">SPARQL 1.1サービス記述</a><!-- sparql11-service-description -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-federated-query-20130321">SPARQL 1.1統合クエリ</a><!-- sparql11-federated-query -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-results-json-20130321">SPARQL 1.1クエリ結果JSONフォーマット</a><!-- sparql11-results-json -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-results-csv-tsv-20130321">SPARQL 1.1クエリ結果CSVおよびTSVフォーマット</a><!-- sparql11-results-csv-tsv -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321">SPARQLクエリ結果XMLフォーマット（第2版）</a><!-- rdf-sparql-XMLres -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-entailment-20130321">SPARQL 1.1含意レジーム</a><!-- sparql11-entailment -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-protocol-20130321">SPARQL 1.1プロトコル</a><!-- sparql11-protocol -->
</li>
<li>
<a href="www.w3.org/TR/2013/REC-sparql11-http-rdf-update-20130321">SPARQL 1.1グラフ・ストアHTTPプロトコル</a><!-- sparql11-http-rdf-update -->
</li>
</ol>

<h4 class="no-toc no-num" id="status-changes">本質的な変更なし</h4>

<p><a href="www.w3.org/TR/2012/PER-rdf-sparql-XMLres-20121108/">旧バージョン</a>以降、このドキュメントには実質的な変更はありませんでした。マイナーな編集上の変更がある場合には、<a href="#changes-since-pr">変更履歴</a>に詳細が記述されており、<a href="www.asahi-net.or.jp/~ax2s-kmtn/internet/rdf/diff">色分けした差分</a>として見ることができます。</p>


<h4 class="no-toc no-num" id="please">コメントの送信</h4>

<p><a class="mailto" href="mailto:public-rdf-dawg-comments@w3.org">public-rdf-dawg-comments@w3.org</a>（<a class="http" href="lists.w3.org/Archives/Public/public-rdf-dawg-comments/">公開アーカイブ</a>）にコメントをお送りください。このドキュメントに対する<a href="www.w3.org/2009/sparql/">SPARQLワーキンググループ</a>の作業は完了していますが、コメントは<a href="www.w3.org/2013/sparql-errata">正誤表</a>や今後の改定で扱われることがあります。公開討論は、 <a class="mailto" href="mailto:public-sparql-dev@w3.org">public-sparql-dev@w3.org</a>（<a class="http" href="lists.w3.org/Archives/Public/public-sparql-dev/">公開アーカイブ</a>）で歓迎します。</p>
    
<h4 class="no-toc no-num" id="endorsement">W3Cによる承認</h4>
    
<p><em>このドキュメントは、W3Cメンバー、ソフトウェア開発者、他のW3Cグループ、および他の利害関係者によりレビューされ、W3C勧告として管理者の協賛を得ました。これは確定済みドキュメントであり、参考資料として用いたり、別のドキュメントで引用することができます。勧告の作成におけるW3Cの役割は、仕様に注意を引き付け、広範囲な開発を促進することです。これによってウェブの機能性および相互運用性が増強されます。</em></p>

<h4 id="patents">特許</h4>
    
<p><em>このドキュメントは、<a href="www.w3.org/Consortium/Patent-Policy-20040205/">2004年2月5日のW3C特許方針</a>の下で活動しているグループによって作成されました。W3Cは、このグループの成果物に関連する<a href="www.w3.org/2004/01/pp-impl/35463/status" rel="disclosure">あらゆる特許の開示の公開リスト</a>を維持し、このページには特許の開示に関する指示も含まれています。<a href="www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">不可欠な請求権</a>（Essential Claim(s)）を含んでいると思われる特許に関して実際に知っている人は、<a href="www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">W3C特許方針の6項</a>に従って情報を開示しなければなりません。</em></p>

</div>

<hr>

<div class="toc">

<h2><a id="contents" name="contents">目次</a></h2>

<ul class="toc">
  <li class="tocline1"><a href="#introduction" class="tocxref">1. はじめに</a></li>
  <li class="tocline1"><a href="#definition" class="tocxref">2. 定義</a></li>
  <li class="tocline2"><a href="#docElement" class="tocxref">2.1. ドキュメント要素</a></li>
  <li class="tocline2"><a href="#head" class="tocxref">2.2. ヘッダ</a></li>
  <li class="tocline2"><a href="#results" class="tocxref">2.3. 結果</a></li>
  <li class="tocline1"><a href="#examples" class="tocxref">3. 例</a></li>
  <li class="tocline1"><a href="#schemas" class="tocxref">4. XMLスキーマ</a></li>
  <li class="tocline1"><a href="#mime" class="tocxref">5. インターネット・メディア・タイプ、ファイル拡張子、およびマッキントッシュ・ファイル・タイプ</a></li>
  <li class="tocline1"><a href="#references" class="tocxref">6. 参考文献</a></li>
</ul>

</div>

<h2>1. <a id="introduction" name="introduction">はじめに</a>
</h2>

<p><cite><a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/">RDF用クエリ言語SPARQL</a></cite> <a href="#ref-sparql-query">[SPARQL-QUERY]</a>では、いくつかの<em>Query Result Forms</em>（<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#QueryForms">SPARQLクエリの10項</a>）が定義されています。このドキュメントは、<code>SELECT</code>クエリ（<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#select">SPARQLクエリの10.2項</a>）の変数バインディング・クエリ結果と、<code>ASK</code>クエリのブールクエリ結果（<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#ask">SPARQLクエリの10.5項</a>）を<cite><a href="www.w3.org/TR/2004/REC-xml-20040204/">XML</a></cite> <a href="#ref-xml">[XML]</a>でコード化する<a href="#defn-srd">SPARQL結果ドキュメント</a>を定義します。</p>

<p>同じような設計に従うけれども、XMLを使用しない結果フォーマットが他に2つあり、それらは、<a href="www.w3.org/TR/sparql11-results-json/">SPARQL 1.1クエリ結果JSONフォーマット</a> [<a href="#ref-srj">SRJ</a>]と、<a href="www.w3.org/TR/sparql11-results-csv-tsv/">SPARQL 1.1クエリ結果CSVおよびTSVフォーマット</a> [<a href="#ref-src">SRC</a>]です。</p>

<h2><a id="definition" name="definition">2. 定義</a></h2>

<div class="defn">

<p><b>定義:</b> <a name="defn-srd">SPARQL結果ドキュメント</a></p>

<p>A <span class="definedTerm">SPARQL結果ドキュメント</span>は、<a href="#schemas">4項</a>のRELAX NG XMLスキーマまたはW3C XMLスキーマのどちらかに対して有効なXMLドキュメントです。</p>

</div>

<h3><a id="docElement" name="docElement">2.1. ドキュメント要素</a></h3>

<p><a href="#defn-srd">SPARQL結果ドキュメント</a>は、次のように記述された名前空間<code>http://www.w3.org/2005/sparql-results#</code>の<code>sparql</code>というドキュメント要素で始まります。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
 ...
&lt;/sparql&gt;
</pre>

<p><code>sparql</code>要素内には、<code>head</code>と結果要素（<code>results</code>または<code>boolean</code>のどちらか）という2つの下位要素があり、これらは、この順序で出現しなければなりません。</p>

<h3><a id="head" name="head">2.2. ヘッダ</a></h3>

<p><code>head</code>要素は、<code>sparql</code>要素の最初の子要素です。</p>

<p>変数バインディング・クエリ結果では、<code>head</code>は、<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#defn_sparqlSolutionSequence">ソリューション・シーケンス</a>内の<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#defn_QueryVariable">クエリ変数</a>名の集合を記述した要素のシーケンスを含まなければなりません（ここでは、クエリ結果と呼びます）。</p>

<p>シーケンス内の変数名の順序は、SPARQLクエリにおける<code>SELECT</code>ステートメントの引数に与えられた変数名の順序です。<code>SELECT *</code>を用いた場合は、名前の順序は定義されません。</p>

<p><code>head</code>要素内では、選択された変数名の順序付きシーケンスは、<code>name</code>属性の値として変数名を持つ<code>variable</code>という空の子要素を作成するために用いられ、次のようなドキュメントを出力します。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;

  &lt;head&gt;
    &lt;variable name="x"/&gt;
    &lt;variable name="hpage"/&gt;
    &lt;variable name="name"/&gt;
    &lt;variable name="mbox"/&gt;
    &lt;variable name="blurb"/&gt;
  &lt;/head&gt;
...
&lt;/sparql&gt;
</pre>

<p>ブール・クエリ結果には、<code>head</code>内では要素は必要なく、<code>variable</code>は存在してはなりません。</p>

<p>また、任意のクエリ結果では、<code>head</code>には、クエリ結果に関する何らかの追加メタデータへのリンクを提供する相対URIを含んだ<code>href</code>属性を有する<code>link</code>子供要素を含むこともできます。相対URIは、通常はクエリ結果フォーマット・ドキュメントURIである、スコープ内の基底URIに対して解決されます。<code>link</code>要素は、存在する任意の<code>variable</code>要素の後で出現しなければなりません。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;

  &lt;head&gt;
    ...
    &lt;link href="metadata.rdf"/&gt;
  &lt;/head&gt;
...
&lt;/sparql&gt;
</pre>

<h3><a id="results" name="results">2.3. 結果</a></h3>

<p><code>sparql</code>の2番目の子要素は、<code>head</code>の後で出現しなければならず、<code>results</code>か<code>boolean</code>のどちらかです。クエリ結果が空であっても、これは記述されます。</p>

<h3><a id="vb-results" name="vb-results">2.3.1. 変数バインディング結果</a></h3>

<p><code>results</code>要素には、クエリ結果の完全なシーケンスが含まれます。</p>

<p>クエリ結果内の各<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#defn_sparqlSolutionMapping">クエリ・ソリューション</a>に対し、<code>results</code>の<code>result</code>子要素が追加され、次のようなドキュメントを出力します。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
  ...  head ...

  &lt;results&gt;
    &lt;result&gt;...
    &lt;/result&gt;
    &lt;result&gt;...
    &lt;/result&gt;
    ...
  &lt;/results&gt;

&lt;/sparql&gt;
</pre>

<p>各<code>result</code>要素は、結果の中の1つの<em>クエリ・ソリューション</em>に対応しており、ソリューションに出現する各<em>クエリ変数</em>に対する子要素を含んでいます（特定の順序ではなく）。これは、クエリ変数がどのように<a href="www.w3.org/TR/2008/REC-rdf-sparql-query-20080115/#defn_RDFTerm">RDF用語</a>にバインドするかを記録するために用いられます。</p>

<p>ソリューション内の各バインディングは、<code>name</code>属性の値としてクエリ変数名を持つ<code>result</code>の子供としての<code>binding</code>要素として記述されます。そのため、2つの変数<em>x</em>と<em>hpage</em>をバインドした結果は、次のようなものになるでしょう。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
  &lt;head&gt;
    &lt;variable name="x"/&gt;
    &lt;variable name="hpage"/&gt;
  &lt;/head&gt;

  &lt;results&gt;
    &lt;result&gt;
      &lt;binding name="x"&gt; ... &lt;/binding&gt;
      &lt;binding name="hpage"&gt; ... &lt;/binding&gt;
    &lt;/result&gt;

    &lt;result&gt;
      &lt;binding name="x"&gt; ... &lt;/binding&gt;
      &lt;binding name="hpage"&gt; ... &lt;/binding&gt;
    &lt;/result&gt;
    ...
  &lt;/results&gt;

&lt;/sparql&gt;
</pre>

<p><em>RDF用語</em>であるクエリ変数バインディングの値は、下記の<code>binding</code>の内容として含まれています。</p>

<dl>
  <dt>RDF URI参照<em>U</em><br>
</dt>
  <dd>
<code>&lt;binding&gt;&lt;uri&gt;</code><em>U</em><code>&lt;/uri&gt;&lt;/binding&gt;</code>
</dd>
  <dt>RDFリテラル<em>S</em><br>
</dt>
  <dd>
<code>&lt;binding&gt;&lt;literal&gt;</code><em>S</em><code>&lt;/literal&gt;&lt;/binding&gt;</code>
</dd>
  <dt>言語<em>L</em>を持つRDFリテラル<em>S</em><br>
</dt>
  <dd>
<code>&lt;binding&gt;&lt;literal xml:lang="</code><em>L</em><code>"&gt;</code><em>S</em><code>&lt;/literal&gt;&lt;/binding&gt;</code>
</dd>
  <dt>データ型URI <em>D</em>を持つRDF型付きリテラル<em>S</em><br>
</dt>
  <dd>
<code>&lt;binding&gt;&lt;literal datatype="</code><em>D</em><code>"&gt;</code><em>S</em><code>&lt;/literal&gt;&lt;/binding&gt;</code>
</dd>
  <dt>空白ノード・ラベル<em>I</em><br>
</dt>
  <dd>
<code>&lt;binding&gt;&lt;bnode&gt;</code><em>I</em><code>&lt;/bnode&gt;&lt;/binding&gt;</code>
</dd>
</dl>

<p>特定のソリューションに対し、変数が<em>バインドされていない</em>場合、<code>result</code>要素には、その変数に対する<code>binding</code>要素もは含まれていません。</p>

<p><strong>注意</strong>: 空白ノード・ラベル<em>I</em>は、結果集合XMLドキュメントで有効で、クエリ・グラフの当該RDF用語に対する空白ノード・ラベルといかなる関連性も持つ必要はありません。</p>

<p>このフォーマットでコード化されたクエリ・ソリューションの例は、下記の通りです。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;

  &lt;head&gt;
    &lt;variable name="x"/&gt;
    &lt;variable name="hpage"/&gt;
    &lt;variable name="name"/&gt;
    &lt;variable name="age"/&gt;
    &lt;variable name="mbox"/&gt;
    &lt;variable name="friend"/&gt;
  &lt;/head&gt;

  &lt;results&gt;

    &lt;result&gt; 
      &lt;binding name="x"&gt;
	&lt;bnode&gt;r2&lt;/bnode&gt;
      &lt;/binding&gt;
      &lt;binding name="hpage"&gt;
	&lt;uri&gt;http://work.example.org/bob/&lt;/uri&gt;
      &lt;/binding&gt;
      &lt;binding name="name"&gt;
	&lt;literal xml:lang="en"&gt;Bob&lt;/literal&gt;
      &lt;/binding&gt;
      &lt;binding name="age"&gt;
	&lt;literal datatype="http://www.w3.org/2001/XMLSchema#integer"&gt;30&lt;/literal&gt;
      &lt;/binding&gt;
      &lt;binding name="mbox"&gt;
	&lt;uri&gt;mailto:bob@work.example.org&lt;/uri&gt;
      &lt;/binding&gt;
    &lt;/result&gt;

    ...
  &lt;/results&gt;

&lt;/sparql&gt;
</pre>

<h3><a id="boolean-results" name="boolean-results">2.3.2. ブール結果</a></h3>

<p>ブール結果は、下記の通り、<code>head</code>の直後に、<code>sparql</code>要素の<code>boolean</code>子要素の要素内容として<code>true</code>または<code>false</code>で記述されます。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"&gt;
  ...  head ...

  &lt;boolean&gt;true&lt;/boolean&gt;

&lt;/sparql&gt;
</pre>

<h2><a id="examples" name="examples">3. 例</a></h2>

<h2><a id="vb-examples" name="vb-examples">3.1. 変数バインディング結果の例</a></h2>

<p>クエリ・グラフTurtle/N3データ<a href="www.w3.org/2009/sparql/xml-results/data.n3">data.n3</a>で動作し、XMLで記述された順序付き変数バインディング・クエリ結果<a href="www.w3.org/2009/sparql/xml-results/output.srx">output.srx</a>をもたらす、SPARQLクエリ<code>SELECT</code>の例<a href="www.w3.org/2009/sparql/xml-results/example.rq">example.rq</a>。</p>

<p>このXMLは、<a href="www.w3.org/2009/sparql/xml-results/output-xquery.html">output-xquery.html</a>を出力するサンプルXMLクエリ・スクリプト<a href="www.w3.org/2009/sparql/xml-results/result-to-html.xq">result-to-html.xq</a>を用いるか、<a href="www.w3.org/2009/sparql/xml-results/output-xslt.html">output-xslt.html</a>を出力するXSLTシート<a href="www.w3.org/2009/sparql/xml-results/result-to-html.xsl">result-to-html.xsl</a>を用いてXHTMLに変換できます。</p>

<h2><a id="boolean-examples" name="boolean-examples">3.2. ブール結果の例</a></h2>

<p>クエリ・グラフTurtle/N3データ<a href="www.w3.org/2009/sparql/xml-results/data.n3">data.n3</a>で動作し、XMLで記述されたブール・クエリ結果<a href="www.w3.org/2009/sparql/xml-results/output2.srx">output2.srx</a>をもたらす、<code>ASK</code> PARQLクエリの例<a href="www.w3.org/2009/sparql/xml-results/example2.rq">example2.rq</a>。</p>

<p>このXMLは、<a href="www.w3.org/2009/sparql/xml-results/output-xquery2.html">output-xquery2.html</a>を出力するサンプルXMLクエリ・スクリプト<a href="www.w3.org/2009/sparql/xml-results/result-to-html.xq">result-to-html.xq</a>を用いるか、<a href="www.w3.org/2009/sparql/xml-results/output-xslt2.html">output-xslt2.html</a>を出力するXSLTシート<a href="www.w3.org/2009/sparql/xml-results/result-to-html.xsl">result-to-html.xsl</a>を用いてXHTMLに変換できます。</p>

<h2><a id="schemas" name="schemas">4. XMLスキーマ</a></h2>

<p>次のフォーマットで提供される規範的なXMLスキーマがあります。</p>

<ol>
  <li>RELAX NG<a href="#ref-relaxng">[RELAXNG]</a> Compact<a href="#ref-relaxng-nx">[RELAXNG-COMPACT]</a>は、<a href="www.w3.org/2007/SPARQL/result.rnc">result.rnc</a>
</li>
  <li>RELAX NG XMLは、<a href="www.w3.org/2007/SPARQL/result.rng">result.rng</a>
</li>
  <li>W3C XML Schema<a href="#ref-xmlschema-1">[XMLSCHEMA-1]</a>は、<a href="www.w3.org/2007/SPARQL/result.xsd">result.xsd</a><br>
注意: このスキーマは、RELAX NG XMLスキーマから機械的に生成されています。</li>
</ol>

<p>W3C XMLスキーマを用いる場合、次のように、<code>xsi:schemaLocation</code>属性を用いてスキーマを示すことができます。</p>

<pre class="xmlresult">
&lt;?xml version="1.0"?&gt;
&lt;sparql xmlns="http://www.w3.org/2005/sparql-results#"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.w3.org/2007/SPARQL/result.xsd"&gt;

  ...

&lt;/sparql&gt;
</pre>

<h2><a id="mime" name="mime">5. インターネット・メディア・タイプ、ファイル拡張子、およびマッキントッシュ・ファイル・タイプ</a></h2>

<p>SPARQLクエリ結果XMLフォーマットのインターネット・メディア・タイプ/MIMEタイプは、「application/sparql-results+xml」です。</p>

<p>結果ファイルは、全てのプラットホーム上で拡張子「.srx」（全て小文字）であることが推奨されます。</p>

<p>マッキントッシュHFSファイル・システム上に保存された結果ファイルには、ファイル・タイプ「テキスト」が付与されていることが推奨されます。</p>

<div class="mime">

<h3><a id="mime-form" name="mime-form">インターネット・メディア・タイプ登録書式</a></h3>

<dl>
  <dt>タイプ名:<br>
</dt>
  <dd>application</dd>
  <dt>サブタイプ名:<br>
</dt>
  <dd>sparql-results+xml</dd>
  <dt>必須パラメータ:<br>
</dt>
  <dd>なし</dd>
  <dt>任意のパラメータ:<br>
</dt>
  <dd>"charset": このパラメータは、<a href="#mime-rfc-3023">[RFC3023]</a>の3.2項で定められている「application/xml」メディア・タイプのcharsetパラメータと同じセマンティクスを持っています。</dd>
  <dt>コード化に関する留意点:<br>
</dt>
  <dd>
<a href="#mime-rfc-3023">[RFC3023]</a>の3.2項で定められている「application/xml」と同じです。</dd>
  <dt>セキュリティに関する留意点:<br>
</dt>
  <dd>
<p>SPARQLクエリ結果は、URIを用います。<a href="#mime-rfc-3986">[RFC3986]</a>の7項を参照してください。</p>

<p>SPARQLクエリ結果は、IRIを用います。<a href="#mime-rfc-3987">[RFC3987]</a>の8項を参照してください。。</p>

<p>このメディア・タイプが「+xml」という慣習を用いるため、<a href="#mime-rfc-3023">[RFC3023]</a>の10項で記述されるのと同じセキュリティ上の留意点を共有します。</p>
</dd>
  <dt>互換性に関する留意点:<br>
</dt>
  <dd>互換性の問題は知られていません。</dd>
  <dt>公開済み仕様書:<br>
</dt>
  <dd>この仕様書。</dd>
  <dt>このメディア・タイプを使用するアプリケーション:<br>
</dt>
  <dd>現時点でこのメディア・タイプを使用するアプリケーションは知られていません。</dd>
  <dt>追加情報:<br>
</dt>
  <dt>マジック・ナンバー:<br>
</dt>
  <dd>
<a href="#mime-rfc-3023">[RFC3023]</a>の3.2項の「application/xml」で定められているとおり。</dd>
  <dt>ファイル拡張子:<br>
</dt>
  <dd>".srx"</dd>
  <dt>フラグメント識別子:<br>
</dt>
  <dd>RFC 3023 <a href="#mime-rfc-3023">[RFC3023]</a>の5項で記述されている「application/xml」のものと同じです。</dd>
  <dt>基底URI:<br>
</dt>
  <dd>
<a href="#mime-rfc-3023">[RFC3023]</a>の6項で定められているとおり。</dd>
  <dt>マッキントッシュ・ファイル・タイプ・コード:<br>
</dt>
  <dd>"TEXT"</dd>
  <dt>詳細情報に関する連絡先:<br>
</dt>
  <dd>Dave Beckett, Eric Prud'hommeaux &lt;public-rdf-dawg-comments&#064;w3&#046;org&gt;</dd>
  <dt>意図する使途:<br>
</dt>
  <dd>汎用</dd>
  <dt>使用上の制限:<br>
</dt>
  <dd>なし</dd>
  <dt>著者／改版管理者:<br>
</dt>
  <dd>SPARQL仕様は、ワールド・ワイド・ウェブ・コンソーシアム（World Wide Web Consortium）のRDFデータ・アクセス・ワーキンググループ（RDF Data Access Working Group）の作業の成果です。W3Cは、これらの仕様の変更に対する管理権を有します。</dd>
</dl>

<h3><a id="mime-references" name="mime-references">参考文献</a></h3>

<p><a name="mime-rfc-3023">[RFC3023]</a> Murata, M., St. Laurent, S., and D. Kohn, "XML Media Types", RFC 3023, January 2001.</p>

<p><a name="mime-rfc-3986">[RFC3986]</a> Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform Resource Identifier (URI): Generic Syntax", STD 66, RFC 3986, January 2005.</p>

<p><a name="mime-rfc-3987">[RFC3987]</a> Duerst, M. and M. Suignard, "Internationalized Resource Identifiers (IRIs)", RFC 3987, January 2005.</p>

</div>

<h2><a id="references" name="references">6. 参考文献</a></h2>

<dl class="bib">
  <dt><a id="ref-xml" name="ref-xml">[XML]</a></dt>
  <dd>
<cite><a href="www.w3.org/TR/2004/REC-xml-20040204/">Extensible Markup Language (XML) 1.0, Third Edition</a></cite>, T. Bray, J. Paoli, C.M. Sperberg-McQueen, E. Maler, F. Yergeau, Editors, W3C Recommendation, 4 February 2004.  This document is http://www.w3.org/TR/2004/REC-xml-20040204 .  The <a href="www.w3.org/TR/REC-xml/" title="Latest version of XML">latest version</a> is available at http://www.w3.org/TR/REC-xml .</dd>
  <dt><a id="ref-sparql-query" name="ref-sparql-query">[SPARQL-QUERY]</a></dt>
  <dd>
<cite><a href="www.w3.org/TR/2013/REC-sparql11-query-20130321">SPARQL 1.1 Query Language</a></cite>, S. Harris, A. Seaborne, Editors, W3C Recommendation, 21 March 2013, http://www.w3.org/TR/2013/REC-sparql11-query-20130321. <a href="www.w3.org/TR/sparql11-query/" title="Latest version of SPARQL 1.1 Query Language">Latest version</a> available at http://www.w3.org/TR/sparql11-query.</dd>
  <dt><a id="ref-relaxng" name="ref-relaxng">[RELAXNG]</a></dt>
  <dd>
<cite><a href="www.oasis-open.org/committees/relax-ng/spec-20011203.html">RELAX NG Specification</a></cite>, James Clark and MURATA Makoto, Editors, OASIS Committee Specification, 3 December 2001.  This document is http://www.oasis-open.org/committees/relax-ng/spec-20011203.html .  The <a href="www.oasis-open.org/committees/relax-ng/spec.html" title="Latest version of RELAX NG Specification">latest version</a> is available at http://www.oasis-open.org/committees/relax-ng/spec.html .</dd>
  <dt><a id="ref-relaxng-nx" name="ref-relaxng-nx">[RELAXNG-COMPACT]</a></dt>
  <dd>
<cite><a href="www.oasis-open.org/committees/relax-ng/compact-20021121.html">RELAX NG Compact Syntax</a></cite>, James Clark, Editor. OASIS Committee Specification, 21 November 2002.  This document is http://www.oasis-open.org/committees/relax-ng/compact-20021121.html .</dd>
  <dt><a name="ref-xmlschema-1" id="ref-xmlschema-1">[XMLSCHEMA-1]</a></dt>
  <dd>
<cite><a href="www.w3.org/TR/2004/REC-xmlschema-1-20041028/">XML Schema Part 1: Structures Second Edition</a></cite>, D. Beech, N. Mendelsohn, M. Maloney, H. S. Thompson,  Editors, W3C Recommendation, 28 October 2004.  This document is http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/ . The <a href="www.w3.org/TR/xmlschema-1/" title="Latest version of XML Schema Part 1: Structures Second Edition">latest version</a> is available at http://www.w3.org/TR/xmlschema-1/ .</dd>
  <dt><a name="ref-srj" id="ref-srj">[SRJ]</a></dt>
  <dd>
<cite><a href="www.w3.org/TR/2013/REC-sparql11-results-json-20130321">SPARQL 1.1 Query Results JSON Format</a></cite>, A. Seaborne, Editor, W3C Recommendation, 21 March 2013, http://www.w3.org/TR/2013/REC-sparql11-results-json-20130321. <a href="www.w3.org/TR/sparql11-results-json/" title="Latest version of SPARQL 1.1 Query Results JSON Format">Latest version</a> available at http://www.w3.org/TR/sparql11-results-json.</dd>
  <dt><a name="ref-src" id="ref-src">[SRC]</a></dt>
  <dd>
<cite><a href="www.w3.org/TR/2013/REC-sparql11-results-csv-tsv-20130321">SPARQL 1.1 Query Results CSV and TSV Formats</a></cite>, A. Seaborne, Editor, W3C Recommendation, 21 March 2013, http://www.w3.org/TR/2013/REC-sparql11-results-csv-tsv-20130321. <a href="www.w3.org/TR/sparql11-results-csv-tsv/" title="Latest version of SPARQL 1.1 Query Results CSV and TSV Formats">Latest version</a> available at http://www.w3.org/TR/sparql11-results-csv-tsv.</dd>
</dl>

<div>

<h2 id="changelog">変更履歴</h2>

<h3 id="changes-since-pr">編集版勧告案以後の変更</h3>

<ul>
  <li>IANAが登録を処理しなかったとステートメントを削除した。</li>
</ul>

<h3 id="changes-since-lc">2008年の勧告以後の変更</h3>

<ul>
  <li>SONおよびCSV/TSV結果フォーマットに関する言及。</li>
  <li>例で維持可能なバージョンを指摘。</li>
</ul>

</div>

</body>

</html>