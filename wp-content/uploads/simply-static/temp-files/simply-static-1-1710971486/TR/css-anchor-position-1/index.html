<!DOCTYPE html>
<html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>CSS Anchor Positioning</title>
  <meta content="WD" name="w3c-status">
  <meta content="Bikeshed version 584813e63, updated Fri Mar 8 15:59:30 2024 -0800" name="generator">
  <link href="www.w3.org/TR/css-anchor-position-1/" rel="canonical">
  <meta content="a27afa4d052a411d0dc79c2910b13f106df5fd7c" name="revision">
  <meta content="dark light" name="color-scheme">
<style>/* Put nice boxes around each algorithm. */
[data-algorithm]:not(.heading) {
	padding: .5em;
	border: thin solid #ddd; border-radius: .5em;
	margin: .5em calc(-0.5em - 1px);
}
[data-algorithm]:not(.heading) > :first-child {
	margin-top: 0;
}
[data-algorithm]:not(.heading) > :last-child {
	margin-bottom: 0;
}
[data-algorithm] [data-algorithm] {
	margin: 1em 0;
}</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
[data-algorithm] var { cursor: pointer; }
var[data-var-color="0"] { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var[data-var-color="1"] { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var[data-var-color="2"] { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var[data-var-color="3"] { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var[data-var-color="4"] { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var[data-var-color="5"] { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var[data-var-color="6"] { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }</style>
  <link href="www.w3.org/StyleSheets/TR/2021/W3C-WD" rel="stylesheet">
  <link href="www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
 </head>
<body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="www.w3.org/"> <img alt="W3C" height="48" src="www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">CSS Anchor Positioning</h1>
   <p id="w3c-state"><a href="www.w3.org/standards/types#WD">W3C Working Draft</a>, <time class="dt-updated" datetime="2024-03-14">14 March 2024</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      </dt>
<dd>
<a class="u-url" href="www.w3.org/TR/2024/WD-css-anchor-position-1-20240314/">https://www.w3.org/TR/2024/WD-css-anchor-position-1-20240314/</a>
      </dd>
<dt>Latest published version:
      </dt>
<dd>
<a href="www.w3.org/TR/css-anchor-position-1/">https://www.w3.org/TR/css-anchor-position-1/</a>
      </dd>
<dt>Editor's Draft:
      </dt>
<dd>
<a href="drafts.csswg.org/css-anchor-position-1/">https://drafts.csswg.org/css-anchor-position-1/</a>
      </dd>
<dt>History:
      </dt>
<dd>
<a class="u-url" href="www.w3.org/standards/history/css-anchor-position-1/">https://www.w3.org/standards/history/css-anchor-position-1/</a>
      </dd>
<dt>Feedback:
      </dt>
<dd>
<a href="github.com/w3c/csswg-drafts/labels/css-anchor-position-1">CSSWG Issues Repository</a>
      <dd>
<a href="#issues-index">Inline In Spec</a>
      </dd>
</dd>
<dt class="editor">Editors:
      </dt>
<dd class="editor p-author h-card vcard" data-editor-id="42199">
<a class="p-name fn u-url url" href="xanthir.com/contact/">Tab Atkins-Bittner</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="35400">
<a class="p-name fn u-url url" href="fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="p-org org">Apple</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="73001">
<span class="p-name fn">Ian Kilpatrick</span> (<span class="p-org org">Google</span>)
      </dd>
</dd>
</dd>
<dt class="editor">Former Editor:
      </dt>
<dd class="editor p-author h-card vcard" data-editor-id="137616">
<a class="p-name fn u-url url" href="twitter.com/jh3yy">Jhey Tompkins</a> (<span class="p-org org">Google</span>)
      </dd>
<dt>Suggest an Edit for this Spec:
      </dt>
<dd>
<a href="github.com/w3c/csswg-drafts/blob/main/css-anchor-position-1/Overview.bs">GitHub Editor</a>
     </dd>
</dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="www.w3.org/policies/#copyright">Copyright</a> © 2024 <a href="www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification defines 'anchor positioning', where a positioned element can size and position itself relative to one or more "anchor elements" elsewhere on the page.</p>
    <a href="www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, etc. 
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p><em>This section describes the status of this document at the time of its publication.
	A list of current W3C publications
	and the latest revision of this technical report
	can be found in the <a href="www.w3.org/TR/">W3C technical reports index at https://www.w3.org/TR/.</a></em> </p>
   <p> This document was published
	by the <a href="www.w3.org/groups/wg/css">CSS Working Group</a> as a <strong>Working Draft</strong> using the <a href="www.w3.org/2023/Process-20231103/#recs-and-notes">Recommendation
      track</a>.
	Publication as a Working Draft
	does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members. </p>
   <p> This is a draft document
	and may be updated, replaced
	or obsoleted by other documents at any time.
	It is inappropriate to cite this document as other than work in progress. </p>
   <p>Please send feedback
	by <a href="github.com/w3c/csswg-drafts/issues">filing issues in GitHub</a> (preferred),
	including the spec code “css-anchor-position” in the title, like this:
	“[css-anchor-position] <i>…summary of comment…</i>”.
	All issues and comments are <a href="lists.w3.org/Archives/Public/public-css-archive/">archived</a>.
	Alternately, feedback can be sent to the (<a href="lists.w3.org/Archives/Public/www-style/">archived</a>) public mailing list <a href="mailto:www-style@w3.org?Subject=%5Bcss-anchor-position%5D+PUT+SUBJECT+HERE">www-style@w3.org</a>. </p>
   <p>This document is governed by the <a href="www.w3.org/2023/Process-20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>. </p>
   <p>This document was produced by a group operating under the <a href="www.w3.org/Consortium/Patent-Policy-20200915/">W3C Patent Policy</a>.
	W3C maintains a <a href="www.w3.org/groups/wg/css/ipr" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group;
	that page also includes instructions for disclosing a patent.
	An individual who has actual knowledge of a patent which the individual believes
	contains <a href="www.w3.org/Consortium/Patent-Policy-20200915/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="www.w3.org/Consortium/Patent-Policy-20200915/#sec-Disclosure">section 6 of the W3C Patent Policy</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
<a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    </li>
<li>
     <a href="#determining"><span class="secno">2</span> <span class="content">Determining the Anchor</span></a>
     <ol class="toc">
      <li>
       <a href="#name"><span class="secno">2.1</span> <span class="content">Creating an Anchor: the <span class="property">anchor-name</span> property</span></a>
       <ol class="toc">
        <li>
<a href="#implicit"><span class="secno">2.1.1</span> <span class="content">Implicit Anchor Elements</span></a>
       </li>
</ol>
      </li>
<li>
<a href="#anchor-scope"><span class="secno">2.2</span> <span class="content"> Scoping Anchor Names: the <span class="property">anchor-scope</span> property</span></a>
      </li>
<li>
<a href="#target"><span class="secno">2.3</span> <span class="content">Finding an Anchor</span></a>
      </li>
<li>
<a href="#position-anchor"><span class="secno">2.4</span> <span class="content"> Default Anchors: the <span class="property">position-anchor</span> property</span></a>
     </li>
</ol>
    </li>
<li>
     <a href="#positioning"><span class="secno">3</span> <span class="content">Anchor-Based Positioning</span></a>
     <ol class="toc">
      <li>
       <a href="#inset-area"><span class="secno">3.1</span> <span class="content">The <span class="property">inset-area</span> Property</span></a>
       <ol class="toc">
        <li>
<a href="#resolving-spans"><span class="secno">3.1.1</span> <span class="content"> Resolving <span class="production">&lt;inset-area></span>s</span></a>
       </li>
</ol>
      </li>
<li>
<a href="#anchor-pos"><span class="secno">3.2</span> <span class="content">The <span class="css">anchor()</span> Function</span></a>
      </li>
<li>
<a href="#anchor-center"><span class="secno">3.3</span> <span class="content">Centering on the Anchor: the <span class="css">anchor-center</span> value</span></a>
      </li>
<li>
<a href="#scroll"><span class="secno">3.4</span> <span class="content">Taking Scroll Into Account</span></a>
      </li>
<li>
<a href="#anchor-valid"><span class="secno">3.5</span> <span class="content">Validity</span></a>
     </li>
</ol>
    </li>
<li>
     <a href="#sizing"><span class="secno">4</span> <span class="content">Anchor-Based Sizing</span></a>
     <ol class="toc">
      <li>
<a href="#anchor-size-fn"><span class="secno">4.1</span> <span class="content">The <span class="css">anchor-size()</span> Function</span></a>
      </li>
<li>
<a href="#anchor-size-valid"><span class="secno">4.2</span> <span class="content">Validity</span></a>
     </li>
</ol>
    </li>
<li>
     <a href="#fallback"><span class="secno">5</span> <span class="content">Overflow Management</span></a>
     <ol class="toc">
      <li>
<a href="#position-try-options"><span class="secno">5.1</span> <span class="content">Giving Fallback Options: the <span class="property">position-try-options</span> property</span></a>
      </li>
<li>
<a href="#position-try-order-property"><span class="secno">5.2</span> <span class="content">Determining Fallback Order: the <span class="property">position-try-order</span> property</span></a>
      </li>
<li>
<a href="#position-try-prop"><span class="secno">5.3</span> <span class="content">The <span class="property">position-try</span> Shorthand</span></a>
      </li>
<li>
<a href="#fallback-rule"><span class="secno">5.4</span> <span class="content">The <span class="css">@position-try</span> Rule</span></a>
      </li>
<li>
<a href="#fallback-apply"><span class="secno">5.5</span> <span class="content">Applying Position Fallback</span></a>
     </li>
</ol>
    </li>
<li>
     <a href="#interfaces"><span class="secno">6</span> <span class="content">DOM Interfaces</span></a>
     <ol class="toc">
      <li>
<a href="#om-position-try"><span class="secno">6.1</span> <span class="content">The CSSPositionTryRule interface</span></a>
     </li>
</ol>
    </li>
<li>
<a href="#interleaving"><span class="secno">7</span> <span class="content"> Appendix: Style &amp; Layout Interleaving</span></a>
    </li>
<li>
<a href="#sec"><span class="secno">8</span> <span class="content">Security Considerations</span></a>
    </li>
<li>
<a href="#priv"><span class="secno">9</span> <span class="content">Privacy Considerations</span></a>
    </li>
<li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li>
<a href="#w3c-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      </li>
<li>
<a href="#w3c-conformance-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      </li>
<li>
       <a href="#w3c-partial"><span class="secno"></span> <span class="content"> Partial implementations</span></a>
       <ol class="toc">
        <li>
<a href="#w3c-conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
       </li>
</ol>
      </li>
<li>
<a href="#w3c-testing"><span class="secno"></span> <span class="content"> Non-experimental implementations</span></a>
     </li>
</ol>
    </li>
<li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li>
<a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      </li>
<li>
<a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </li>
</ol>
    </li>
<li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li>
<a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      </li>
<li>
<a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </li>
</ol>
    </li>
<li>
<a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    </li>
<li>
<a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    </li>
<li>
<a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </li>
</ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro">
<span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a>
</h2>
   <p>CSS <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position">absolute positioning</a> allows authors
to place elements anywhere on the page,
without regard to the layout of other elements
besides their containing block.
This flexibility can be very useful,
but also very limiting—​often you want to position relative to <em>some</em> other element. <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="anchor-positioning">Anchor positioning</dfn> (via the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="anchor-functions">anchor functions</dfn> <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor">anchor()</a> and <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size">anchor-size()</a>)
allows authors to achieve this,
"anchoring" an <span id="ref-for-absolute-position①">absolutely-positioned</span> element
to one or more other elements on the page,
while also allowing them to try several possible positions
to find the "best" one that avoids overlap/overflow.</p>
   <p>For example, an author might want to position a tooltip
centered and above the targeted element,
unless that would place the tooltip offscreen,
in which case it should be below the targeted element.
This can be done with the following CSS:</p>
   <div class="example" id="example-880ca553">
    <a class="self-link" href="#example-880ca553"></a> 
<pre class="lang-css highlight">.anchor <c- p>{</c->
  <c- k>anchor-name</c-><c- p>:</c-> --tooltip<c- p>;</c->
<c- p>}</c->
.tooltip <c- p>{</c->
  <c- c>/* Fixpos means we don’t need to worry about</c->
<c- c>     containing block relationships;</c->
<c- c>     the tooltip can live anywhere in the DOM. */</c->
  position: fixed<c- p>;</c->

  <c- c>/* All the anchoring behavior will default to</c->
<c- c>     referring to the --tooltip anchor. */</c->
  position-anchor: --tooltip<c- p>;</c->

  <c- c>/* Align the tooltip’s bottom to the top of the anchor;</c->
<c- c>     this also defaults to horizontally center-aligning</c->
<c- c>     the tooltip and the anchor (in horizontal writing modes). */</c->
  inset-area: block-start<c- p>;</c->

  <c- c>/* Automatically swap if this overflows the window</c->
<c- c>     so the tooltip’s top aligns to the anchor’s bottom</c->
<c- c>     instead. */</c->
  position-try: flip-block<c- p>;</c->

  <c- c>/* Prevent getting too wide */</c->
  max-inline-size: <c- m>20</c-><c- k>em</c-><c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="2" id="determining">
<span class="secno">2. </span><span class="content">Determining the Anchor</span><a class="self-link" href="#determining"></a>
</h2>
   <h3 class="heading settled" data-level="2.1" id="name">
<span class="secno">2.1. </span><span class="content">Creating an Anchor: the <a class="property css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name">anchor-name</a> property</span><a class="self-link" href="#name"></a>
</h3>
   <table class="def propdef" data-link-for-hint="anchor-name">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-anchor-name">anchor-name</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">none <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one">|</a> <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident">&lt;dashed-ident></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma">#</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>none
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>all elements that generate a <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#principal-box" id="ref-for-principal-box">principal box</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>no
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>n/a
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>as specified
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>discrete
   </td>
</tr>
</tbody>
</table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name①">anchor-name</a> property declares
that an element is an <dfn class="dfn-paneled" data-dfn-type="dfn" data-local-lt="anchor" data-noexport id="anchor-element">anchor element</dfn>,
and gives it a list of <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="anchor name" data-noexport id="anchor-name">anchor names</dfn> to be targeted by.
Values are defined as follows:</p>
   <dl>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor-name" data-dfn-type="value" data-export id="valdef-anchor-name-none">none</dfn>
    </dt>
<dd data-md>
     <p>The property has no effect.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor-name" data-dfn-type="value" data-export id="valdef-anchor-name-dashed-ident"><a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident①">&lt;dashed-ident></a>#</dfn>
    </dt>
<dd data-md>
     <p>If the element generates a <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#principal-box" id="ref-for-principal-box①">principal box</a>,
the element is an <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element">anchor element</a>,
with a list of <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name">anchor names</a> as specified.
Each <span id="ref-for-anchor-name①">anchor name</span> is a <a data-link-type="dfn" href="drafts.csswg.org/css-scoping-1/#css-tree-scoped-name" id="ref-for-css-tree-scoped-name">tree-scoped name</a>.</p>
     <p>Otherwise, the property has no effect.</p>
   </dd>
</dl>
   <p><a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name②">Anchor names</a> do not need to be unique.
Not all elements are capable of being <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①">anchor elements</a> for a given positioned element,
so a name can be reused in multiple places
if the usages are scoped appropriately.
If the element has either <a data-link-type="dfn" href="www.w3.org/TR/css-contain-2/#style-containment" id="ref-for-style-containment">style containment</a> or <a data-link-type="dfn" href="www.w3.org/TR/css-contain-2/#layout-containment" id="ref-for-layout-containment">layout containment</a>,
the <a class="property css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name②">anchor-name</a> property is <a data-link-type="dfn" href="www.w3.org/TR/css-contain-2/#property-scoped" id="ref-for-property-scoped">scoped</a> <a data-link-type="dfn" href="www.w3.org/TR/css-contain-2/#property-scoped-to-a-sub-tree" id="ref-for-property-scoped-to-a-sub-tree">to a sub-tree</a>.
If there are still multiple valid <span id="ref-for-anchor-element②">anchor elements</span> with the given <span id="ref-for-anchor-name③">anchor name</span>,
the last one is chosen.</p>
   <h4 class="heading settled" data-level="2.1.1" id="implicit">
<span class="secno">2.1.1. </span><span class="content">Implicit Anchor Elements</span><a class="self-link" href="#implicit"></a>
</h4>
   <p>Some specifications can define that,
in certain circumstances,
a particular element is an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="implicit-anchor-element">implicit anchor element</dfn> for a given positioned element.</p>
   <p class="example" id="example-e6312e6e"><a class="self-link" href="#example-e6312e6e"></a> TODO fill in new popover-related details.
	This makes the declared element the <a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element">implicit anchor element</a> for the element with the attribute. </p>
   <p><a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element①">Implicit anchor elements</a> can be referenced
with the <a class="css" data-link-type="maybe" href="#valdef-anchor-implicit" id="ref-for-valdef-anchor-implicit">implicit</a> keyword,
rather than referring to some <a class="property css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name③">anchor-name</a> value.</p>
   <p><a data-link-type="dfn" href="www.w3.org/TR/CSS21/selector.html#x22" id="ref-for-x22">Pseudo-elements</a> have the same <a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element②">implicit anchor element</a> as their <a data-link-type="dfn" href="www.w3.org/TR/selectors-4/#originating-element" id="ref-for-originating-element">originating element</a>,
unless otherwise specified.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Without this, these <a data-link-type="dfn" href="www.w3.org/TR/CSS21/selector.html#x22" id="ref-for-x22①">pseudo-elements</a>, which are often inaccessible
by other specifications, cannot be positioned with <a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element③">implicit anchor elements</a>.</p>
   <h3 class="heading settled" data-level="2.2" id="anchor-scope">
<span class="secno">2.2. </span><span class="content"> Scoping Anchor Names: the <a class="property css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope">anchor-scope</a> property</span><a class="self-link" href="#anchor-scope"></a>
</h3>
   <table class="def propdef" data-link-for-hint="anchor-scope">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-anchor-scope">anchor-scope</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">none <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①">|</a> all <span id="ref-for-comb-one②">|</span> <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident②">&lt;dashed-ident></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma①">#</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>none
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>
<a href="www.w3.org/TR/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>no
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>n/a
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>as specified
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>discrete
   </td>
</tr>
</tbody>
</table>
   <p>This property scopes the specified <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name④">anchor names</a>,
and lookups for these <span id="ref-for-anchor-name⑤">anchor names</span>,
to this element’s subtree.
See <a href="#determining">§ 2 Determining the Anchor</a>.</p>
   <p>Values have the following meanings:</p>
   <dl>
    <dt>
<dfn class="dfn-paneled css" data-dfn-for="anchor-scope" data-dfn-type="value" data-export id="valdef-anchor-scope-none">none</dfn> 
    </dt>
<dd> No changes in <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name⑥">anchor name</a> scope. 
    </dd>
<dt>
<dfn class="dfn-paneled css" data-dfn-for="anchor-scope" data-dfn-type="value" data-export id="valdef-anchor-scope-all">all</dfn> 
    </dt>
<dd> Specifies that all <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name⑦">anchor names</a> defined by this element or its descendants—​whose scope is not already limited by a descendant using <a class="property css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope①">anchor-scope</a>—​to be in scope only for this element’s descendants;
		and limits descendants to only match <span id="ref-for-anchor-name⑧">anchor names</span> to <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element③">anchor elements</a> within this subtree. 
    </dd>
<dt>
<dfn class="dfn-paneled css" data-dfn-for="anchor-scope" data-dfn-type="value" data-export id="valdef-anchor-scope-dashed-ident"><a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident③">&lt;dashed-ident></a></dfn> 
    </dt>
<dd> Specifies that a matching <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name⑨">anchor name</a> defined by this element or its descendants—​whose scope is not already limited by a descendant using <a class="property css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope②">anchor-scope</a>—​to be in scope only for this element’s descendants;
		and limits descendants to only match these <span id="ref-for-anchor-name①⓪">anchor names</span> to <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element④">anchor elements</a> within this subtree. 
   </dd>
</dl>
   <p>This property has no effect on <a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element④">implicit anchor elements</a>.</p>
   <div class="example" id="example-714bc97a">
    <a class="self-link" href="#example-714bc97a"></a> When a design pattern is re-used, <a class="property css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope③">anchor-scope</a> can prevent naming clashes across identical components.
	For example, if a list contains positioned elements in each list item,
	which want to position themselves relative to the list item they’re in, 
<pre class="lang-css highlight">li <c- p>{</c->
  <c- k>anchor-name</c-><c- p>:</c-> --list-item<c- p>;</c->
  <c- k>anchor-scope</c-><c- p>:</c-> --list-item<c- p>;</c->
<c- p>}</c->
li .positioned <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
  <c- k>position-anchor</c-><c- p>:</c-> --list-item<c- p>;</c->
  <c- k>inset-area</c-><c- p>:</c-> inline-start<c- p>;</c->
<c- p>}</c->
</pre>
    <p>Without <a class="property css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope④">anchor-scope</a>,
	all of the <code><a data-link-type="element" href="html.spec.whatwg.org/multipage/grouping-content.html#the-li-element" id="ref-for-the-li-element">li</a></code> elements would be visible
	to all of the positioned elements,
	and so they’d all positioned themselves relative to the <em>final</em> <code><a data-link-type="element" href="html.spec.whatwg.org/multipage/grouping-content.html#the-li-element" id="ref-for-the-li-element①">li</a></code>,
	stacking up on top of each other.</p>
   </div>
   <h3 class="heading settled" data-level="2.3" id="target">
<span class="secno">2.3. </span><span class="content">Finding an Anchor</span><a class="self-link" href="#target"></a>
</h3>
   <p>Several things in this specification
find a <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element">target anchor element</a>,
given an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="anchor-specifier">anchor specifier</dfn>,
which is either a <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident④">&lt;dashed-ident></a> (and a <a data-link-type="dfn" href="drafts.csswg.org/css-scoping-1/#css-tree-scoped-reference" id="ref-for-css-tree-scoped-reference">tree-scoped reference</a>)
that should match an <a class="property css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name④">anchor-name</a> value elsewhere on the page,
or the keyword <a class="css" data-link-type="maybe" href="#valdef-anchor-implicit" id="ref-for-valdef-anchor-implicit①">implicit</a>,
or nothing (a missing specifier).</p>
   <div class="algorithm" data-algorithm="target anchor element">
     To determine the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="target-anchor-element">target <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element⑤">anchor element</a></dfn> given a querying element <var>query el</var> and an optional <a data-link-type="dfn" href="#anchor-specifier" id="ref-for-anchor-specifier">anchor specifier</a> <var>anchor spec</var>: 
    <ol>
     <li data-md>
      <p>If <var>anchor spec</var> was not passed,
return the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element①">target anchor element</a> for <var>query el</var> given the <var>query el</var>’s <a data-link-type="dfn" href="#default-anchor-specifier" id="ref-for-default-anchor-specifier">default anchor specifier</a>.</p>
     </li>
<li data-md>
      <p>If <var>anchor spec</var> is <a class="css" data-link-type="maybe" href="#valdef-anchor-implicit" id="ref-for-valdef-anchor-implicit②">implicit</a>:</p>
      <ol>
       <li data-md>
        <p>If the Popover API defines an <a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element⑤">implicit anchor element</a> for <var>query el</var> which is an <a data-link-type="dfn" href="#acceptable-anchor-element" id="ref-for-acceptable-anchor-element">acceptable anchor element</a> for <var>query el</var>,
return that element.</p>
       </li>
<li data-md>
        <p>Otherwise, return nothing.</p>
      </li>
</ol>
      <p class="note" role="note"><span class="marker">Note:</span> Future APIs might also define implicit anchor elements.
When they do, they’ll be explicitly handled in this algorithm,
to ensure coordination.</p>
     </li>
<li data-md>
      <p>Otherwise, <var>anchor spec</var> is a <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑤">&lt;dashed-ident></a>.
Return the last element <var>el</var> in tree order
that satisfies the following conditions:</p>
      <ul>
       <li data-md>
        <p><var>el</var> is an <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element⑥">anchor element</a> with an <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name①①">anchor name</a> of <var>anchor spec</var>.</p>
       </li>
<li data-md>
        <p><var>el</var>’s <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name①②">anchor name</a> and <var>anchor spec</var> are both associated with the same <a data-link-type="dfn" href="dom.spec.whatwg.org/#concept-tree" id="ref-for-concept-tree">tree</a> <a data-link-type="dfn" href="dom.spec.whatwg.org/#concept-tree-root" id="ref-for-concept-tree-root">root</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name①③">anchor name</a> is a <a data-link-type="dfn" href="drafts.csswg.org/css-scoping-1/#css-tree-scoped-name" id="ref-for-css-tree-scoped-name①">tree-scoped name</a>,
while <var>anchor spec</var> is a <a data-link-type="dfn" href="drafts.csswg.org/css-scoping-1/#css-tree-scoped-reference" id="ref-for-css-tree-scoped-reference①">tree-scoped reference</a>.</p>
       </li>
<li data-md>
        <p><var>el</var> is an <a data-link-type="dfn" href="#acceptable-anchor-element" id="ref-for-acceptable-anchor-element①">acceptable anchor element</a> for <var>query el</var>.</p>
      </li>
</ul>
      <p>If no element satisfies these conditions,
return nothing.</p>
      <p class="note" role="note"><span class="marker">Note:</span> <a class="property css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope⑤">anchor-scope</a> can restrict the visibility
of certain <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name①④">anchor names</a>,
which can affect what elements can be <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element⑦">anchor elements</a> for a given lookup.</p>
    </li>
</ol>
    <p class="note" role="note"><span class="marker">Note:</span> The general rule captured by these conditions
	is that <var>el</var> must be fully laid out
	before <var>query el</var> is laid out.
	CSS’s rules about the layout order of stacking contexts
	give us assurances about this,
	and the list of conditions above
	exactly rephrases the stacking context rules
	into just what’s relevant for this purpose,
	ensuring there is no possibly circularity
	in anchor positioning.</p>
    <p class="note" role="note"><span class="marker">Note:</span> An <a class="property css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name⑤">anchor-name</a> defined by styles in one <a data-link-type="dfn" href="dom.spec.whatwg.org/#concept-shadow-tree" id="ref-for-concept-shadow-tree">shadow tree</a> won’t be seen by <a data-link-type="dfn" href="#anchor-functions" id="ref-for-anchor-functions">anchor functions</a> in styles in a different <span id="ref-for-concept-shadow-tree①">shadow tree</span>,
	preserving encapsulation.
	However, <em>elements</em> in different <span id="ref-for-concept-shadow-tree②">shadow trees</span> can still anchor to each other,
	so long as both the <span class="property" id="ref-for-propdef-anchor-name⑥">anchor-name</span> and <span id="ref-for-anchor-functions①">anchor function</span> come from styles in the same tree,
	such as by using <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-shadow-parts-1/#selectordef-part" id="ref-for-selectordef-part">::part()</a> to style an element inside a shadow.
	(<a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element⑥">Implicit anchor elements</a> also aren’t intrinsically limited to a single tree,
	but the details of that will depend on the API assigning them.)</p>
   </div>
   <div class="algorithm" data-algorithm="acceptable anchor element">
     An element <var>el</var> is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="acceptable-anchor-element">acceptable anchor element</dfn> for an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position②">absolutely positioned</a> element <var>query el</var> if all of the following are true: 
    <ul>
     <li data-md>
      <p>Either <var>el</var> is a descendant of <var>query el</var>’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block">containing block</a>,
or <var>query el</var>’s <span id="ref-for-containing-block①">containing block</span> is the <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#initial-containing-block" id="ref-for-initial-containing-block">initial containing block</a>.</p>
     </li>
<li data-md>
      <p>If <var>el</var> has the same <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block②">containing block</a> as <var>query el</var>,
then either <var>el</var> is not <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position③">absolutely positioned</a>,
or <var>el</var> precedes <var>query el</var> in the tree order.</p>
     </li>
<li data-md>
      <p>If <var>el</var> has a different <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block③">containing block</a> from <var>query el</var>,
then the last <span id="ref-for-containing-block④">containing block</span> in <var>el</var>’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block-chain" id="ref-for-containing-block-chain">containing block chain</a> before reaching <var>query el</var>’s <span id="ref-for-containing-block⑤">containing block</span> is either not <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position④">absolutely positioned</a> or precedes <var>query el</var> in the tree order.</p>
     </li>
<li data-md>
      <p><var>el</var> is either an <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#elements" id="ref-for-elements">element</a>,
or a <a data-link-type="dfn" href="www.w3.org/TR/selectors-4/#pseudo-element" id="ref-for-pseudo-element">pseudo-element</a> that acts like one.</p>
      <p class="issue" id="issue-74e37020"><a class="self-link" href="#issue-74e37020"></a> define the term that actually means this,
matching ::before/after/backdrop/etc
(but not ::marker/placeholder/etc whose box is not detectable).</p>
    </li>
</ul>
   </div>
   <h3 class="heading settled" data-level="2.4" id="position-anchor">
<span class="secno">2.4. </span><span class="content"> Default Anchors: the <a class="property css" data-link-type="property" href="#propdef-position-anchor" id="ref-for-propdef-position-anchor">position-anchor</a> property</span><a class="self-link" href="#position-anchor"></a>
</h3>
   <table class="def propdef" data-link-for-hint="position-anchor">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-position-anchor">position-anchor</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">
<a class="production css" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element">&lt;anchor-element></a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>implicit
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>
<a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position⑤">absolutely positioned</a> elements
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>no
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>n/a
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>as specified
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>discrete
   </td>
</tr>
</tbody>
</table>
   <p>The <a class="property css" data-link-type="property" href="#propdef-position-anchor" id="ref-for-propdef-position-anchor①">position-anchor</a> property defines the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-anchor-specifier">default anchor specifier</dfn> for all <a data-link-type="dfn" href="#anchor-functions" id="ref-for-anchor-functions②">anchor functions</a> on the element,
allowing multiple elements to use the same set of <span id="ref-for-anchor-functions③">anchor functions</span> (and <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list">position options lists</a>!)
while changing which <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element⑧">anchor element</a> each is referring to.</p>
   <p>The <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element②">target anchor element</a> selected by the <a data-link-type="dfn" href="#default-anchor-specifier" id="ref-for-default-anchor-specifier①">default anchor specifier</a> (if one exists)
is the element’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="default-anchor-element">default anchor element</dfn>.</p>
   <p>Its values are identical to the <a class="production css" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element①">&lt;anchor-element></a> term
in <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①">anchor()</a> and <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size①">anchor-size()</a>.</p>
   <div class="example" id="example-e2ad92db">
    <a class="self-link" href="#example-e2ad92db"></a> For example, in the following code
	both <span class="css">.foo</span> and <span class="css">.bar</span> elements
	can use the same positioning properties,
	just changing the anchor element they’re referring to: 
<pre class="highlight">.anchored <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> absolute<c- p>;</c->
  <c- k>top</c-><c- p>:</c-> <c- nf>calc</c-><c- p>(</c-><c- m>.5</c-><c- k>em</c-> + <c- nf>anchor</c-><c- p>(</c->outside<c- p>));</c->
  <c- c>/* Since no anchor name was specified,</c->
<c- c>     this automatically refers to the</c->
<c- c>     default anchor element. */</c->
<c- p>}</c->

.foo.anchored <c- p>{</c->
  <c- k>position-anchor</c-><c- p>:</c-> --foo<c- p>;</c->
<c- p>}</c->
.bar.anchored <c- p>{</c->
  <c- k>position-anchor</c-><c- p>:</c-> --bar<c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="3" id="positioning">
<span class="secno">3. </span><span class="content">Anchor-Based Positioning</span><a class="self-link" href="#positioning"></a>
</h2>
   <p>An <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position⑥">absolutely-positioned</a> element
can position itself relative to one or more <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element⑨">anchor elements</a> on the page.</p>
   <p>The <a class="property css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area">inset-area</a> function offers a convenient grid-based concept
for positioning relative to the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element">default anchor element</a>;
for more complex positioning or positioning relative to multiple elements,
the <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor②">anchor()</a> function can be used in the <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties">inset properties</a> to explicitly refer to edges of an <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①⓪">anchor element</a>.</p>
   <h3 class="heading settled" data-level="3.1" id="inset-area">
<span class="secno">3.1. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area①">inset-area</a> Property</span><a class="self-link" href="#inset-area"></a>
</h3>
   <table class="def propdef" data-link-for-hint="inset-area">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-inset-area">inset-area</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">none <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③">|</a> <a class="production css" data-link-type="type" href="#typedef-inset-area" id="ref-for-typedef-inset-area">&lt;inset-area></a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>none
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>positioned elements with a <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element①">default anchor element</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>no
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>n/a
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>as specified
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>TBD
   </td>
</tr>
</tbody>
</table>
   <p>Most common use-cases of anchor positioning
only need to worry about
the edges of the positioned element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block⑥">containing block</a>,
and the edges of the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element②">default anchor element</a>.
These lines can be thought of as defining a 3x3 grid; <a class="property css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area②">inset-area</a> lets you easily set up the positioned element’s <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①">inset properties</a> by specifying what area of this <a data-link-type="dfn" href="#inset-area-grid" id="ref-for-inset-area-grid">inset-area grid</a> you want the positioned element to be in.
Its syntax is:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-inset-area">&lt;inset-area></dfn> = [
  [ left <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④">|</a> center <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤">|</a> right <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥">|</a> span-left <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦">|</a> span-right
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧">|</a> x-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑨">|</a> x-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⓪">|</a> span-x-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①①">|</a> span-x-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①②">|</a> x-self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①③">|</a> x-self-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①④">|</a> span-x-self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑤">|</a> span-x-self-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑥">|</a> span-all ]
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any">||</a>
  [ top <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑦">|</a> center <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑧">|</a> bottom <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one①⑨">|</a> span-top <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⓪">|</a> span-bottom
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②①">|</a> y-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②②">|</a> y-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②③">|</a> span-y-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②④">|</a> span-y-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑤">|</a> y-self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑥">|</a> y-self-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑦">|</a> span-y-self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑧">|</a> span-y-self-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one②⑨">|</a> span-all ]
<a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⓪">|</a>
  [ block-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③①">|</a> center <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③②">|</a> block-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③③">|</a> span-block-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③④">|</a> span-block-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑤">|</a> self-block-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑥">|</a> self-block-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑦">|</a> span-self-block-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑧">|</a> span-self-block-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one③⑨">|</a> span-all ]
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any①">||</a>
  [ inline-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⓪">|</a> center <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④①">|</a> inline-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④②">|</a> span-inline-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④③">|</a> span-inline-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④④">|</a> self-inline-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑤">|</a> self-inline-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑥">|</a> span-self-inline-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑦">|</a> span-self-inline-end
  <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑧">|</a> span-all ]
<a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one④⑨">|</a>
  [ start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⓪">|</a> center <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤①">|</a> end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤②">|</a> span-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤③">|</a> span-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤④">|</a> span-all ]<a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-num-range" id="ref-for-mult-num-range">{1,2}</a>
<a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑤">|</a>
  [ self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑥">|</a> center <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑦">|</a> self-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑧">|</a> span-self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑤⑨">|</a> span-self-end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⓪">|</a> span-all ]<a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-num-range" id="ref-for-mult-num-range①">{1,2}</a>
]
</pre>
   <dl>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area" data-dfn-type="value" data-export id="valdef-inset-area-none">none</dfn>
    </dt>
<dd data-md>
     <p>The property has no effect.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area" data-dfn-type="value" data-export id="valdef-inset-area-inset-area"><a class="production css" data-link-type="type" href="#typedef-inset-area" id="ref-for-typedef-inset-area①">&lt;inset-area></a></dfn>
    </dt>
<dd data-md>
     <p>If the element does not have a <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element③">default anchor element</a>,
or is not an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position⑦">absolutely-positioned</a> element,
this value has no effect.</p>
     <p>Otherwise, the property selects a region of the <a data-link-type="dfn" href="#inset-area-grid" id="ref-for-inset-area-grid①">inset-area grid</a>,
and makes that the element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block⑦">containing block</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This means that the <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties②">inset properties</a> specify offsets from the inset-area,
and some property values,
like <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-sizing-3/#propdef-max-height" id="ref-for-propdef-max-height">max-height: 100%</a>,
will be relative to the inset-area as well.</p>
     <p>Additionally, the <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-align-3/#valdef-align-self-normal" id="ref-for-valdef-align-self-normal">normal</a> value for the <a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties">self-alignment properties</a> behaves as either <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-align-3/#valdef-self-position-start" id="ref-for-valdef-self-position-start">start</a>, <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-align-3/#valdef-self-position-end" id="ref-for-valdef-self-position-end">end</a>,
or <a class="css" data-link-type="maybe" href="#valdef-justify-self-anchor-center" id="ref-for-valdef-justify-self-anchor-center">anchor-center</a>,
depending on the positioning of the region,
to give a good default alignment for the positioned element.</p>
     <p>See <a href="#resolving-spans">§ 3.1.1 Resolving &lt;inset-area>s</a> for details on both of these effects.</p>
     <p>Also, any <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-position-3/#valdef-top-auto" id="ref-for-valdef-top-auto">auto</a> <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties③">inset properties</a> resolve to <span class="css">0</span>.</p>
   </dd>
</dl>
   <h4 class="heading settled" data-level="3.1.1" id="resolving-spans">
<span class="secno">3.1.1. </span><span class="content"> Resolving <a class="production css" data-link-type="type" href="#typedef-inset-area" id="ref-for-typedef-inset-area②">&lt;inset-area></a>s</span><a class="self-link" href="#resolving-spans"></a>
</h4>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="inset-area-grid">inset-area grid</dfn> is a 3x3 grid,
composed of four grid lines in each axis.
In order:</p>
   <ul>
    <li data-md>
     <p>the start edge of the element’s pre-modification <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block⑧">containing block</a>,
or the <span class="css">anchor-start()</span> edge of the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element④">default anchor element</a> if that is more <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start">start</a>-ward</p>
    </li>
<li data-md>
     <p>the <span class="css">anchor(start)</span> edge of the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element⑤">default anchor element</a></p>
    </li>
<li data-md>
     <p>the <span class="css">anchor(end)</span> edge of the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element⑥">default anchor element</a></p>
    </li>
<li data-md>
     <p>the end edge of the element’s pre-modification <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block⑨">containing block</a>,
or the <span class="css">anchor-start()</span> edge fo the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element⑦">default anchor element</a> if that is more <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end">end</a>-ward.</p>
   </li>
</ul>
   <p>An <a class="production css" data-link-type="type" href="#typedef-inset-area" id="ref-for-typedef-inset-area③">&lt;inset-area></a> selects a region of this grid
by specifying the rows and columns the region occupies,
with each of the two keywords specifying one of them:</p>
   <dl>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-start">start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-end">end</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-self-start">self-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-self-end">self-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-top">top</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-bottom">bottom</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-left">left</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-right">right</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-y-start">y-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-y-end">y-end</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-y-self-start">y-self-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-y-self-end">y-self-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-x-start">x-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-x-end">x-end</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-x-self-start">x-self-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-x-self-end">x-self-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-block-start">block-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-block-end">block-end</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-block-self-start">block-self-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-block-self-end">block-self-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-inline-start">inline-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-inline-end">inline-end</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-inline-self-start">inline-self-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-inline-self-end">inline-self-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-center">center</dfn>
    </dt>
</dt>
</dt>
</dt>
</dt>
</dt>
</dt>
<dd data-md>
     <p>The single corresponding row or column,
depending on which axis this keyword is specifying.</p>
     <p>Like in <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor③">anchor()</a>,
the plain logical keywords
(<a class="css" data-link-type="maybe" href="#valdef-inset-area-start" id="ref-for-valdef-inset-area-start">start</a>, <a class="css" data-link-type="maybe" href="#valdef-inset-area-end" id="ref-for-valdef-inset-area-end">end</a>, etc)
refer to the writing mode of the element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①⓪">containing block</a>.
The <a class="css" data-link-type="maybe" href="#valdef-inset-area-x-start" id="ref-for-valdef-inset-area-x-start">x-start</a>/etc determine their direction in the same way,
but in the specified physical axis.</p>
     <p>The "self" logical keywords
(<a class="css" data-link-type="maybe" href="#valdef-inset-area-self-start" id="ref-for-valdef-inset-area-self-start">self-start</a>, <a class="css" data-link-type="maybe" href="#valdef-inset-area-x-self-end" id="ref-for-valdef-inset-area-x-self-end">x-self-end</a>, etc)
are identical,
but refer to the element’s own writing mode.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-start">span-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-end">span-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-top">span-top</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-bottom">span-bottom</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-y-start">span-y-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-y-end">span-y-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-x-start">span-x-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-x-end">span-x-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-block-start">span-block-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-block-end">span-block-end</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-inline-start">span-inline-start</dfn>, <dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-inline-end">span-inline-end</dfn>
    </dt>
</dt>
</dt>
</dt>
</dt>
</dt>
<dd data-md>
     <p>Two rows or columns,
depending on which axis this keyword is specifying:
the center row/column,
and the row/column corresponding to the other half of the keyword
as per the single-track keywords.</p>
     <p>(For example, <a class="css" data-link-type="maybe" href="#valdef-inset-area-span-top" id="ref-for-valdef-inset-area-span-top">span-top</a> spans the first two rows—​the center row and the top row.)</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="inset-area, <inset-area>" data-dfn-type="value" data-export id="valdef-inset-area-span-all">span-all</dfn>
    </dt>
<dd data-md>
     <p>All three rows or columns,
depending on which axis this keyword is specifying.</p>
   </dd>
</dl>
   <p>Some keywords are ambiguous about what axis they refer to: <a class="css" data-link-type="maybe" href="#valdef-inset-area-center" id="ref-for-valdef-inset-area-center">center</a>, <a class="css" data-link-type="maybe" href="#valdef-inset-area-span-all" id="ref-for-valdef-inset-area-span-all">span-all</a>,
and the <a class="css" data-link-type="maybe" href="#valdef-inset-area-start" id="ref-for-valdef-inset-area-start①">start</a>/etc keywords that don’t specify the block or inline axis explicitly.
If the other keyword is unambiguous about its axis,
then the ambiguous keyword is referring to the opposite axis.
(For example, in <span class="css">block-start center</span>,
the <span class="css" id="ref-for-valdef-inset-area-center①">center</span> keyword is referring to the inline axis.)
If both keywords are ambiguous, however,
then the first refers to the block axis of the element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①①">containing block</a>,
and the second to the inline axis.
(For example, <span class="css">span-all start</span> is equivalent to <span class="css">span-all inline-start</span>.)</p>
   <p>If only a single keyword is given,
it behaves as if the second keyword is <a class="css" data-link-type="maybe" href="#valdef-inset-area-span-all" id="ref-for-valdef-inset-area-span-all①">span-all</a> if the given keyword is unambigous about its axis;
otherwise, it behaves as if the given keyword was repeated.
(For example, <a class="css" data-link-type="maybe" href="#valdef-inset-area-top" id="ref-for-valdef-inset-area-top">top</a> is equivalent to <span class="css">top span-all</span>,
but <a class="css" data-link-type="maybe" href="#valdef-inset-area-center" id="ref-for-valdef-inset-area-center②">center</a> is equivalent to <span class="css">center center</span>.)</p>
   <hr>
   <p>The <a class="production css" data-link-type="type" href="#typedef-inset-area" id="ref-for-typedef-inset-area④">&lt;inset-area></a> also implies a default <a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-align" id="ref-for-self-align">self-alignment</a>,
which will be used if the <a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties①">self-alignment property</a> on the element
is <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-align-3/#valdef-align-self-normal" id="ref-for-valdef-align-self-normal①">normal</a>:</p>
   <ul>
    <li data-md>
     <p>If the inset area includes the center region in an axis
the default alignment in that axis is <a class="css" data-link-type="maybe" href="#valdef-justify-self-anchor-center" id="ref-for-valdef-justify-self-anchor-center①">anchor-center</a>.</p>
    </li>
<li data-md>
     <p>Otherwise, it’s the opposite of the region it specifies:
if it’s specifying the "start" region of its axis,
the default alignment in that axis is <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-align-3/#valdef-self-position-end" id="ref-for-valdef-self-position-end①">end</a>; etc.</p>
   </li>
</ul>
   <div class="example" id="example-7921ad0f">
    <a class="self-link" href="#example-7921ad0f"></a> For example, assuming an English-equivalent writing mode (horizontal-tb, ltr),
	then the value <span class="css">span-x-start top</span> resolves to
	the "start" region of the vertical axis,
	and the "start" and "center" regions of the horizontal axis,
	so the default alignments will be <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self">align-self: end;</a> and <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-align-3/#propdef-justify-self" id="ref-for-propdef-justify-self">justify-self: anchor-center;</a> 
    <figure>
      <img src="www.w3.org/TR/css-anchor-position-1/images/inset-area-example.png" width="400"> 
     <figcaption> An example of <a class="css" data-link-type="propdesc" href="#propdef-inset-area" id="ref-for-propdef-inset-area③">inset-area: span-x-start top</a> positioning. </figcaption>
    </figure>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> When the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element⑧">default anchor element</a> is partially or completely outside of the pre-modified <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①②">containing block</a>,
some of the <a data-link-type="dfn" href="#inset-area-grid" id="ref-for-inset-area-grid②">inset-area grid’s</a> rows or columns can be zero-sized.</p>
   <h3 class="heading settled" data-level="3.2" id="anchor-pos">
<span class="secno">3.2. </span><span class="content">The <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor④">anchor()</a> Function</span><a class="self-link" href="#anchor-pos"></a>
</h3>
   <p>An <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position⑧">absolutely-positioned</a> element
can use the <dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-anchor">anchor()</dfn> function
as a value in its <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties④">inset properties</a> to refer to the position of one or more <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①①">anchor elements</a>.
The <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor⑤">anchor()</a> function resolves to a <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#length-value" id="ref-for-length-value">&lt;length></a>.</p>
<pre class="prod">&lt;anchor()> = anchor( <a class="production" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element②">&lt;anchor-element></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt">?</a> <a class="production" data-link-type="type" href="#typedef-anchor-side" id="ref-for-typedef-anchor-side">&lt;anchor-side></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma">,</a> <a class="production" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage">&lt;length-percentage></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt①">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-anchor-element"><a class="production" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element③">&lt;anchor-element></a></dfn> = <a class="production" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑥">&lt;dashed-ident></a> <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥①">|</a> implicit
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-anchor-side"><a class="production" data-link-type="type" href="#typedef-anchor-side" id="ref-for-typedef-anchor-side①">&lt;anchor-side></a></dfn> = inside <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥②">|</a> outside
       <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥③">|</a> top <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥④">|</a> left <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑤">|</a> right <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑥">|</a> bottom
       <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑦">|</a> start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑧">|</a> end <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑥⑨">|</a> self-start <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⓪">|</a> self-end
       <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦①">|</a> <a class="production" data-link-type="type" href="www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value">&lt;percentage></a> <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦②">|</a> center
</pre>
   <p>The <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor⑥">anchor()</a> function has three arguments:</p>
   <ul>
    <li data-md>
     <p>the <a class="production css" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element④">&lt;anchor-element></a> value
specifies how to find the <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①②">anchor element</a> it will be drawing positioning information from.
If omitted, it behaves as the element’s <a data-link-type="dfn" href="#default-anchor-specifier" id="ref-for-default-anchor-specifier②">default anchor specifier</a>.
Its possible values are:</p>
     <dl>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-dashed-ident"><a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑦">&lt;dashed-ident></a></dfn>
      </dt>
<dd data-md>
       <p>Specifies the <a data-link-type="dfn" href="#anchor-name" id="ref-for-anchor-name①⑤">anchor name</a> it will look for.
This name is a <a data-link-type="dfn" href="drafts.csswg.org/css-scoping-1/#css-tree-scoped-reference" id="ref-for-css-tree-scoped-reference②">tree-scoped reference</a>.</p>
      </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-implicit">implicit</dfn>
      </dt>
<dd data-md>
       <p>Selects the <a data-link-type="dfn" href="#implicit-anchor-element" id="ref-for-implicit-anchor-element⑦">implicit anchor element</a> defined for the element,
if possible.</p>
     </dd>
</dl>
     <p>See <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element③">target anchor element</a> for details.</p>
    </li>
<li data-md>
     <p>the <a class="production css" data-link-type="type" href="#typedef-anchor-side" id="ref-for-typedef-anchor-side②">&lt;anchor-side></a> value
refers to the position of the corresponding side
of the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element④">target anchor element</a>.
Its possible values are:</p>
     <dl>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-inside">inside</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-outside">outside</dfn>
      </dt>
</dt>
<dd data-md>
       <p>Resolves to one of the <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①③">anchor element’s</a> sides,
depending on which <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties⑤">inset property</a> it’s used in. <a class="css" data-link-type="maybe" href="#valdef-anchor-inside" id="ref-for-valdef-anchor-inside">inside</a> refers to the same side as the <span id="ref-for-inset-properties⑥">inset property</span> (attaching the element to the "inside" of the anchor),
while <a class="css" data-link-type="maybe" href="#valdef-anchor-outside" id="ref-for-valdef-anchor-outside">outside</a> refers to the opposite.</p>
      </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-top">top</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-right">right</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-bottom">bottom</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-left">left</dfn>
      </dt>
</dt>
</dt>
</dt>
<dd data-md>
       <p>Refers to the specified side of the <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①④">anchor element</a>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> These are only usable in the <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties⑦">inset properties</a> in the matching axis.
For example, <a class="css" data-link-type="maybe" href="#valdef-anchor-left" id="ref-for-valdef-anchor-left">left</a> is usable in <a class="property css" data-link-type="property" href="www.w3.org/TR/css-position-3/#propdef-left" id="ref-for-propdef-left">left</a>, <a class="property css" data-link-type="property" href="www.w3.org/TR/css-position-3/#propdef-right" id="ref-for-propdef-right">right</a>,
or the logical <span id="ref-for-inset-properties⑧">inset properties</span> that refer to the horizontal axis.</p>
      </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-start">start</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-end">end</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-self-start">self-start</dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-self-end">self-end</dfn>
      </dt>
</dt>
</dt>
</dt>
<dd data-md>
       <p>Refers to one of the sides of the <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①⑤">anchor element</a> in the same axis as the <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties⑨">inset property</a> it’s used in,
by resolving the keyword against the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode">writing mode</a> of either the positioned element
(for <a class="css" data-link-type="maybe" href="#valdef-anchor-self-start" id="ref-for-valdef-anchor-self-start">self-start</a> and <a class="css" data-link-type="maybe" href="#valdef-anchor-self-end" id="ref-for-valdef-anchor-self-end">self-end</a>)
or the positioned element’s containing block
(for <a class="css" data-link-type="maybe" href="#valdef-anchor-start" id="ref-for-valdef-anchor-start">start</a> and <a class="css" data-link-type="maybe" href="#valdef-anchor-end" id="ref-for-valdef-anchor-end">end</a>).</p>
      </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-percentage"><a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#percentage-value" id="ref-for-percentage-value①">&lt;percentage></a></dfn>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="anchor()" data-dfn-type="value" data-export id="valdef-anchor-center">center</dfn>
      </dt>
</dt>
<dd data-md>
       <p>Refers to a position
a corresponding percentage between the <a class="css" data-link-type="maybe" href="#valdef-anchor-start" id="ref-for-valdef-anchor-start①">start</a> and <a class="css" data-link-type="maybe" href="#valdef-anchor-end" id="ref-for-valdef-anchor-end①">end</a> sides,
with <span class="css">0%</span> being equivalent to <span class="css" id="ref-for-valdef-anchor-start②">start</span> and <span class="css">100%</span> being equivalent to <span class="css" id="ref-for-valdef-anchor-end②">end</span>.</p>
       <p><a class="css" data-link-type="maybe" href="#valdef-anchor-center" id="ref-for-valdef-anchor-center">center</a> is equivalent to <span class="css">50%</span>.</p>
     </dd>
</dl>
    </li>
<li data-md>
     <p>the optional <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage①">&lt;length-percentage></a> final argument is a fallback value,
specifying what the function should resolve to
if it’s an <a data-link-type="dfn" href="#valid-anchor-function" id="ref-for-valid-anchor-function">invalid anchor function</a>.</p>
   </li>
</ul>
   <p class="issue" id="issue-02b9489e"><a class="self-link" href="#issue-02b9489e"></a> Computed value for anchor()
probably needs to be the anchor() function,
but with the target anchor element resolved.
This allows for transitions to work properly
with tree-scoped names,
and with changing anchor elements.
See <a href="github.com/w3c/csswg-drafts/issues/8180">Issue 8180</a>.</p>
   <p>An <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor⑦">anchor()</a> function representing a <a data-link-type="dfn" href="#valid-anchor-function" id="ref-for-valid-anchor-function①">valid anchor function</a> resolves at <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value">used value</a> time
to the <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#length-value" id="ref-for-length-value①">&lt;length></a> that would align the edge
of the positioned elements' <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block">inset-modified containing block</a> corresponding to the property the function appears in
with the specified border edge of the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element⑤">target anchor element</a>,
assuming that all <a data-link-type="dfn" href="www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container">scroll containers</a> between the <span id="ref-for-target-anchor-element⑥">target anchor element</span> and the positioned element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①③">containing block</a> are scrolled to their initial scroll position
(but see <a href="#scroll">§ 3.4 Taking Scroll Into Account</a>).</p>
   <p>If the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element⑦">target anchor element</a> is <a data-link-type="dfn" href="www.w3.org/TR/css-break-4/#fragment" id="ref-for-fragment">fragmented</a>,
the axis-aligned bounding rectangle
of the fragments' border boxes is used instead.</p>
   <p class="issue" id="issue-3c6fe13f"><a class="self-link" href="#issue-3c6fe13f"></a> Do we need to control which box we’re referring to,
so you can align to padding or content edge?</p>
   <p>The positioned element
is additionally visually shifted
by its <a data-link-type="dfn" href="#snapshotted-scroll-offset" id="ref-for-snapshotted-scroll-offset">snapshotted scroll offset</a>,
as if by an additional <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-transforms-1/#funcdef-transform-translate" id="ref-for-funcdef-transform-translate">translate()</a> transform.</p>
   <div class="example" id="example-ef794aa0">
    <a class="self-link" href="#example-ef794aa0"></a> For example,
	in <span class="css">.bar { top: anchor(--foo top); }</span>,
	the <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor⑧">anchor()</a> will resolve to the length
	that’ll line up the <code>.bar</code> element’s top edge
	with the <span class="css">--foo</span> anchor’s top edge. 
    <p>On the other hand,
	in <span class="css">.bar { bottom: anchor(--foo top); }</span>,
	it will instead resolve to the length
	that’ll line up the <code>.bar</code> element’s <em>bottom</em> edge
	with the <span class="css">--foo</span> anchor’s top edge.</p>
    <p>Since <a class="property css" data-link-type="property" href="www.w3.org/TR/css-position-3/#propdef-top" id="ref-for-propdef-top">top</a> and <a class="property css" data-link-type="property" href="www.w3.org/TR/css-position-3/#propdef-bottom" id="ref-for-propdef-bottom">bottom</a> values specify insets from different edges
	(the top and bottom of the element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①④">containing block</a>,
	respectively),
	the same <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor⑨">anchor()</a> will usually resolve to different lengths in each.</p>
   </div>
   <div class="example" id="example-a7ac0832">
    <a class="self-link" href="#example-a7ac0832"></a> Because the <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①⓪">anchor()</a> function resolves to a <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#length-value" id="ref-for-length-value②">&lt;length></a>,
	it can be used in <a data-link-type="dfn" href="www.w3.org/TR/css-values-4/#math-function" id="ref-for-math-function">math functions</a> like any other length. 
    <p>For example, the following will set up the element
	so that its <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block①">inset-modified containing block</a> is centered on the <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①⑥">anchor element</a> and as wide as possible without overflowing the <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①⑤">containing block</a>:</p>
<pre class="highlight">.centered-message <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> fixed<c- p>;</c->
  <c- k>max-width</c-><c- p>:</c-> max-content<c- p>;</c->
  <c- k>justify-self</c-><c- p>:</c-> center<c- p>;</c->

  <c- k>--center</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->--x <c- m>50</c-><c- k>%</c-><c- p>);</c->
  <c- k>--half-distance</c-><c- p>:</c-> <c- nf>min</c-><c- p>(</c->
    <c- nf>abs</c-><c- p>(</c-><c- m>0</c-><c- k>%</c-> - <c- nf>var</c-><c- p>(</c->--center<c- p>)),</c->
    <c- nf>abs</c-><c- p>(</c-><c- m>100</c-><c- k>%</c-> - <c- nf>var</c-><c- p>(</c->--center<c- p>))</c->
  <c- p>);</c->
  <c- k>left</c-><c- p>:</c-> <c- nf>calc</c-><c- p>(</c-><c- nf>var</c-><c- p>(</c->--center<c- p>)</c-> - <c- nf>var</c-><c- p>(</c->--half-distance<c- p>));</c->
  <c- k>right</c-><c- p>:</c-> <c- nf>calc</c-><c- p>(</c-><c- nf>var</c-><c- p>(</c->--center<c- p>)</c-> - <c- nf>var</c-><c- p>(</c->--half-distance<c- p>));</c->
  <c- k>bottom</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->--x top<c- p>);</c->
<c- p>}</c->
</pre>
    <p>This might be appropriate for an error message
	on an <code><a data-link-type="element" href="html.spec.whatwg.org/multipage/input.html#the-input-element" id="ref-for-the-input-element">input</a></code> element,
	for example,
	as the centering will make it easier to discover
	which input is being referred to.</p>
   </div>
   <h3 class="heading settled" data-level="3.3" id="anchor-center">
<span class="secno">3.3. </span><span class="content">Centering on the Anchor: the <a class="css" data-link-type="maybe" href="#valdef-justify-self-anchor-center" id="ref-for-valdef-justify-self-anchor-center②">anchor-center</a> value</span><a class="self-link" href="#anchor-center"></a>
</h3>
   <table class="def propdef partial" data-link-for-hint="justify-self">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<a class="css" data-link-type="property" href="www.w3.org/TR/css-align-3/#propdef-justify-self" id="ref-for-propdef-justify-self①">justify-self</a>, <a class="css" data-link-type="property" href="www.w3.org/TR/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self①">align-self</a>, <a class="css" data-link-type="property" href="www.w3.org/TR/css-align-3/#propdef-justify-items" id="ref-for-propdef-justify-items">justify-items</a>, <a class="css" data-link-type="property" href="www.w3.org/TR/css-align-3/#propdef-align-items" id="ref-for-propdef-align-items">align-items</a>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">New values:</a>
      </th>
<td class="prod">anchor-center
   </td>
</tr>
</tbody>
</table>
   <p>The <a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties②">self-alignment properties</a> allow an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position⑨">absolutely-positioned</a> element
to align itself within the <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block②">inset-modified containing block</a>.
The existing values,
plus carefully chosen <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①⓪">inset properties</a>,
are usually enough for useful alignment,
but a common case for anchored positioning—​centering over the anchor element—​requires careful and somewhat complex set-up to achieve.</p>
   <p>The new <dfn class="dfn-paneled css" data-dfn-for="justify-self, align-self, justify-items, align-items" data-dfn-type="value" data-export id="valdef-justify-self-anchor-center">anchor-center</dfn> value
makes this case extremely simple:
if the positioned element has a <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element⑨">default anchor element</a>,
then it is aligned so as to center itself
over the <span id="ref-for-default-anchor-element①⓪">default anchor element</span> in the relevant axis.</p>
   <p>Additionally,
any <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-position-3/#valdef-top-auto" id="ref-for-valdef-top-auto①">auto</a> <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①①">inset properties</a> resolve to <span class="css">0</span>.
However, the <a data-link-type="dfn" href="www.w3.org/TR/css-sizing-3/#available" id="ref-for-available">available space</a> for the positioned element in the relevant axis
is reduced to the size of the largest rectangle
that is centered on the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element①①">default anchor element</a> and doesn’t overflow the <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block③">inset-modified containing block</a>.
(Possibly being zero-sized,
if the anchor’s center is not within the <span id="ref-for-inset-modified-containing-block④">inset-modified containing block</span>.)</p>
   <p>If the element is not <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①⓪">absolutely positioned</a>,
or does not have a <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element①②">default anchor element</a>,
this value behaves as <a class="css" data-link-type="maybe" href="www.w3.org/TR/css-align-3/#valdef-self-position-center" id="ref-for-valdef-self-position-center">center</a> and has no additional effect on how <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①②">inset properties</a> resolve.</p>
   <h3 class="heading settled" data-level="3.4" id="scroll">
<span class="secno">3.4. </span><span class="content">Taking Scroll Into Account</span><a class="self-link" href="#scroll"></a>
</h3>
   <p>Because scrolling is often done in a separate thread from layout in implementations for performance reasons,
but <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①①">anchor()</a> can result in both positioning changes
(which can be handled in the scrolling thread)
and layout changes
(which cannot), <span class="css" id="ref-for-funcdef-anchor①②">anchor()</span> is defined to assume
all the <a data-link-type="dfn" href="www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container①">scroll containers</a> between the anchor element
and the positioned element’s containing block
are at their initial scroll position.
This means a positioned element
will <em>not</em> be aligned with its anchor
if any of the scrollers are <em>not</em> at their initial positions.</p>
   <p>To compensate for this without losing
the performance benefits of the separate scrolling thread,
we define:</p>
   <div class="algorithm" data-algorithm="compensate for scroll">
     An <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①①">absolutely-positioned</a> element <var>query el</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="needs-scroll-adjustment">needs scroll adjustment</dfn> in the horizontal or vertical axis
	if both of the following conditions are true: 
    <ul>
     <li data-md>
      <p><var>query el</var> has a <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element①③">default anchor element</a>.</p>
     </li>
<li data-md>
      <p>At least one <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①③">anchor()</a> function on <var>query el</var>’s
used <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①③">inset properties</a> in the axis
refers to a <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element⑧">target anchor element</a> with the same nearest <a data-link-type="dfn" href="www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container②">scroll container</a> ancestor
as <var>query el</var>’s <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element①④">default anchor element</a>,
or <var>query el</var>’s used <a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties③">self-alignment property</a> value
in the axis is <a class="css" data-link-type="maybe" href="#valdef-justify-self-anchor-center" id="ref-for-valdef-justify-self-anchor-center③">anchor-center</a>.</p>
    </li>
</ul>
    <p class="note" role="note"><span class="marker">Note:</span> If <var>query el</var> has a <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list①">position options list</a>,
	then whether it <a data-link-type="dfn" href="#needs-scroll-adjustment" id="ref-for-needs-scroll-adjustment">needs scroll adjustment</a> in an axis
	is also affected by the applied fallback style.</p>
    <p><var>query el</var>’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="snapshotted-scroll-offset">snapshotted scroll offset</dfn> is a pair of lengths
	for the horizontal and vertical axises, respectively.
	Each length is calculated as:</p>
    <ul>
     <li data-md>
      <p>If <var>query el</var> <a data-link-type="dfn" href="#needs-scroll-adjustment" id="ref-for-needs-scroll-adjustment①">needs scroll adjustment</a> in the axis,
then the length is the sum of the <a data-link-type="dfn" href="www.w3.org/TR/css-overflow-3/#scroll-offset" id="ref-for-scroll-offset">scroll offsets</a> of all <a data-link-type="dfn" href="www.w3.org/TR/css-overflow-3/#scroll-container" id="ref-for-scroll-container③">scroll container</a> ancestors
of the <a data-link-type="dfn" href="#default-anchor-element" id="ref-for-default-anchor-element①⑤">default anchor element</a> in the same axis,
up to but not including <var>query el</var>’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①⑥">containing block</a>;</p>
     </li>
<li data-md>
      <p>Otherwise, the length is 0.</p>
    </li>
</ul>
    <p class="issue" id="issue-5446f06a"><a class="self-link" href="#issue-5446f06a"></a> Define the precise timing of the snapshot:
	updated each frame,
	before style recalc.</p>
   </div>
   <h3 class="heading settled" data-level="3.5" id="anchor-valid">
<span class="secno">3.5. </span><span class="content">Validity</span><a class="self-link" href="#anchor-valid"></a>
</h3>
   <p>An <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①④">anchor()</a> function is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="valid anchor function|invalid anchor function" data-noexport id="valid-anchor-function">valid anchor function</dfn> only if all the following conditions are true:</p>
   <ul>
    <li data-md>
     <p>It’s being used in an <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①④">inset property</a> on an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①②">absolutely-positioned</a> element.</p>
    </li>
<li data-md>
     <p>If its <a class="production css" data-link-type="type" href="#typedef-anchor-side" id="ref-for-typedef-anchor-side③">&lt;anchor-side></a> specifies a physical keyword,
it’s being used in an <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①⑤">inset property</a> in that axis.
(For example, <a class="css" data-link-type="maybe" href="#valdef-anchor-left" id="ref-for-valdef-anchor-left①">left</a> can only be used in <a class="property css" data-link-type="property" href="www.w3.org/TR/css-position-3/#propdef-left" id="ref-for-propdef-left①">left</a>, <a class="property css" data-link-type="property" href="www.w3.org/TR/css-position-3/#propdef-right" id="ref-for-propdef-right①">right</a>,
or a logical <span id="ref-for-inset-properties①⑥">inset property</span> in the horizontal axis.)</p>
    </li>
<li data-md>
     <p>The result of determining the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element⑨">target anchor element</a> is not nothing when
given the querying element as the element it’s used on,
and the anchor specifier as
the <a class="production css" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element⑤">&lt;anchor-element></a> value specified in the function.</p>
   </li>
</ul>
   <p>If any of these conditions are false,
the <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①⑤">anchor()</a> function resolves to its specified fallback value.
If no fallback value is specified,
it resolves to <span class="css">0px</span>.</p>
   <h2 class="heading settled" data-level="4" id="sizing">
<span class="secno">4. </span><span class="content">Anchor-Based Sizing</span><a class="self-link" href="#sizing"></a>
</h2>
   <p>An <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①③">absolutely-positioned</a> element
can use the <dfn class="dfn-paneled css" data-dfn-type="function" data-export id="funcdef-anchor-size">anchor-size()</dfn> function
in its <a data-link-type="dfn" href="www.w3.org/TR/css-sizing-3/#sizing-property" id="ref-for-sizing-property">sizing properties</a> to refer to the size of one or more <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①⑦">anchor elements</a>.
The <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size②">anchor-size()</a> function resolves to a <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#length-value" id="ref-for-length-value③">&lt;length></a>.</p>
   <h3 class="heading settled" data-level="4.1" id="anchor-size-fn">
<span class="secno">4.1. </span><span class="content">The <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size③">anchor-size()</a> Function</span><a class="self-link" href="#anchor-size-fn"></a>
</h3>
<pre class="prod">anchor-size() = anchor-size( <a class="production" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element⑥">&lt;anchor-element></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt②">?</a> <a class="production" data-link-type="type" href="#typedef-anchor-size" id="ref-for-typedef-anchor-size">&lt;anchor-size></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-comma" id="ref-for-comb-comma①">,</a> <a class="production" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-length-percentage" id="ref-for-typedef-length-percentage②">&lt;length-percentage></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt③">?</a> )
<dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-anchor-size"><a class="production" data-link-type="type" href="#typedef-anchor-size" id="ref-for-typedef-anchor-size①">&lt;anchor-size></a></dfn> = width <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦③">|</a> height <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦④">|</a> block <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑤">|</a> inline <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑥">|</a> self-block <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑦">|</a> self-inline
</pre>
   <p>The <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size④">anchor-size()</a> function is similar to <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①⑥">anchor()</a>,
and takes the same arguments,
save that the <a class="production css" data-link-type="type" href="#typedef-anchor-side" id="ref-for-typedef-anchor-side④">&lt;anchor-side></a> keywords are replaced with <a class="production css" data-link-type="type" href="#typedef-anchor-size" id="ref-for-typedef-anchor-size②">&lt;anchor-size></a>,
referring to the distance between two opposing sides.</p>
   <p>The physical <a class="production css" data-link-type="type" href="#typedef-anchor-size" id="ref-for-typedef-anchor-size③">&lt;anchor-size></a> keywords
(<dfn class="dfn-paneled css" data-dfn-for="anchor-size()" data-dfn-type="value" data-export id="valdef-anchor-size-width">width</dfn> and <dfn class="dfn-paneled css" data-dfn-for="anchor-size()" data-dfn-type="value" data-export id="valdef-anchor-size-height">height</dfn>)
refer to the width and height,
respectively,
of the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element①⓪">target anchor element</a>.
Unlike <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①⑦">anchor()</a>, there is no restriction on having to match axises;
for example, <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-sizing-3/#propdef-width" id="ref-for-propdef-width">width: anchor-size(--foo height);</a> is valid.</p>
   <p>The logical <a class="production css" data-link-type="type" href="#typedef-anchor-size" id="ref-for-typedef-anchor-size④">&lt;anchor-size></a> keywords
(<dfn class="dfn-paneled css" data-dfn-for="anchor-size()" data-dfn-type="value" data-export id="valdef-anchor-size-block">block</dfn>, <dfn class="dfn-paneled css" data-dfn-for="anchor-size()" data-dfn-type="value" data-export id="valdef-anchor-size-inline">inline</dfn>, <dfn class="dfn-paneled css" data-dfn-for="anchor-size()" data-dfn-type="value" data-export id="valdef-anchor-size-self-block">self-block</dfn>,
and <dfn class="dfn-paneled css" data-dfn-for="anchor-size()" data-dfn-type="value" data-export id="valdef-anchor-size-self-inline">self-inline</dfn>)
map to one of the physical keywords
according to either the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#writing-mode" id="ref-for-writing-mode①">writing mode</a> of the element
(for <a class="css" data-link-type="maybe" href="#valdef-anchor-size-self-block" id="ref-for-valdef-anchor-size-self-block">self-block</a> and <a class="css" data-link-type="maybe" href="#valdef-anchor-size-self-inline" id="ref-for-valdef-anchor-size-self-inline">self-inline</a>)
or the <span id="ref-for-writing-mode②">writing mode</span> of the element’s <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①⑦">containing block</a> (for <a class="css" data-link-type="maybe" href="#valdef-anchor-size-block" id="ref-for-valdef-anchor-size-block">block</a> and <a class="css" data-link-type="maybe" href="#valdef-anchor-size-inline" id="ref-for-valdef-anchor-size-inline">inline</a>).</p>
   <p>An <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size⑤">anchor-size()</a> function representing a <a data-link-type="dfn" href="#valid-anchor-size-function" id="ref-for-valid-anchor-size-function">valid anchor-size function</a> resolves to the <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#length-value" id="ref-for-length-value④">&lt;length></a> separating the relevant border edges
(either left and right, or top and bottom,
whichever is in the specified axis)
of the <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element①①">target anchor element</a>.</p>
   <h3 class="heading settled" data-level="4.2" id="anchor-size-valid">
<span class="secno">4.2. </span><span class="content">Validity</span><a class="self-link" href="#anchor-size-valid"></a>
</h3>
   <p>An <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size⑥">anchor-size()</a> function is a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="valid anchor-size function|invalid anchor-size function" data-noexport id="valid-anchor-size-function">valid anchor-size function</dfn> only if all the following conditions are true:</p>
   <ul>
    <li data-md>
     <p>It’s being used in a <a data-link-type="dfn" href="www.w3.org/TR/css-sizing-3/#sizing-property" id="ref-for-sizing-property①">sizing property</a> on an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①④">absolutely-positioned</a> element.</p>
    </li>
<li data-md>
     <p>There is a <a data-link-type="dfn" href="#target-anchor-element" id="ref-for-target-anchor-element①②">target anchor element</a> for the element it’s used on,
and the <a class="production css" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element⑦">&lt;anchor-element></a> value specified in the function.</p>
   </li>
</ul>
   <p>If any of these conditions are false,
the <a class="css" data-link-type="maybe" href="#funcdef-anchor-size" id="ref-for-funcdef-anchor-size⑦">anchor-size()</a> function resolves to its specified fallback value.
If no fallback value is specified,
it resolves to <span class="css">0px</span>.</p>
   <h2 class="heading settled" data-level="5" id="fallback">
<span class="secno">5. </span><span class="content">Overflow Management</span><a class="self-link" href="#fallback"></a>
</h2>
   <p>Anchor positioning,
while powerful,
can also be unpredictable.
The <a data-link-type="dfn" href="#anchor-element" id="ref-for-anchor-element①⑧">anchor element</a> might be anywhere on the page,
so positioning an element in any particular fashion
(such as above the anchor, or the right of the anchor)
might result in the positioned element overflowing its <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①⑧">containing block</a> or being positioned partially off screen.</p>
   <p>To ameliorate this, an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①⑤">absolutely positioned</a> element
can use the <a class="property css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options">position-try-options</a> property
to refer to several variant sets of positioning/alignment properties
(generated from the element’s existing styles,
or specified in <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try">@position-try</a> rules)
that the UA can try if the element overflows its initial position.
Each is applied to the element, one by one,
and the first that doesn’t cause the element
to overflow its <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#containing-block" id="ref-for-containing-block①⑨">containing block</a> is taken as the winner.</p>
   <p><a class="property css" data-link-type="property" href="#propdef-position-try-order" id="ref-for-propdef-position-try-order">position-try-order</a> allows these options
to additional be sorted by the available space they define,
if it’s more important for the element to have as much space as possible
rather than strictly follow some declared order.</p>
   <h3 class="heading settled" data-level="5.1" id="position-try-options">
<span class="secno">5.1. </span><span class="content">Giving Fallback Options: the <a class="property css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options①">position-try-options</a> property</span><a class="self-link" href="#position-try-options"></a>
</h3>
   <table class="def propdef" data-link-for-hint="position-try-options">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-position-try-options">position-try-options</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">none <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑦⑧">|</a> [ [<a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑧">&lt;dashed-ident></a> <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any②">||</a> <a class="production css" data-link-type="type" href="#typedef-position-try-options-try-tactic" id="ref-for-typedef-position-try-options-try-tactic">&lt;try-tactic></a>] <span id="ref-for-comb-one⑦⑨">|</span> inset-area( <a class="production css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area④">&lt;'inset-area'></a> ) ]<a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-comma" id="ref-for-mult-comma②">#</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>none
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>
<a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①⑥">absolutely-positioned</a> elements
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>no
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>n/a
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>as specified
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>discrete
   </td>
</tr>
</tbody>
</table>
   <p>This property provides a list of alternate positioning styles
to try when the <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①⑦">absolutely positioned box</a> overflows its <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑤">inset-modified containing block</a>.
This <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="position-options-list">position options list</dfn> is initially empty.</p>
   <p>Each comma-separated entry in the list is a separate option:
either the name of a <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try①">@position-try</a> block,
or a <a class="production css" data-link-type="type" href="#typedef-position-try-options-try-tactic" id="ref-for-typedef-position-try-options-try-tactic①">&lt;try-tactic></a> representing an automatic transformation of the element’s existing computed style.</p>
   <p>Values have the following meanings:</p>
   <dl>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-none">none</dfn>
    </dt>
<dd data-md>
     <p>The property has no effect;
the element’s <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list②">position options list</a> is empty.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-dashed-ident"><a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident⑨">&lt;dashed-ident></a></dfn>
    </dt>
<dd data-md>
     <p>If there is a <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try②">@position-try</a> rule
with the given name,
its associated <a data-link-type="dfn" href="#position-option" id="ref-for-position-option">position option</a> is added to the <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list③">position options list</a>.</p>
     <p>Otherwise,
this value has no effect.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-try-tactic"><a class="production css" data-link-type="type" href="#typedef-position-try-options-try-tactic" id="ref-for-typedef-position-try-options-try-tactic②">&lt;try-tactic></a></dfn>
    </dt>
<dd data-md>
     <p>Automatically creates a <a data-link-type="dfn" href="#position-option" id="ref-for-position-option①">position option</a> from the element’s computed style,
by swapping the <a data-link-type="dfn" href="www.w3.org/TR/css-box-4/#margin-properties" id="ref-for-margin-properties">margin</a>, <a data-link-type="dfn" href="www.w3.org/TR/css-sizing-3/#sizing-property" id="ref-for-sizing-property②">sizing</a>, <a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①⑦">inset</a>,
and <a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties④">self-alignment</a> property values
among the element’s sides,
and adds it to the <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list④">position options list</a>.</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-for="position-try-options" data-dfn-type="type" data-export id="typedef-position-try-options-try-tactic"><a class="production" data-link-type="type" href="#typedef-position-try-options-try-tactic" id="ref-for-typedef-position-try-options-try-tactic③">&lt;try-tactic></a></dfn> = flip-block <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any③">||</a> flip-inline <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-any" id="ref-for-comb-any④">||</a> flip-start
</pre>
     <dl>
      <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-flip-block">flip-block</dfn>
      </dt>
<dd data-md>
       <p>swaps the values in the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis">block axis</a> (between, for example, <a class="property css" data-link-type="property" href="www.w3.org/TR/css-logical-1/#propdef-margin-block-start" id="ref-for-propdef-margin-block-start">margin-block-start</a> and <a class="property css" data-link-type="property" href="www.w3.org/TR/css-logical-1/#propdef-margin-block-end" id="ref-for-propdef-margin-block-end">margin-block-end</a>),
essentially mirroring across an <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis">inline-axis</a> line.</p>
      </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-flip-inline">flip-inline</dfn>
      </dt>
<dd data-md>
       <p>swaps the values in the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#inline-axis" id="ref-for-inline-axis①">inline axis</a>,
essentially mirroring across a <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#block-axis" id="ref-for-block-axis①">block-axis</a> line.</p>
      </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-flip-start">flip-start</dfn>
      </dt>
<dd data-md>
       <p>swaps the values of the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#start" id="ref-for-start①">start</a> properties with each other,
and the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#end" id="ref-for-end①">end</a> properties with each other
(between, for example, <a class="property css" data-link-type="property" href="www.w3.org/TR/css-logical-1/#propdef-margin-block-start" id="ref-for-propdef-margin-block-start①">margin-block-start</a> and <a class="property css" data-link-type="property" href="www.w3.org/TR/css-logical-1/#propdef-margin-inline-start" id="ref-for-propdef-margin-inline-start">margin-inline-start</a>),
essentially mirroring across a diagonal drawn
from the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#block-start" id="ref-for-block-start">start</a>-<a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#inline-start" id="ref-for-inline-start">start</a> corner
to the <a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#block-end" id="ref-for-block-end">end</a>-<a data-link-type="dfn" href="www.w3.org/TR/css-writing-modes-4/#inline-end" id="ref-for-inline-end">end</a> corner.</p>
     </dd>
</dl>
     <p>If multiple keywords are given,
the transformations are composed in order
to produce a single <a data-link-type="dfn" href="#position-option" id="ref-for-position-option②">position option</a>.</p>
     <p class="issue" id="issue-3980b8c2"><a class="self-link" href="#issue-3980b8c2"></a> Define how the values themselves are changed upon flipping:
anchor(top) becomes anchor(bottom);
start becomes end;
etc.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-dashed-ident--try-tactic"><a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident①⓪">&lt;dashed-ident></a> || <a class="production css" data-link-type="type" href="#typedef-position-try-options-try-tactic" id="ref-for-typedef-position-try-options-try-tactic④">&lt;try-tactic></a></dfn>
    </dt>
<dd data-md>
     <p>Combines the effects of the previous two options:
if there is a <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try③">@position-try</a> rule
with the given name,
then applies its <a data-link-type="dfn" href="#position-option" id="ref-for-position-option③">position option</a> to the element’s base style,
transforms it according to the specified <a class="production css" data-link-type="type" href="#typedef-position-try-options-try-tactic" id="ref-for-typedef-position-try-options-try-tactic⑤">&lt;try-tactic></a>,
and then adds the result
to the element’s <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list⑤">position options list</a>.</p>
     <p>Otherwise, does nothing.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-options" data-dfn-type="value" data-export id="valdef-position-try-options-inset-area-inset-area">inset-area( <a class="production css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area⑤">&lt;'inset-area'></a> )</dfn>
    </dt>
<dd data-md>
     <p>Automatically creates a <a data-link-type="dfn" href="#position-option" id="ref-for-position-option④">position option</a> composed solely of an <a class="property css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area⑥">inset-area</a> property
with the given value.</p>
   </dd>
</dl>
   <h3 class="heading settled" data-level="5.2" id="position-try-order-property">
<span class="secno">5.2. </span><span class="content">Determining Fallback Order: the <a class="property css" data-link-type="property" href="#propdef-position-try-order" id="ref-for-propdef-position-try-order①">position-try-order</a> property</span><a class="self-link" href="#position-try-order-property"></a>
</h3>
   <table class="def propdef" data-link-for-hint="position-try-order">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-position-try-order">position-try-order</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">normal <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧⓪">|</a> <a class="production css" data-link-type="type" href="#typedef-try-size" id="ref-for-typedef-try-size">&lt;try-size></a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>normal
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>
<a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①⑧">absolutely positioned elements</a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>no
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>n/a
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>as specified
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>discrete
   </td>
</tr>
</tbody>
</table>
   <p>This property specifies the order in which
the <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list⑥">position options list</a> will be tried.</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export id="typedef-try-size"><a class="production" data-link-type="type" href="#typedef-try-size" id="ref-for-typedef-try-size①">&lt;try-size></a></dfn> = most-width <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧①">|</a> most-height <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧②">|</a> most-block-size <a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#comb-one" id="ref-for-comb-one⑧③">|</a> most-inline-size
</pre>
   <dl>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-order" data-dfn-type="value" data-export id="valdef-position-try-order-normal">normal</dfn>
    </dt>
<dd data-md>
     <p>Try the <a data-link-type="dfn" href="#position-option" id="ref-for-position-option⑤">position options</a> in the order specified by <a class="property css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options②">position-try-options</a>.</p>
    </dd>
<dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-order" data-dfn-type="value" data-export id="valdef-position-try-order-most-width">most-width</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-order" data-dfn-type="value" data-export id="valdef-position-try-order-most-height">most-height</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-order" data-dfn-type="value" data-export id="valdef-position-try-order-most-block-size">most-block-size</dfn>
    <dt data-md>
<dfn class="dfn-paneled css" data-dfn-for="position-try-order" data-dfn-type="value" data-export id="valdef-position-try-order-most-inline-size">most-inline-size</dfn>
    </dt>
</dt>
</dt>
</dt>
<dd data-md>
     <p>For each entry in the <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list⑦">position options list</a>, <a data-link-type="dfn" href="#apply-a-position-option" id="ref-for-apply-a-position-option">apply a position option</a> using that option to the element,
and find the specified <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑥">inset-modified containing block</a> size
that results from those styles.
Stably sort the <span id="ref-for-position-options-list⑧">position options list</span> according to this size,
with the largest coming first.</p>
   </dd>
</dl>
   <div class="example" id="example-a1ca8230">
    <a class="self-link" href="#example-a1ca8230"></a> For example, the following styles
	will initially position the popup list below its anchoring button,
	but if that overflows,
	will decide whether to keep the popup list below the anchor
	or move it above,
	depending on which option gives it the most space. 
<pre class="highlight">.anchor <c- p>{</c-> <c- k>anchor-name</c-><c- p>:</c-> --foo<c- p>;</c-> <c- p>}</c->
.list <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> fixed<c- p>;</c->
  <c- k>position-anchor</c-><c- p>:</c-> --foo<c- p>;</c->
  <c- k>top</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->bottom<c- p>);</c->
  <c- k>left</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->left<c- p>);</c->
  <c- k>align-self</c-><c- p>:</c-> start<c- p>;</c->
  <c- k>position-try-options</c-><c- p>:</c-> --bottom-scrollable<c- p>,</c-> flip-block<c- p>,</c-> --top-scrollable<c- p>;</c->
  <c- k>position-try-order</c-><c- p>:</c-> most-height<c- p>;</c->
<c- p>}</c->
<c- n>@position-try</c-> --bottom-scrollable <c- p>{</c->
  <c- k>align-self</c-><c- p>:</c-> stretch<c- p>;</c->
<c- p>}</c->
<c- n>@position-try</c-> --top-scrollable <c- p>{</c->
  <c- k>top</c-><c- p>:</c-> <c- m>0</c-><c- p>;</c->
  <c- k>bottom</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->top<c- p>);</c->
  <c- k>align-self</c-><c- p>:</c-> stretch<c- p>;</c->
<c- p>}</c->
</pre>
    <p>The <a class="css" data-link-type="maybe" href="#valdef-position-try-options-flip-block" id="ref-for-valdef-position-try-options-flip-block">flip-block</a> auto-generated option and the <span class="css">--top-scrollable</span> option
	will always find the same available height,
	since both of them stretch vertically from <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-position-3/#propdef-top" id="ref-for-propdef-top①">top: 0</a> (the top edge of the viewport)
	to <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-position-3/#propdef-bottom" id="ref-for-propdef-bottom①">bottom: anchor(top)</a> (the top of the anchor),
	so they’ll retain their specified order.
	This causes the element to first try to align against the anchor
	at its natural height
	(using <a class="css" data-link-type="propdesc" href="www.w3.org/TR/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self②">align-self: end</a>, auto-reversed from the base styles),
	but if that also causes overflow,
	it’ll fall back to just filling the space
	and being scrollable instead.</p>
   </div>
   <h3 class="heading settled" data-level="5.3" id="position-try-prop">
<span class="secno">5.3. </span><span class="content">The <a class="property css" data-link-type="property" href="#propdef-position-try" id="ref-for-propdef-position-try">position-try</a> Shorthand</span><a class="self-link" href="#position-try-prop"></a>
</h3>
   <table class="def propdef" data-link-for-hint="position-try">
    <tbody>
     <tr>
      <th>Name:
      </th>
<td>
<dfn class="dfn-paneled css" data-dfn-type="property" data-export id="propdef-position-try">position-try</dfn>
     </td>
</tr>
<tr class="value">
      <th>
<a href="www.w3.org/TR/css-values/#value-defs">Value:</a>
      </th>
<td class="prod">
<a class="production css" data-link-type="property" href="#propdef-position-try-order" id="ref-for-propdef-position-try-order②">&lt;'position-try-order'></a><a data-link-type="grammar" href="www.w3.org/TR/css-values-4/#mult-opt" id="ref-for-mult-opt④">?</a> <a class="production css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options③">&lt;'position-try-options'></a>
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#initial-values">Initial:</a>
      </th>
<td>see individual properties
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#applies-to">Applies to:</a>
      </th>
<td>see individual properties
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#inherited-property">Inherited:</a>
      </th>
<td>see individual properties
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-values/#percentages">Percentages:</a>
      </th>
<td>see individual properties
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/css-cascade/#computed">Computed value:</a>
      </th>
<td>see individual properties
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/web-animations/#animation-type">Animation type:</a>
      </th>
<td>see individual properties
     </td>
</tr>
<tr>
      <th>
<a href="www.w3.org/TR/cssom/#serializing-css-values">Canonical order:</a>
      </th>
<td>per grammar
   </td>
</tr>
</tbody>
</table>
   <p>This shorthand sets both <a class="property css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options④">position-try-options</a> and <a class="property css" data-link-type="property" href="#propdef-position-try-order" id="ref-for-propdef-position-try-order③">position-try-order</a>.
If <span class="production" id="ref-for-propdef-position-try-order④">&lt;'position-try-order'></span> is omitted,
it’s set to the property’s initial value.</p>
   <h3 class="heading settled" data-level="5.4" id="fallback-rule">
<span class="secno">5.4. </span><span class="content">The <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try④">@position-try</a> Rule</span><a class="self-link" href="#fallback-rule"></a>
</h3>
   <p>The <dfn class="dfn-paneled css" data-dfn-type="at-rule" data-export id="at-ruledef-position-try">@position-try</dfn> rule
defines a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="position-option">position option</dfn> with a given name,
specifying one or more sets of positioning properties
that will be applied to an element
via <a class="property css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options⑤">position-try-options</a>,</p>
   <p>The syntax of the <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try⑤">@position-try</a> rule is:</p>
<pre class="prod">@position-try <a class="production" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident①①">&lt;dashed-ident></a> {
  <a class="production" data-link-type="type" href="www.w3.org/TR/css-syntax-3/#typedef-declaration-list" id="ref-for-typedef-declaration-list">&lt;declaration-list></a>
}
</pre>
   <p>The <a class="production css" data-link-type="type" href="www.w3.org/TR/css-values-4/#typedef-dashed-ident" id="ref-for-typedef-dashed-ident①②">&lt;dashed-ident></a> specified in the prelude
is the rule’s name.
If multiple <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try⑥">@position-try</a> rules are declared with the same name,
the last one in document order "wins".</p>
   <p class="issue" id="issue-deeb9677"><a class="self-link" href="#issue-deeb9677"></a> Or should they cascade together?</p>
   <p>The <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try⑦">@position-try</a> rule only <dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="accepted @position-try properties" id="accepted-position-try-properties">accepts</dfn> the following <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#css-property" id="ref-for-css-property">properties</a>:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="drafts.csswg.org/css-logical-1/#inset-properties" id="ref-for-inset-properties①⑧">inset properties</a></p>
    </li>
<li data-md>
     <p><a data-link-type="dfn" href="www.w3.org/TR/css-box-4/#margin-properties" id="ref-for-margin-properties①">margin properties</a></p>
    </li>
<li data-md>
     <p><a data-link-type="dfn" href="www.w3.org/TR/css-sizing-3/#sizing-property" id="ref-for-sizing-property③">sizing properties</a></p>
    </li>
<li data-md>
     <p><a data-link-type="dfn" href="www.w3.org/TR/css-align-3/#self-alignment-properties" id="ref-for-self-alignment-properties⑤">self-alignment properties</a></p>
    </li>
<li data-md>
     <p><a class="property css" data-link-type="property" href="#propdef-position-anchor" id="ref-for-propdef-position-anchor②">position-anchor</a></p>
    </li>
<li data-md>
     <p><a class="property css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area⑦">inset-area</a></p>
   </li>
</ul>
   <p class="issue" id="issue-14452576"><a class="self-link" href="#issue-14452576"></a> What exactly are the constraints that determine what’s allowed here?
Current list is based off of what’s reasonable
from Chrome’s experimental impl.
We can make a CQ that keys off of which fallback was used
to allow more general styling,
at least for descendants.</p>
   <p class="issue" id="issue-5b530169"><a class="self-link" href="#issue-5b530169"></a> Would be useful to be able to detect
when your anchor(s) are fully off-screen
and suppress your display entirely.
For example, tooltips living outside the scroller
holding the text they’re anchored to
don’t want to just hover over arbitrary parts of the page
because their anchor happens to have that position
relative to the scrollport.</p>
   <p class="note" role="note"><span class="marker">Note:</span> If multiple elements using different anchors
want to use the same fallback positioning,
just relative to their own anchor elements,
omit the <a class="production css" data-link-type="type" href="#typedef-anchor-element" id="ref-for-typedef-anchor-element⑧">&lt;anchor-element></a> in <a class="css" data-link-type="maybe" href="#funcdef-anchor" id="ref-for-funcdef-anchor①⑧">anchor()</a> and specify each element’s anchor in <a class="property css" data-link-type="property" href="#propdef-position-anchor" id="ref-for-propdef-position-anchor③">position-anchor</a> instead.</p>
   <p class="note" role="note"><span class="marker">Note:</span> The most common types of fallback positioning
(putting the positioned element on one side of the anchor normally,
but flipping to the opposite side if needed)
can be done automatically
with keywords in <a class="property css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options⑥">position-try-options</a>,
without using <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try⑧">@position-try</a> at all.</p>
   <h3 class="heading settled" data-level="5.5" id="fallback-apply">
<span class="secno">5.5. </span><span class="content">Applying Position Fallback</span><a class="self-link" href="#fallback-apply"></a>
</h3>
   <p>When a positioned element overflows its <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑦">inset-modified containing block</a>,
and has a non-empty <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list⑨">position options list</a>,
it <a data-link-type="dfn" href="#determine-the-position-fallback-styles" id="ref-for-determine-the-position-fallback-styles">determines the position fallback styles</a> for the element
to attempt to find an option that avoids overflow.</p>
   <p>These modified styles are applied to the element via <a data-link-type="dfn" href="#style--layout-interleave" id="ref-for-style--layout-interleave">interleaving</a>,
so they affect <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value">computed values</a> (and can trigger transitions/etc)
even tho they depend on layout and <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value①">used values</a>.</p>
   <p>They are applied as <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="position-fallback-origin">position fallback origin</dfn>,
a new <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-6/#origin" id="ref-for-origin">cascade origin</a> positioned between the <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#cascade-origin-author" id="ref-for-cascade-origin-author">author origin</a> and the <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#cascade-origin-animation" id="ref-for-cascade-origin-animation">animation origin</a>.</p>
   <div class="algorithm" data-algorithm="apply a position option">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="apply-a-position-option">apply a position option</dfn> to an element <var>el</var>,
	given a <a data-link-type="dfn" href="#position-option" id="ref-for-position-option⑥">position option</a> <var>new styles</var>: 
    <ol>
     <li data-md>
      <p>With <var>new styles</var> inserted into the cascade
in the <a data-link-type="dfn" href="#position-fallback-origin" id="ref-for-position-fallback-origin">position fallback origin</a>,
resolve the cascade,
and perform enough layout to determine <var>el</var>’s <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value②">used styles</a>.</p>
     </li>
<li data-md>
      <p>Return <var>el</var>’s <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#used-value" id="ref-for-used-value③">used styles</a>.</p>
    </li>
</ol>
   </div>
   <div class="algorithm" data-algorithm="determine the position fallback styles">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="determine-the-position-fallback-styles">determine the position fallback styles</dfn> of an element <var>el</var>: 
    <ol>
     <li data-md>
      <p>Let <var>base styles</var> be the current used styles of <var>el</var>.</p>
     </li>
<li data-md>
      <p><a data-link-type="dfn" href="infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>option</var> in the <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list①⓪">position options list</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adjusted styles</var> be the result of <a data-link-type="dfn" href="#apply-a-position-option" id="ref-for-apply-a-position-option①">applying a position option</a> <var>option</var> to <var>el</var>.</p>
       </li>
<li data-md>
        <p>Let <var>el rect</var> be the size and position of <var>el</var>’s margin box,
when laid out with <var>adjusted styles</var>.
Let <var>cb rect</var> be the size and position of <var>el</var>’s <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#inset-modified-containing-block" id="ref-for-inset-modified-containing-block⑧">inset-modified containing block</a>.</p>
       </li>
<li data-md>
        <p>If <var>el</var> has a <a data-link-type="dfn" href="#snapshotted-scroll-offset" id="ref-for-snapshotted-scroll-offset①">snapshotted scroll offset</a>,
subtract it from the position of both <var>el rect</var> and <var>cb rect</var>.</p>
       </li>
<li data-md>
        <p>If <var>el rect</var> is not fully contained within <var>cb rect</var>, <a data-link-type="dfn" href="infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       </li>
<li data-md>
        <p>Set <var>option</var> as <var>el</var>’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="last-successful-position-option">last successful position option</dfn>.
Return <var>adjusted styles</var>.</p>
      </li>
</ol>
     </li>
<li data-md>
      <p class="assertion">Assert: The previous step finished without finding a <a data-link-type="dfn" href="#position-option" id="ref-for-position-option⑦">position option</a> that avoids overflow.</p>
     </li>
<li data-md>
      <p>If <var>el</var> has a <a data-link-type="dfn" href="#last-successful-position-option" id="ref-for-last-successful-position-option">last successful position option</a>,
return the result of <a data-link-type="dfn" href="#apply-a-position-option" id="ref-for-apply-a-position-option②">applying a position option</a>,
using that option,
to <var>el</var>.</p>
     </li>
<li data-md>
      <p>Return <var>base styles</var>.</p>
    </li>
</ol>
    <p class="note" role="note"><span class="marker">Note:</span> Descendants overflowing <var>el</var> don’t affect this calculation,
	only <var>el</var>’s own <a data-link-type="dfn" href="www.w3.org/TR/css-box-4/#margin-box" id="ref-for-margin-box">margin box</a>.</p>
   </div>
   <p>During a full layout pass,
once an element has determined its fallback styles
(or determined it’s not using any),
laying out later elements cannot change this decision.</p>
   <div class="example" id="example-58b895a3">
    <a class="self-link" href="#example-58b895a3"></a> For example, say you have two positioned elements,
	A and B,
	with A laid out before B.
	If B overflows and causes A’s containing block to gain scrollbars,
	this <em>does not</em> cause A
	to go back and re-determine its fallback styles
	in an attempt to avoid overflowing.
	(At best, this can result in exponential layout costs;
	at worst, it’s cyclic and will never settle.) 
    <p>Layout does not "go backward", in other words.</p>
   </div>
   <p>At the time that <code class="idl"><a data-link-type="idl" href="www.w3.org/TR/resize-observer-1/#resizeobserver" id="ref-for-resizeobserver">ResizeObserver</a></code> events are determined and delivered,
if an element has a <a data-link-type="dfn" href="#last-successful-position-option" id="ref-for-last-successful-position-option①">last successful position option</a> but is not an <a data-link-type="dfn" href="www.w3.org/TR/css-position-3/#absolute-position" id="ref-for-absolute-position①⑨">absolutely positioned</a> element,
remove its <span id="ref-for-last-successful-position-option②">last successful position option</span>.
(This is intentionally identical to the treatment of <a data-link-type="dfn" href="www.w3.org/TR/css-sizing-4/#last-remembered" id="ref-for-last-remembered">last remembered sizes</a>.)</p>
   <p class="issue" id="issue-21c2b50d"><a class="self-link" href="#issue-21c2b50d"></a> Make sure the snapshotted scroll offset stuff is correct now,
given interleaving.</p>
   <p>Implementations may choose to impose an implementation-defined limit
on the length of <a data-link-type="dfn" href="#position-options-list" id="ref-for-position-options-list①①">position options lists</a>,
to limit the amount of excess layout work that may be required.
This limit must be <em>at least</em> five.</p>
   <div class="example" id="example-e9cc9812">
    <a class="self-link" href="#example-e9cc9812"></a> For example,
	the following CSS will first attempt to position a "popover"
	below the <a data-link-type="dfn" href="www.w3.org/TR/css-display-3/#elements" id="ref-for-elements①">element</a>,
	but if it doesn’t fit on-screen will switch to being above;
	it defaults to left-aligning,
	but will switch to right-aligning if that doesn’t fit. 
<pre class="highlight">#myPopover <c- p>{</c->
  <c- k>position</c-><c- p>:</c-> fixed<c- p>;</c->
  <c- k>top</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->--button bottom<c- p>);</c->
  <c- k>left</c-><c- p>:</c-> <c- nf>anchor</c-><c- p>(</c->--button left<c- p>);</c->
  <c- k>position-try-options</c-><c- p>:</c-> flip-inline<c- p>,</c-> flip-block<c- p>,</c-> flip-block flip-inline<c- p>;</c->

  <c- c>/* The popover is at least as wide as the button */</c->
  min-width: <c- nf>anchor-size</c-><c- p>(</c->--button width<c- p>);</c->

  <c- c>/* The popover is at least as tall as 2 menu items */</c->
  min-height: <c- m>6</c-><c- k>em</c-><c- p>;</c->
<c- p>}</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="6" id="interfaces">
<span class="secno">6. </span><span class="content">DOM Interfaces</span><a class="self-link" href="#interfaces"></a>
</h2>
   <h3 class="heading settled" data-level="6.1" id="om-position-try">
<span class="secno">6.1. </span><span class="content">The CSSPositionTryRule interface</span><a class="self-link" href="#om-position-try"></a>
</h3>
   <p>The <code class="idl"><a data-link-type="idl" href="#csspositiontryrule" id="ref-for-csspositiontryrule">CSSPositionTryRule</a></code> interface represents
the <a class="css" data-link-type="maybe" href="#at-ruledef-position-try" id="ref-for-at-ruledef-position-try⑨">@position-try</a> rule:</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="csspositiontryrule"><code><c- g>CSSPositionTryRule</c-></code></dfn> : <a data-link-type="idl-name" href="www.w3.org/TR/cssom-1/#cssrule" id="ref-for-cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="www.w3.org/TR/cssom-1/#cssomstring" id="ref-for-cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csspositiontryrule-name" id="ref-for-dom-csspositiontryrule-name"><c- g>name</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="webidl.spec.whatwg.org/#PutForwards" id="ref-for-PutForwards"><c- g>PutForwards</c-></a>=<a class="idl-code" data-link-type="attribute" href="www.w3.org/TR/cssom-1/#dom-cssstyledeclaration-csstext" id="ref-for-dom-cssstyledeclaration-csstext"><c- n>cssText</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="www.w3.org/TR/cssom-1/#cssstyledeclaration" id="ref-for-cssstyledeclaration"><c- n>CSSStyleDeclaration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSStyleDeclaration" href="#dom-csspositiontryrule-style" id="ref-for-dom-csspositiontryrule-style"><c- g>style</c-></a>;
};
</pre>
   <p>Its <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPositionTryRule" data-dfn-type="attribute" data-export id="dom-csspositiontryrule-name"><code>name</code></dfn> attribute
represents the name declared in the rule’s prelude.</p>
   <p>Its <dfn class="dfn-paneled idl-code" data-dfn-for="CSSPositionTryRule" data-dfn-type="attribute" data-export id="dom-csspositiontryrule-style"><code>style</code></dfn> attribute
represents the styles declared in the rule’s body,
in the specified order.
Only the <a data-link-type="dfn" href="#accepted-position-try-properties" id="ref-for-accepted-position-try-properties">accepted @position-try properties</a> are valid in this rule.</p>
   <p class="issue" id="issue-45287b7f"><a class="self-link" href="#issue-45287b7f"></a> match the concept of validity to whatever we do in similar situations.</p>
   <h2 class="heading settled" data-level="7" id="interleaving">
<span class="secno">7. </span><span class="content"> Appendix: Style &amp; Layout Interleaving</span><a class="self-link" href="#interleaving"></a>
</h2>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-local-lt="interleave" data-lt="style &amp; layout interleave" id="style--layout-interleave">Style &amp; layout interleaving</dfn> is a technique
where a style update can occur on a subtree
during the layout process,
resulting in retroactive updates
to elements’ <a data-link-type="dfn" href="www.w3.org/TR/css-cascade-5/#computed-value" id="ref-for-computed-value①">computed styles</a>.</p>
   <p class="issue" id="issue-56f04754"><a class="self-link" href="#issue-56f04754"></a> This is not the correct spec for this concept,
it should probably go in <a href="www.w3.org/TR/css-cascade/">Cascade</a>,
but I need a sketch of it to refer to.</p>
   <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#style--layout-interleave" id="ref-for-style--layout-interleave①">Style &amp; layout interleaving</a> is already used with <a data-link-type="dfn" href="www.w3.org/TR/css-contain-3/#container-query" id="ref-for-container-query">container queries</a> and <a data-link-type="dfn" href="drafts.csswg.org/css-contain-3/#container-query-length" id="ref-for-container-query-length">container query lengths</a>.
A length like <span class="css">10cqw</span> is resolved into a <a data-link-type="dfn" href="www.w3.org/TR/css-values-4/#computed-length" id="ref-for-computed-length">computed length</a> using layout information about the query container’s size,
which can thus trigger <a href="www.w3.org/TR/css-transitions-1/">transitions</a> when the container changes size between layouts.</p>
   <p>The <a data-link-type="dfn" href="#accepted-position-try-properties" id="ref-for-accepted-position-try-properties①">accepted @position-try properties</a> are also <a data-link-type="dfn" href="#style--layout-interleave" id="ref-for-style--layout-interleave②">interleaved</a> when resolving fallback
(see <a class="property css" data-link-type="property" href="#propdef-position-try" id="ref-for-propdef-position-try①">position-try</a>).</p>
   <p class="issue" id="issue-584007ee"><a class="self-link" href="#issue-584007ee"></a> Obviously this needs way more details filled in,
but for now "act like you already do for container queries" suffices.
That behavior is also undefined,
but at least it’s interoperable (to some extent?).</p>
   <h2 class="heading settled" data-level="8" id="sec">
<span class="secno">8. </span><span class="content">Security Considerations</span><a class="self-link" href="#sec"></a>
</h2>
   <p>No Security issues have been raised against this document.</p>
   <h2 class="heading settled" data-level="9" id="priv">
<span class="secno">9. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#priv"></a>
</h2>
   <p>No Privacy issues have been raised against this document.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="w3c-conformance">
<span class="content"> Conformance</span><a class="self-link" href="#w3c-conformance"></a>
</h2>
  <h3 class="no-ref heading settled" id="w3c-conventions">
<span class="content"> Document conventions</span><a class="self-link" href="#w3c-conventions"></a>
</h3>
  <p>Conformance requirements are expressed with a combination of
    descriptive assertions and RFC 2119 terminology. The key words “MUST”,
    “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
    “RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
    document are to be interpreted as described in RFC 2119.
    However, for readability, these words do not appear in all uppercase
    letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
    explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a></p>
  <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text with <code>class="example"</code>,
    like this: </p>
  <div class="example" id="w3c-example">
   <a class="self-link" href="#w3c-example"></a> 
   <p>This is an example of an informative example.</p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
    normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note.</p>
  <p>Advisements are normative sections styled to evoke special attention and are
    set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
    this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong></p>
  <h3 class="no-ref heading settled" id="w3c-conformance-classes">
<span class="content"> Conformance classes</span><a class="self-link" href="#w3c-conformance-classes"></a>
</h3>
  <p>Conformance to this specification
    is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   </dt>
<dd>A <a href="www.w3.org/TR/CSS21/conform.html#style-sheet">CSS
            style sheet</a>. 
   </dd>
<dt>renderer 
   </dt>
<dd>A <a href="www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
            documents that use them. 
   </dd>
<dt>authoring tool 
   </dt>
<dd>A <a href="www.w3.org/TR/CSS21/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dd>
</dl>
  <p>A style sheet is conformant to this specification
    if all of its statements that use syntax defined in this module are valid
    according to the generic CSS grammar and the individual grammars of each
    feature defined in this module. </p>
  <p>A renderer is conformant to this specification
    if, in addition to interpreting the style sheet as defined by the
    appropriate specifications, it supports all the features defined
    by this specification by parsing them correctly
    and rendering the document accordingly. However, the inability of a
    UA to correctly render a document due to limitations of the device
    does not make the UA non-conformant. (For example, a UA is not
    required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
    if it writes style sheets that are syntactically correct according to the
    generic CSS grammar and the individual grammars of each feature in
    this module, and meet all other conformance requirements of style sheets
    as described in this module. </p>
  <h3 class="no-ref heading settled" id="w3c-partial">
<span class="content"> Partial implementations</span><a class="self-link" href="#w3c-partial"></a>
</h3>
  <p>So that authors can exploit the forward-compatible parsing rules to
    assign fallback values, CSS renderers <strong>must</strong> treat as invalid (and <a href="www.w3.org/TR/CSS21/conform.html#ignore">ignore
    as appropriate</a>) any at-rules, properties, property values, keywords,
    and other syntactic constructs for which they have no usable level of
    support. In particular, user agents <strong>must not</strong> selectively
    ignore unsupported component values and honor supported values in a single
    multi-value property declaration: if any value is considered invalid
    (as unsupported values must be), CSS requires that the entire declaration
    be ignored.</p>
  <h4 class="heading settled" id="w3c-conform-future-proofing">
<span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#w3c-conform-future-proofing"></a>
</h4>
  <p>To avoid clashes with future stable CSS features,
        the CSSWG recommends <a href="www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h3 class="no-ref heading settled" id="w3c-testing">
<span class="content"> Non-experimental implementations</span><a class="self-link" href="#w3c-testing"></a>
</h3>
  <p>Once a specification reaches the Candidate Recommendation stage,
    non-experimental implementations are possible, and implementors should
    release an unprefixed implementation of any CR-level feature they
    can demonstrate to be correctly implemented according to spec. </p>
  <p>To establish and maintain the interoperability of CSS across
    implementations, the CSS Working Group requests that non-experimental
    CSS renderers submit an implementation report (and, if necessary, the
    testcases used for that implementation report) to the W3C before
    releasing an unprefixed implementation of any CSS features. Testcases
    submitted to W3C are subject to review and correction by the CSS
    Working Group. </p>
  <p>Further information on submitting testcases and implementation reports
    can be found from on the CSS Working Group’s website at <a href="www.w3.org/Style/CSS/Test/">https://www.w3.org/Style/CSS/Test/</a>.
    Questions should be directed to the <a href="lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list.</p>
  <script src="www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index">
<span class="content">Index</span><a class="self-link" href="#index"></a>
</h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here">
<span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a>
</h3>
  <ul class="index">
   <li>
<a href="#acceptable-anchor-element">acceptable anchor element</a><span>, in § 2.3</span>
   </li>
<li>
<a href="#accepted-position-try-properties">accepted @position-try properties</a><span>, in § 5.4</span>
   </li>
<li>
<a href="#valdef-anchor-scope-all">all</a><span>, in § 2.2</span>
   </li>
<li>
<a href="#anchor-element">anchor</a><span>, in § 2.1</span>
   </li>
<li>
<a href="#funcdef-anchor">anchor()</a><span>, in § 3.2</span>
   </li>
<li>
<a href="#valdef-justify-self-anchor-center">anchor-center</a><span>, in § 3.3</span>
   </li>
<li>
<a href="#typedef-anchor-element">&lt;anchor-element></a><span>, in § 3.2</span>
   </li>
<li>
<a href="#anchor-element">anchor element</a><span>, in § 2.1</span>
   </li>
<li>
<a href="#anchor-functions">anchor functions</a><span>, in § 1</span>
   </li>
<li>
<a href="#anchor-name">anchor name</a><span>, in § 2.1</span>
   </li>
<li>
<a href="#propdef-anchor-name">anchor-name</a><span>, in § 2.1</span>
   </li>
<li>
<a href="#anchor-positioning">Anchor positioning</a><span>, in § 1</span>
   </li>
<li>
<a href="#propdef-anchor-scope">anchor-scope</a><span>, in § 2.2</span>
   </li>
<li>
<a href="#typedef-anchor-side">&lt;anchor-side></a><span>, in § 3.2</span>
   </li>
<li>
<a href="#typedef-anchor-size">&lt;anchor-size></a><span>, in § 4.1</span>
   </li>
<li>
<a href="#funcdef-anchor-size">anchor-size()</a><span>, in § 4</span>
   </li>
<li>
<a href="#anchor-specifier">anchor specifier</a><span>, in § 2.3</span>
   </li>
<li>
<a href="#apply-a-position-option">apply a position option</a><span>, in § 5.5</span>
   </li>
<li>
<a href="#valdef-anchor-size-block">block</a><span>, in § 4.1</span>
   </li>
<li>
<a href="#valdef-inset-area-block-end">block-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-block-self-end">block-self-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-block-self-start">block-self-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-block-start">block-start</a><span>, in § 3.1.1</span>
   </li>
<li>
    bottom
    <ul>
     <li>
<a href="#valdef-anchor-bottom">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-bottom">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
    center
    <ul>
     <li>
<a href="#valdef-anchor-center">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-center">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#csspositiontryrule">CSSPositionTryRule</a><span>, in § 6.1</span>
   </li>
<li>
    &lt;dashed-ident>
    <ul>
     <li>
<a href="#valdef-anchor-dashed-ident">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-anchor-scope-dashed-ident">value for anchor-scope</a><span>, in § 2.2</span>
     </li>
<li>
<a href="#valdef-position-try-options-dashed-ident">value for position-try-options</a><span>, in § 5.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valdef-anchor-name-dashed-ident">&lt;dashed-ident>#</a><span>, in § 2.1</span>
   </li>
<li>
<a href="#valdef-position-try-options-dashed-ident--try-tactic">&lt;dashed-ident> || &lt;try-tactic></a><span>, in § 5.1</span>
   </li>
<li>
<a href="#default-anchor-element">default anchor element</a><span>, in § 2.4</span>
   </li>
<li>
<a href="#default-anchor-specifier">default anchor specifier</a><span>, in § 2.4</span>
   </li>
<li>
<a href="#determine-the-position-fallback-styles">determine the position fallback styles</a><span>, in § 5.5</span>
   </li>
<li>
    end
    <ul>
     <li>
<a href="#valdef-anchor-end">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-end">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valdef-position-try-options-flip-block">flip-block</a><span>, in § 5.1</span>
   </li>
<li>
<a href="#valdef-position-try-options-flip-inline">flip-inline</a><span>, in § 5.1</span>
   </li>
<li>
<a href="#valdef-position-try-options-flip-start">flip-start</a><span>, in § 5.1</span>
   </li>
<li>
<a href="#valdef-anchor-size-height">height</a><span>, in § 4.1</span>
   </li>
<li>
<a href="#valdef-anchor-implicit">implicit</a><span>, in § 3.2</span>
   </li>
<li>
<a href="#implicit-anchor-element">implicit anchor element</a><span>, in § 2.1.1</span>
   </li>
<li>
<a href="#valdef-anchor-size-inline">inline</a><span>, in § 4.1</span>
   </li>
<li>
<a href="#valdef-inset-area-inline-end">inline-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-inline-self-end">inline-self-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-inline-self-start">inline-self-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-inline-start">inline-start</a><span>, in § 3.1.1</span>
   </li>
<li>
    &lt;inset-area>
    <ul>
     <li>
<a href="#typedef-inset-area">(type)</a><span>, in § 3.1</span>
     </li>
<li>
<a href="#valdef-inset-area-inset-area">value for inset-area</a><span>, in § 3.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#propdef-inset-area">inset-area</a><span>, in § 3.1</span>
   </li>
<li>
<a href="#inset-area-grid">inset-area grid</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-position-try-options-inset-area-inset-area">inset-area( &lt;'inset-area'> )</a><span>, in § 5.1</span>
   </li>
<li>
<a href="#valdef-anchor-inside">inside</a><span>, in § 3.2</span>
   </li>
<li>
<a href="#style--layout-interleave">interleave</a><span>, in § 7</span>
   </li>
<li>
<a href="#valid-anchor-function">invalid anchor function</a><span>, in § 3.5</span>
   </li>
<li>
<a href="#valid-anchor-size-function">invalid anchor-size function</a><span>, in § 4.2</span>
   </li>
<li>
<a href="#last-successful-position-option">last successful position option</a><span>, in § 5.5</span>
   </li>
<li>
    left
    <ul>
     <li>
<a href="#valdef-anchor-left">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-left">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valdef-position-try-order-most-block-size">most-block-size</a><span>, in § 5.2</span>
   </li>
<li>
<a href="#valdef-position-try-order-most-height">most-height</a><span>, in § 5.2</span>
   </li>
<li>
<a href="#valdef-position-try-order-most-inline-size">most-inline-size</a><span>, in § 5.2</span>
   </li>
<li>
<a href="#valdef-position-try-order-most-width">most-width</a><span>, in § 5.2</span>
   </li>
<li>
<a href="#dom-csspositiontryrule-name">name</a><span>, in § 6.1</span>
   </li>
<li>
<a href="#needs-scroll-adjustment">needs scroll adjustment</a><span>, in § 3.4</span>
   </li>
<li>
    none
    <ul>
     <li>
<a href="#valdef-anchor-name-none">value for anchor-name</a><span>, in § 2.1</span>
     </li>
<li>
<a href="#valdef-anchor-scope-none">value for anchor-scope</a><span>, in § 2.2</span>
     </li>
<li>
<a href="#valdef-inset-area-none">value for inset-area</a><span>, in § 3.1</span>
     </li>
<li>
<a href="#valdef-position-try-options-none">value for position-try-options</a><span>, in § 5.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valdef-position-try-order-normal">normal</a><span>, in § 5.2</span>
   </li>
<li>
<a href="#valdef-anchor-outside">outside</a><span>, in § 3.2</span>
   </li>
<li>
<a href="#valdef-anchor-percentage">&lt;percentage></a><span>, in § 3.2</span>
   </li>
<li>
<a href="#propdef-position-anchor">position-anchor</a><span>, in § 2.4</span>
   </li>
<li>
<a href="#position-fallback-origin">position fallback origin</a><span>, in § 5.5</span>
   </li>
<li>
<a href="#position-option">position option</a><span>, in § 5.4</span>
   </li>
<li>
<a href="#position-options-list">position options list</a><span>, in § 5.1</span>
   </li>
<li>
<a href="#at-ruledef-position-try">@position-try</a><span>, in § 5.4</span>
   </li>
<li>
<a href="#propdef-position-try">position-try</a><span>, in § 5.3</span>
   </li>
<li>
<a href="#propdef-position-try-options">position-try-options</a><span>, in § 5.1</span>
   </li>
<li>
<a href="#propdef-position-try-order">position-try-order</a><span>, in § 5.2</span>
   </li>
<li>
    right
    <ul>
     <li>
<a href="#valdef-anchor-right">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-right">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valdef-anchor-size-self-block">self-block</a><span>, in § 4.1</span>
   </li>
<li>
    self-end
    <ul>
     <li>
<a href="#valdef-anchor-self-end">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-self-end">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valdef-anchor-size-self-inline">self-inline</a><span>, in § 4.1</span>
   </li>
<li>
    self-start
    <ul>
     <li>
<a href="#valdef-anchor-self-start">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-self-start">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#snapshotted-scroll-offset">snapshotted scroll offset</a><span>, in § 3.4</span>
   </li>
<li>
<a href="#valdef-inset-area-span-all">span-all</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-block-end">span-block-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-block-start">span-block-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-bottom">span-bottom</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-end">span-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-inline-end">span-inline-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-inline-start">span-inline-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-start">span-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-top">span-top</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-x-end">span-x-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-x-start">span-x-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-y-end">span-y-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-span-y-start">span-y-start</a><span>, in § 3.1.1</span>
   </li>
<li>
    start
    <ul>
     <li>
<a href="#valdef-anchor-start">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-start">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#dom-csspositiontryrule-style">style</a><span>, in § 6.1</span>
   </li>
<li>
<a href="#style--layout-interleave">style &amp; layout interleave</a><span>, in § 7</span>
   </li>
<li>
<a href="#target-anchor-element">target anchor element</a><span>, in § 2.3</span>
   </li>
<li>
    top
    <ul>
     <li>
<a href="#valdef-anchor-top">value for anchor()</a><span>, in § 3.2</span>
     </li>
<li>
<a href="#valdef-inset-area-top">value for inset-area, &lt;inset-area></a><span>, in § 3.1.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#typedef-try-size">&lt;try-size></a><span>, in § 5.2</span>
   </li>
<li>
    &lt;try-tactic>
    <ul>
     <li>
<a href="#typedef-position-try-options-try-tactic">type for position-try-options</a><span>, in § 5.1</span>
     </li>
<li>
<a href="#valdef-position-try-options-try-tactic">value for position-try-options</a><span>, in § 5.1</span>
    </li>
</ul>
   </li>
<li>
<a href="#valid-anchor-function">valid anchor function</a><span>, in § 3.5</span>
   </li>
<li>
<a href="#valid-anchor-size-function">valid anchor-size function</a><span>, in § 4.2</span>
   </li>
<li>
<a href="#valdef-anchor-size-width">width</a><span>, in § 4.1</span>
   </li>
<li>
<a href="#valdef-inset-area-x-end">x-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-x-self-end">x-self-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-x-self-start">x-self-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-x-start">x-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-y-end">y-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-y-self-end">y-self-end</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-y-self-start">y-self-start</a><span>, in § 3.1.1</span>
   </li>
<li>
<a href="#valdef-inset-area-y-start">y-start</a><span>, in § 3.1.1</span>
  </li>
</ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere">
<span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a>
</h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSS-ALIGN-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="e6b1dd7a">align-items</span>
     </li>
<li>
<span class="dfn-paneled" id="9d95c839">align-self</span>
     </li>
<li>
<span class="dfn-paneled" id="515ec31f">center</span>
     </li>
<li>
<span class="dfn-paneled" id="020c3333">end</span>
     </li>
<li>
<span class="dfn-paneled" id="e4237559">justify-items</span>
     </li>
<li>
<span class="dfn-paneled" id="80d2b689">justify-self</span>
     </li>
<li>
<span class="dfn-paneled" id="fd3ce740">normal</span>
     </li>
<li>
<span class="dfn-paneled" id="5f80981e">self-alignment</span>
     </li>
<li>
<span class="dfn-paneled" id="34ae2cc3">self-alignment properties</span>
     </li>
<li>
<span class="dfn-paneled" id="35e80fd9">start</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-BOX-4]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="0778a939">margin box</span>
     </li>
<li>
<span class="dfn-paneled" id="62f136c0">margin properties</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-BREAK-4]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="64bdec0d">fragment</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-CASCADE-5]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="02b32fb2">animation origin</span>
     </li>
<li>
<span class="dfn-paneled" id="515ba43c">author origin</span>
     </li>
<li>
<span class="dfn-paneled" id="8c8e51b4">computed value</span>
     </li>
<li>
<span class="dfn-paneled" id="81a52293">property</span>
     </li>
<li>
<span class="dfn-paneled" id="1a2b1083">used value</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-CASCADE-6]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="9f07bd0d">cascade origin</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-CONTAIN-2]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="7507b495">layout containment</span>
     </li>
<li>
<span class="dfn-paneled" id="a46e00af">scoped property</span>
     </li>
<li>
<span class="dfn-paneled" id="008de09b">scoped to a sub-tree</span>
     </li>
<li>
<span class="dfn-paneled" id="3dc278d0">style containment</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-CONTAIN-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="9ad79111">container query</span>
     </li>
<li>
<span class="dfn-paneled" id="c7fc65e0">container query length</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-DISPLAY-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="6b4fc208">containing block</span>
     </li>
<li>
<span class="dfn-paneled" id="c09ea731">containing block chain</span>
     </li>
<li>
<span class="dfn-paneled" id="9c6aec4c">element</span>
     </li>
<li>
<span class="dfn-paneled" id="e26aa9bf">initial containing block</span>
     </li>
<li>
<span class="dfn-paneled" id="93f98063">principal box</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-LOGICAL-1]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="f616a86d">inset properties</span>
     </li>
<li>
<span class="dfn-paneled" id="35f86b2a">margin-block-end</span>
     </li>
<li>
<span class="dfn-paneled" id="7de802de">margin-block-start</span>
     </li>
<li>
<span class="dfn-paneled" id="4e03920f">margin-inline-start</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-OVERFLOW-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="a3cabdb1">scroll container</span>
     </li>
<li>
<span class="dfn-paneled" id="b76f3e6a">scroll offset</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-POSITION-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="4cf3c57e">absolute position</span>
     </li>
<li>
<span class="dfn-paneled" id="d9b71dda">absolutely position</span>
     </li>
<li>
<span class="dfn-paneled" id="dec20430">absolutely positioned box</span>
     </li>
<li>
<span class="dfn-paneled" id="70cda73a">absolutely positioned element</span>
     </li>
<li>
<span class="dfn-paneled" id="58d7f97c">absolutely-positioned</span>
     </li>
<li>
<span class="dfn-paneled" id="22a281b0">auto</span>
     </li>
<li>
<span class="dfn-paneled" id="f411d42d">bottom</span>
     </li>
<li>
<span class="dfn-paneled" id="6562e50f">inset-modified containing block</span>
     </li>
<li>
<span class="dfn-paneled" id="ebcbc56d">left</span>
     </li>
<li>
<span class="dfn-paneled" id="a5bae6ee">right</span>
     </li>
<li>
<span class="dfn-paneled" id="f99d4ae2">top</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-SCOPING-1]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="778f8dbd">tree-scoped name</span>
     </li>
<li>
<span class="dfn-paneled" id="c304f669">tree-scoped reference</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-SHADOW-PARTS-1]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="0626d1bc">::part()</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="c1c732b9">available space</span>
     </li>
<li>
<span class="dfn-paneled" id="2d68423f">max-height</span>
     </li>
<li>
<span class="dfn-paneled" id="2ac08cff">sizing property</span>
     </li>
<li>
<span class="dfn-paneled" id="49731d1d">width</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-SIZING-4]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="144ff3bf">last remembered size</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-SYNTAX-3]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="a81b1fb8">&lt;declaration-list></span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-TRANSFORMS-1]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="72bd2c25">translate()</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="c297b070">#</span>
     </li>
<li>
<span class="dfn-paneled" id="8cd4f032">,</span>
     </li>
<li>
<span class="dfn-paneled" id="f5b34cad">&lt;dashed-ident></span>
     </li>
<li>
<span class="dfn-paneled" id="4fd7e54f">&lt;length-percentage></span>
     </li>
<li>
<span class="dfn-paneled" id="98ddb9b0">&lt;length></span>
     </li>
<li>
<span class="dfn-paneled" id="128295ac">&lt;percentage></span>
     </li>
<li>
<span class="dfn-paneled" id="d4441b24">?</span>
     </li>
<li>
<span class="dfn-paneled" id="1db0f8e1">computed length</span>
     </li>
<li>
<span class="dfn-paneled" id="3db7b9e0">math function</span>
     </li>
<li>
<span class="dfn-paneled" id="3bafef5e">{a,b}</span>
     </li>
<li>
<span class="dfn-paneled" id="4eb9d37e">|</span>
     </li>
<li>
<span class="dfn-paneled" id="a0336d84">||</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS-WRITING-MODES-4]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="b8dade0f">block axis</span>
     </li>
<li>
<span class="dfn-paneled" id="599428b5">block-axis</span>
     </li>
<li>
<span class="dfn-paneled" id="83d2ef35">block-end</span>
     </li>
<li>
<span class="dfn-paneled" id="1118d052">block-start</span>
     </li>
<li>
<span class="dfn-paneled" id="e112902f">end</span>
     </li>
<li>
<span class="dfn-paneled" id="a6eb24bb">inline axis</span>
     </li>
<li>
<span class="dfn-paneled" id="82ddda8c">inline-axis</span>
     </li>
<li>
<span class="dfn-paneled" id="4da3b716">inline-end</span>
     </li>
<li>
<span class="dfn-paneled" id="0da67e16">inline-start</span>
     </li>
<li>
<span class="dfn-paneled" id="90c7548c">start</span>
     </li>
<li>
<span class="dfn-paneled" id="eb6008ce">writing mode</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSS21]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="2161cf2b">pseudo-elements</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[CSSOM-1]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="9d357000">CSSOMString</span>
     </li>
<li>
<span class="dfn-paneled" id="0f78dbdd">CSSRule</span>
     </li>
<li>
<span class="dfn-paneled" id="2d22493a">CSSStyleDeclaration</span>
     </li>
<li>
<span class="dfn-paneled" id="58164e11">cssText</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="f7960529">root</span>
     </li>
<li>
<span class="dfn-paneled" id="19f9e9df">shadow tree</span>
     </li>
<li>
<span class="dfn-paneled" id="e6cc3311">tree</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="d7d642a2">input</span>
     </li>
<li>
<span class="dfn-paneled" id="7486f2c8">li</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="f937b7b6">continue</span>
     </li>
<li>
<span class="dfn-paneled" id="16d07e10">for each</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[RESIZE-OBSERVER-1]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="5e16daa2">ResizeObserver</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[SELECTORS-4]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="7b5d8638">originating element</span>
     </li>
<li>
<span class="dfn-paneled" id="4d06fa38">pseudo-element</span>
    </li>
</ul>
   </li>
<li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li>
<span class="dfn-paneled" id="889e932f">Exposed</span>
     </li>
<li>
<span class="dfn-paneled" id="21ecf38f">PutForwards</span>
     </li>
<li>
<span class="dfn-paneled" id="a5c91173">SameObject</span>
    </li>
</ul>
  </li>
</ul>
  <h2 class="no-num no-ref heading settled" id="references">
<span class="content">References</span><a class="self-link" href="#references"></a>
</h2>
  <h3 class="no-num no-ref heading settled" id="normative">
<span class="content">Normative References</span><a class="self-link" href="#normative"></a>
</h3>
  <dl>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   </dt>
<dd>Elika Etemad; Tab Atkins Jr.. <a href="www.w3.org/TR/css-align-3/"><cite>CSS Box Alignment Module Level 3</cite></a>. 17 February 2023. WD. URL: <a href="www.w3.org/TR/css-align-3/">https://www.w3.org/TR/css-align-3/</a>
   </dd>
<dt id="biblio-css-box-4">[CSS-BOX-4]
   </dt>
<dd>Elika Etemad. <a href="www.w3.org/TR/css-box-4/"><cite>CSS Box Model Module Level 4</cite></a>. 3 November 2022. WD. URL: <a href="www.w3.org/TR/css-box-4/">https://www.w3.org/TR/css-box-4/</a>
   </dd>
<dt id="biblio-css-break-4">[CSS-BREAK-4]
   </dt>
<dd>Rossen Atanassov; Elika Etemad. <a href="www.w3.org/TR/css-break-4/"><cite>CSS Fragmentation Module Level 4</cite></a>. 18 December 2018. WD. URL: <a href="www.w3.org/TR/css-break-4/">https://www.w3.org/TR/css-break-4/</a>
   </dd>
<dt id="biblio-css-cascade-5">[CSS-CASCADE-5]
   </dt>
<dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="www.w3.org/TR/css-cascade-5/"><cite>CSS Cascading and Inheritance Level 5</cite></a>. 13 January 2022. CR. URL: <a href="www.w3.org/TR/css-cascade-5/">https://www.w3.org/TR/css-cascade-5/</a>
   </dd>
<dt id="biblio-css-cascade-6">[CSS-CASCADE-6]
   </dt>
<dd>Elika Etemad; Miriam Suzanne; Tab Atkins Jr.. <a href="www.w3.org/TR/css-cascade-6/"><cite>CSS Cascading and Inheritance Level 6</cite></a>. 21 March 2023. WD. URL: <a href="www.w3.org/TR/css-cascade-6/">https://www.w3.org/TR/css-cascade-6/</a>
   </dd>
<dt id="biblio-css-contain-2">[CSS-CONTAIN-2]
   </dt>
<dd>Tab Atkins Jr.; Florian Rivoal; Vladimir Levin. <a href="www.w3.org/TR/css-contain-2/"><cite>CSS Containment Module Level 2</cite></a>. 17 September 2022. WD. URL: <a href="www.w3.org/TR/css-contain-2/">https://www.w3.org/TR/css-contain-2/</a>
   </dd>
<dt id="biblio-css-display-3">[CSS-DISPLAY-3]
   </dt>
<dd>Elika Etemad; Tab Atkins Jr.. <a href="www.w3.org/TR/css-display-3/"><cite>CSS Display Module Level 3</cite></a>. 30 March 2023. CR. URL: <a href="www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
   </dd>
<dt id="biblio-css-logical-1">[CSS-LOGICAL-1]
   </dt>
<dd>Rossen Atanassov; Elika Etemad. <a href="www.w3.org/TR/css-logical-1/"><cite>CSS Logical Properties and Values Level 1</cite></a>. 27 August 2018. WD. URL: <a href="www.w3.org/TR/css-logical-1/">https://www.w3.org/TR/css-logical-1/</a>
   </dd>
<dt id="biblio-css-overflow-3">[CSS-OVERFLOW-3]
   </dt>
<dd>Elika Etemad; Florian Rivoal. <a href="www.w3.org/TR/css-overflow-3/"><cite>CSS Overflow Module Level 3</cite></a>. 29 March 2023. WD. URL: <a href="www.w3.org/TR/css-overflow-3/">https://www.w3.org/TR/css-overflow-3/</a>
   </dd>
<dt id="biblio-css-position-3">[CSS-POSITION-3]
   </dt>
<dd>Elika Etemad; Tab Atkins Jr.. <a href="www.w3.org/TR/css-position-3/"><cite>CSS Positioned Layout Module Level 3</cite></a>. 3 April 2023. WD. URL: <a href="www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
   </dd>
<dt id="biblio-css-scoping-1">[CSS-SCOPING-1]
   </dt>
<dd>Tab Atkins Jr.; Elika Etemad. <a href="www.w3.org/TR/css-scoping-1/"><cite>CSS Scoping Module Level 1</cite></a>. 3 April 2014. WD. URL: <a href="www.w3.org/TR/css-scoping-1/">https://www.w3.org/TR/css-scoping-1/</a>
   </dd>
<dt id="biblio-css-sizing-3">[CSS-SIZING-3]
   </dt>
<dd>Tab Atkins Jr.; Elika Etemad. <a href="www.w3.org/TR/css-sizing-3/"><cite>CSS Box Sizing Module Level 3</cite></a>. 17 December 2021. WD. URL: <a href="www.w3.org/TR/css-sizing-3/">https://www.w3.org/TR/css-sizing-3/</a>
   </dd>
<dt id="biblio-css-sizing-4">[CSS-SIZING-4]
   </dt>
<dd>Tab Atkins Jr.; Elika Etemad; Jen Simmons. <a href="www.w3.org/TR/css-sizing-4/"><cite>CSS Box Sizing Module Level 4</cite></a>. 20 May 2021. WD. URL: <a href="www.w3.org/TR/css-sizing-4/">https://www.w3.org/TR/css-sizing-4/</a>
   </dd>
<dt id="biblio-css-syntax-3">[CSS-SYNTAX-3]
   </dt>
<dd>Tab Atkins Jr.; Simon Sapin. <a href="www.w3.org/TR/css-syntax-3/"><cite>CSS Syntax Module Level 3</cite></a>. 24 December 2021. CR. URL: <a href="www.w3.org/TR/css-syntax-3/">https://www.w3.org/TR/css-syntax-3/</a>
   </dd>
<dt id="biblio-css-transforms-1">[CSS-TRANSFORMS-1]
   </dt>
<dd>Simon Fraser; et al. <a href="www.w3.org/TR/css-transforms-1/"><cite>CSS Transforms Module Level 1</cite></a>. 14 February 2019. CR. URL: <a href="www.w3.org/TR/css-transforms-1/">https://www.w3.org/TR/css-transforms-1/</a>
   </dd>
<dt id="biblio-css-values-4">[CSS-VALUES-4]
   </dt>
<dd>Tab Atkins Jr.; Elika Etemad. <a href="www.w3.org/TR/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. 18 December 2023. WD. URL: <a href="www.w3.org/TR/css-values-4/">https://www.w3.org/TR/css-values-4/</a>
   </dd>
<dt id="biblio-css-writing-modes-4">[CSS-WRITING-MODES-4]
   </dt>
<dd>Elika Etemad; Koji Ishii. <a href="www.w3.org/TR/css-writing-modes-4/"><cite>CSS Writing Modes Level 4</cite></a>. 30 July 2019. CR. URL: <a href="www.w3.org/TR/css-writing-modes-4/">https://www.w3.org/TR/css-writing-modes-4/</a>
   </dd>
<dt id="biblio-css21">[CSS21]
   </dt>
<dd>Bert Bos; et al. <a href="www.w3.org/TR/CSS21/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. 7 June 2011. REC. URL: <a href="www.w3.org/TR/CSS21/">https://www.w3.org/TR/CSS21/</a>
   </dd>
<dt id="biblio-cssom-1">[CSSOM-1]
   </dt>
<dd>Daniel Glazman; Emilio Cobos Álvarez. <a href="www.w3.org/TR/cssom-1/"><cite>CSS Object Model (CSSOM)</cite></a>. 26 August 2021. WD. URL: <a href="www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
   </dd>
<dt id="biblio-dom">[DOM]
   </dt>
<dd>Anne van Kesteren. <a href="dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   </dd>
<dt id="biblio-infra">[INFRA]
   </dt>
<dd>Anne van Kesteren; Domenic Denicola. <a href="infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   </dd>
<dt id="biblio-resize-observer-1">[RESIZE-OBSERVER-1]
   </dt>
<dd>Aleks Totic; Greg Whitworth. <a href="www.w3.org/TR/resize-observer-1/"><cite>Resize Observer</cite></a>. 11 February 2020. WD. URL: <a href="www.w3.org/TR/resize-observer-1/">https://www.w3.org/TR/resize-observer-1/</a>
   </dd>
<dt id="biblio-rfc2119">[RFC2119]
   </dt>
<dd>S. Bradner. <a href="datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   </dd>
<dt id="biblio-selectors-4">[SELECTORS-4]
   </dt>
<dd>Elika Etemad; Tab Atkins Jr.. <a href="www.w3.org/TR/selectors-4/"><cite>Selectors Level 4</cite></a>. 11 November 2022. WD. URL: <a href="www.w3.org/TR/selectors-4/">https://www.w3.org/TR/selectors-4/</a>
   </dd>
<dt id="biblio-webidl">[WEBIDL]
   </dt>
<dd>Edgar Chen; Timothy Gu. <a href="webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dd>
</dl>
  <h3 class="no-num no-ref heading settled" id="informative">
<span class="content">Informative References</span><a class="self-link" href="#informative"></a>
</h3>
  <dl>
   <dt id="biblio-css-contain-3">[CSS-CONTAIN-3]
   </dt>
<dd>Tab Atkins Jr.; Florian Rivoal; Miriam Suzanne. <a href="www.w3.org/TR/css-contain-3/"><cite>CSS Containment Module Level 3</cite></a>. 18 August 2022. WD. URL: <a href="www.w3.org/TR/css-contain-3/">https://www.w3.org/TR/css-contain-3/</a>
   </dd>
<dt id="biblio-css-shadow-parts-1">[CSS-SHADOW-PARTS-1]
   </dt>
<dd>Tab Atkins Jr.; Fergal Daly. <a href="www.w3.org/TR/css-shadow-parts-1/"><cite>CSS Shadow Parts</cite></a>. 15 November 2018. WD. URL: <a href="www.w3.org/TR/css-shadow-parts-1/">https://www.w3.org/TR/css-shadow-parts-1/</a>
   </dd>
<dt id="biblio-html">[HTML]
   </dt>
<dd>Anne van Kesteren; et al. <a href="html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
  </dd>
</dl>
  <h2 class="no-num no-ref heading settled" id="property-index">
<span class="content">Property Index</span><a class="self-link" href="#property-index"></a>
</h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      </th>
<th scope="col">Value
      </th>
<th scope="col">Initial
      </th>
<th scope="col">Applies to
      </th>
<th scope="col">Inh.
      </th>
<th scope="col">%ages
      </th>
<th scope="col">Anim­ation type
      </th>
<th scope="col">Canonical order
      </th>
<th scope="col">Com­puted value
    </th>
</tr>
</thead>
<tbody>
     <tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-anchor-name" id="ref-for-propdef-anchor-name⑦">anchor-name</a>
      </th>
<td>none | &lt;dashed-ident>#
      </td>
<td>none
      </td>
<td>all elements that generate a principal box
      </td>
<td>no
      </td>
<td>n/a
      </td>
<td>discrete
      </td>
<td>per grammar
      </td>
<td>as specified
     </td>
</tr>
<tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-anchor-scope" id="ref-for-propdef-anchor-scope⑥">anchor-scope</a>
      </th>
<td>none | all | &lt;dashed-ident>#
      </td>
<td>none
      </td>
<td>all elements
      </td>
<td>no
      </td>
<td>n/a
      </td>
<td>discrete
      </td>
<td>per grammar
      </td>
<td>as specified
     </td>
</tr>
<tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-inset-area" id="ref-for-propdef-inset-area⑧">inset-area</a>
      </th>
<td>none | &lt;inset-area>
      </td>
<td>none
      </td>
<td>positioned elements with a default anchor element
      </td>
<td>no
      </td>
<td>n/a
      </td>
<td>TBD
      </td>
<td>per grammar
      </td>
<td>as specified
     </td>
</tr>
<tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-position-anchor" id="ref-for-propdef-position-anchor④">position-anchor</a>
      </th>
<td>&lt;anchor-element>
      </td>
<td>implicit
      </td>
<td>absolutely positioned elements
      </td>
<td>no
      </td>
<td>n/a
      </td>
<td>discrete
      </td>
<td>per grammar
      </td>
<td>as specified
     </td>
</tr>
<tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-position-try" id="ref-for-propdef-position-try②">position-try</a>
      </th>
<td>&lt;'position-try-order'>? &lt;'position-try-options'>
      </td>
<td>see individual properties
      </td>
<td>see individual properties
      </td>
<td>see individual properties
      </td>
<td>see individual properties
      </td>
<td>see individual properties
      </td>
<td>per grammar
      </td>
<td>see individual properties
     </td>
</tr>
<tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-position-try-options" id="ref-for-propdef-position-try-options⑦">position-try-options</a>
      </th>
<td>none | [ [&lt;dashed-ident> || &lt;try-tactic>] | inset-area( &lt;'inset-area'> ) ]#
      </td>
<td>none
      </td>
<td>absolutely-positioned elements
      </td>
<td>no
      </td>
<td>n/a
      </td>
<td>discrete
      </td>
<td>per grammar
      </td>
<td>as specified
     </td>
</tr>
<tr>
      <th scope="row">
<a class="css" data-link-type="property" href="#propdef-position-try-order" id="ref-for-propdef-position-try-order⑤">position-try-order</a>
      </th>
<td>normal | &lt;try-size>
      </td>
<td>normal
      </td>
<td>absolutely positioned elements
      </td>
<td>no
      </td>
<td>n/a
      </td>
<td>discrete
      </td>
<td>per grammar
      </td>
<td>as specified
   </td>
</tr>
</tbody>
</table>
  </div>
  <h2 class="no-num no-ref heading settled" id="idl-index">
<span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a>
</h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#csspositiontryrule"><code><c- g>CSSPositionTryRule</c-></code></a> : <a data-link-type="idl-name" href="www.w3.org/TR/cssom-1/#cssrule"><c- n>CSSRule</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="www.w3.org/TR/cssom-1/#cssomstring"><c- n>CSSOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSOMString" href="#dom-csspositiontryrule-name"><c- g>name</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="webidl.spec.whatwg.org/#PutForwards"><c- g>PutForwards</c-></a>=<a class="idl-code" data-link-type="attribute" href="www.w3.org/TR/cssom-1/#dom-cssstyledeclaration-csstext"><c- n>cssText</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="www.w3.org/TR/cssom-1/#cssstyledeclaration"><c- n>CSSStyleDeclaration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CSSStyleDeclaration" href="#dom-csspositiontryrule-style"><c- g>style</c-></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index">
<span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a>
</h2>
  <div style="counter-reset:issue">
   <div class="issue"> define the term that actually means this,
matching ::before/after/backdrop/etc
(but not ::marker/placeholder/etc whose box is not detectable). <a class="issue-return" href="#issue-74e37020" title="Jump to section">↵</a>
</div>
   <div class="issue"> Computed value for anchor()
probably needs to be the anchor() function,
but with the target anchor element resolved.
This allows for transitions to work properly
with tree-scoped names,
and with changing anchor elements.
See <a href="github.com/w3c/csswg-drafts/issues/8180">Issue 8180</a>. <a class="issue-return" href="#issue-02b9489e" title="Jump to section">↵</a>
</div>
   <div class="issue"> Do we need to control which box we’re referring to,
so you can align to padding or content edge? <a class="issue-return" href="#issue-3c6fe13f" title="Jump to section">↵</a>
</div>
   <div class="issue"> Define the precise timing of the snapshot:
	updated each frame,
	before style recalc. <a class="issue-return" href="#issue-5446f06a" title="Jump to section">↵</a>
</div>
   <div class="issue"> Define how the values themselves are changed upon flipping:
anchor(top) becomes anchor(bottom);
start becomes end;
etc. <a class="issue-return" href="#issue-3980b8c2" title="Jump to section">↵</a>
</div>
   <div class="issue"> Or should they cascade together? <a class="issue-return" href="#issue-deeb9677" title="Jump to section">↵</a>
</div>
   <div class="issue"> What exactly are the constraints that determine what’s allowed here?
Current list is based off of what’s reasonable
from Chrome’s experimental impl.
We can make a CQ that keys off of which fallback was used
to allow more general styling,
at least for descendants. <a class="issue-return" href="#issue-14452576" title="Jump to section">↵</a>
</div>
   <div class="issue"> Would be useful to be able to detect
when your anchor(s) are fully off-screen
and suppress your display entirely.
For example, tooltips living outside the scroller
holding the text they’re anchored to
don’t want to just hover over arbitrary parts of the page
because their anchor happens to have that position
relative to the scrollport. <a class="issue-return" href="#issue-5b530169" title="Jump to section">↵</a>
</div>
   <div class="issue"> Make sure the snapshotted scroll offset stuff is correct now,
given interleaving. <a class="issue-return" href="#issue-21c2b50d" title="Jump to section">↵</a>
</div>
   <div class="issue"> match the concept of validity to whatever we do in similar situations. <a class="issue-return" href="#issue-45287b7f" title="Jump to section">↵</a>
</div>
   <div class="issue"> This is not the correct spec for this concept,
it should probably go in <a href="www.w3.org/TR/css-cascade/">Cascade</a>,
but I need a sketch of it to refer to. <a class="issue-return" href="#issue-56f04754" title="Jump to section">↵</a>
</div>
   <div class="issue"> Obviously this needs way more details filled in,
but for now "act like you already do for container queries" suffices.
That behavior is also undefined,
but at least it’s interoperable (to some extent?). <a class="issue-return" href="#issue-584007ee" title="Jump to section">↵</a>
</div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"008de09b": {"dfnID":"008de09b","dfnText":"scoped to a sub-tree","external":true,"refSections":[{"refs":[{"id":"ref-for-property-scoped-to-a-sub-tree"}],"title":"2.1. Creating an Anchor: the anchor-name property"}],"url":"https://www.w3.org/TR/css-contain-2/#property-scoped-to-a-sub-tree"},
"020c3333": {"dfnID":"020c3333","dfnText":"end","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-self-position-end"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-valdef-self-position-end①"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"https://www.w3.org/TR/css-align-3/#valdef-self-position-end"},
"02b32fb2": {"dfnID":"02b32fb2","dfnText":"animation origin","external":true,"refSections":[{"refs":[{"id":"ref-for-cascade-origin-animation"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-cascade-5/#cascade-origin-animation"},
"0626d1bc": {"dfnID":"0626d1bc","dfnText":"::part()","external":true,"refSections":[{"refs":[{"id":"ref-for-selectordef-part"}],"title":"2.3. Finding an Anchor"}],"url":"https://www.w3.org/TR/css-shadow-parts-1/#selectordef-part"},
"0778a939": {"dfnID":"0778a939","dfnText":"margin box","external":true,"refSections":[{"refs":[{"id":"ref-for-margin-box"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-box-4/#margin-box"},
"0da67e16": {"dfnID":"0da67e16","dfnText":"inline-start","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-start"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#inline-start"},
"0f78dbdd": {"dfnID":"0f78dbdd","dfnText":"CSSRule","external":true,"refSections":[{"refs":[{"id":"ref-for-cssrule"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://www.w3.org/TR/cssom-1/#cssrule"},
"1118d052": {"dfnID":"1118d052","dfnText":"block-start","external":true,"refSections":[{"refs":[{"id":"ref-for-block-start"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#block-start"},
"128295ac": {"dfnID":"128295ac","dfnText":"<percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-percentage-value"},{"id":"ref-for-percentage-value①"}],"title":"3.2. The anchor() Function"}],"url":"https://www.w3.org/TR/css-values-4/#percentage-value"},
"144ff3bf": {"dfnID":"144ff3bf","dfnText":"last remembered size","external":true,"refSections":[{"refs":[{"id":"ref-for-last-remembered"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-sizing-4/#last-remembered"},
"16d07e10": {"dfnID":"16d07e10","dfnText":"for each","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"}],"title":"5.5. Applying Position Fallback"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"19f9e9df": {"dfnID":"19f9e9df","dfnText":"shadow tree","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-shadow-tree"},{"id":"ref-for-concept-shadow-tree①"},{"id":"ref-for-concept-shadow-tree②"}],"title":"2.3. Finding an Anchor"}],"url":"https://dom.spec.whatwg.org/#concept-shadow-tree"},
"1a2b1083": {"dfnID":"1a2b1083","dfnText":"used value","external":true,"refSections":[{"refs":[{"id":"ref-for-used-value"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-used-value①"},{"id":"ref-for-used-value②"},{"id":"ref-for-used-value③"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-cascade-5/#used-value"},
"1db0f8e1": {"dfnID":"1db0f8e1","dfnText":"computed length","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-length"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"https://www.w3.org/TR/css-values-4/#computed-length"},
"2161cf2b": {"dfnID":"2161cf2b","dfnText":"pseudo-elements","external":true,"refSections":[{"refs":[{"id":"ref-for-x22"},{"id":"ref-for-x22①"}],"title":"2.1.1. Implicit Anchor Elements"}],"url":"https://www.w3.org/TR/CSS21/selector.html#x22"},
"21ecf38f": {"dfnID":"21ecf38f","dfnText":"PutForwards","external":true,"refSections":[{"refs":[{"id":"ref-for-PutForwards"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://webidl.spec.whatwg.org/#PutForwards"},
"22a281b0": {"dfnID":"22a281b0","dfnText":"auto","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-top-auto"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-valdef-top-auto①"}],"title":"3.3. Centering on the Anchor: the anchor-center value"}],"url":"https://www.w3.org/TR/css-position-3/#valdef-top-auto"},
"2ac08cff": {"dfnID":"2ac08cff","dfnText":"sizing property","external":true,"refSections":[{"refs":[{"id":"ref-for-sizing-property"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-sizing-property①"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-sizing-property②"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-sizing-property③"}],"title":"5.4. The @position-try Rule"}],"url":"https://www.w3.org/TR/css-sizing-3/#sizing-property"},
"2d22493a": {"dfnID":"2d22493a","dfnText":"CSSStyleDeclaration","external":true,"refSections":[{"refs":[{"id":"ref-for-cssstyledeclaration"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://www.w3.org/TR/cssom-1/#cssstyledeclaration"},
"2d68423f": {"dfnID":"2d68423f","dfnText":"max-height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-max-height"}],"title":"3.1. The inset-area Property"}],"url":"https://www.w3.org/TR/css-sizing-3/#propdef-max-height"},
"34ae2cc3": {"dfnID":"34ae2cc3","dfnText":"self-alignment properties","external":true,"refSections":[{"refs":[{"id":"ref-for-self-alignment-properties"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-self-alignment-properties①"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-self-alignment-properties②"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-self-alignment-properties③"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-self-alignment-properties④"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-self-alignment-properties⑤"}],"title":"5.4. The @position-try Rule"}],"url":"https://www.w3.org/TR/css-align-3/#self-alignment-properties"},
"35e80fd9": {"dfnID":"35e80fd9","dfnText":"start","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-self-position-start"}],"title":"3.1. The inset-area Property"}],"url":"https://www.w3.org/TR/css-align-3/#valdef-self-position-start"},
"35f86b2a": {"dfnID":"35f86b2a","dfnText":"margin-block-end","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-margin-block-end"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-logical-1/#propdef-margin-block-end"},
"3bafef5e": {"dfnID":"3bafef5e","dfnText":"{a,b}","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-num-range"},{"id":"ref-for-mult-num-range①"}],"title":"3.1. The inset-area Property"}],"url":"https://www.w3.org/TR/css-values-4/#mult-num-range"},
"3db7b9e0": {"dfnID":"3db7b9e0","dfnText":"math function","external":true,"refSections":[{"refs":[{"id":"ref-for-math-function"}],"title":"3.2. The anchor() Function"}],"url":"https://www.w3.org/TR/css-values-4/#math-function"},
"3dc278d0": {"dfnID":"3dc278d0","dfnText":"style containment","external":true,"refSections":[{"refs":[{"id":"ref-for-style-containment"}],"title":"2.1. Creating an Anchor: the anchor-name property"}],"url":"https://www.w3.org/TR/css-contain-2/#style-containment"},
"49731d1d": {"dfnID":"49731d1d","dfnText":"width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-width"}],"title":"4.1. The anchor-size() Function"}],"url":"https://www.w3.org/TR/css-sizing-3/#propdef-width"},
"4cf3c57e": {"dfnID":"4cf3c57e","dfnText":"absolute position","external":true,"refSections":[{"refs":[{"id":"ref-for-absolute-position"},{"id":"ref-for-absolute-position①"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-absolute-position②"},{"id":"ref-for-absolute-position③"},{"id":"ref-for-absolute-position④"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-absolute-position⑤"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-absolute-position⑥"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-absolute-position⑦"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-absolute-position⑧"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-absolute-position⑨"},{"id":"ref-for-absolute-position①⓪"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-absolute-position①①"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-absolute-position①②"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-absolute-position①③"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-absolute-position①④"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-absolute-position①⑤"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-absolute-position①⑥"},{"id":"ref-for-absolute-position①⑦"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-absolute-position①⑧"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-absolute-position①⑨"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-position-3/#absolute-position"},
"4d06fa38": {"dfnID":"4d06fa38","dfnText":"pseudo-element","external":true,"refSections":[{"refs":[{"id":"ref-for-pseudo-element"}],"title":"2.3. Finding an Anchor"}],"url":"https://www.w3.org/TR/selectors-4/#pseudo-element"},
"4da3b716": {"dfnID":"4da3b716","dfnText":"inline-end","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-end"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#inline-end"},
"4e03920f": {"dfnID":"4e03920f","dfnText":"margin-inline-start","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-margin-inline-start"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-logical-1/#propdef-margin-inline-start"},
"4eb9d37e": {"dfnID":"4eb9d37e","dfnText":"|","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-one"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-comb-one①"},{"id":"ref-for-comb-one②"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-comb-one③"},{"id":"ref-for-comb-one④"},{"id":"ref-for-comb-one⑤"},{"id":"ref-for-comb-one⑥"},{"id":"ref-for-comb-one⑦"},{"id":"ref-for-comb-one⑧"},{"id":"ref-for-comb-one⑨"},{"id":"ref-for-comb-one①⓪"},{"id":"ref-for-comb-one①①"},{"id":"ref-for-comb-one①②"},{"id":"ref-for-comb-one①③"},{"id":"ref-for-comb-one①④"},{"id":"ref-for-comb-one①⑤"},{"id":"ref-for-comb-one①⑥"},{"id":"ref-for-comb-one①⑦"},{"id":"ref-for-comb-one①⑧"},{"id":"ref-for-comb-one①⑨"},{"id":"ref-for-comb-one②⓪"},{"id":"ref-for-comb-one②①"},{"id":"ref-for-comb-one②②"},{"id":"ref-for-comb-one②③"},{"id":"ref-for-comb-one②④"},{"id":"ref-for-comb-one②⑤"},{"id":"ref-for-comb-one②⑥"},{"id":"ref-for-comb-one②⑦"},{"id":"ref-for-comb-one②⑧"},{"id":"ref-for-comb-one②⑨"},{"id":"ref-for-comb-one③⓪"},{"id":"ref-for-comb-one③①"},{"id":"ref-for-comb-one③②"},{"id":"ref-for-comb-one③③"},{"id":"ref-for-comb-one③④"},{"id":"ref-for-comb-one③⑤"},{"id":"ref-for-comb-one③⑥"},{"id":"ref-for-comb-one③⑦"},{"id":"ref-for-comb-one③⑧"},{"id":"ref-for-comb-one③⑨"},{"id":"ref-for-comb-one④⓪"},{"id":"ref-for-comb-one④①"},{"id":"ref-for-comb-one④②"},{"id":"ref-for-comb-one④③"},{"id":"ref-for-comb-one④④"},{"id":"ref-for-comb-one④⑤"},{"id":"ref-for-comb-one④⑥"},{"id":"ref-for-comb-one④⑦"},{"id":"ref-for-comb-one④⑧"},{"id":"ref-for-comb-one④⑨"},{"id":"ref-for-comb-one⑤⓪"},{"id":"ref-for-comb-one⑤①"},{"id":"ref-for-comb-one⑤②"},{"id":"ref-for-comb-one⑤③"},{"id":"ref-for-comb-one⑤④"},{"id":"ref-for-comb-one⑤⑤"},{"id":"ref-for-comb-one⑤⑥"},{"id":"ref-for-comb-one⑤⑦"},{"id":"ref-for-comb-one⑤⑧"},{"id":"ref-for-comb-one⑤⑨"},{"id":"ref-for-comb-one⑥⓪"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-comb-one⑥①"},{"id":"ref-for-comb-one⑥②"},{"id":"ref-for-comb-one⑥③"},{"id":"ref-for-comb-one⑥④"},{"id":"ref-for-comb-one⑥⑤"},{"id":"ref-for-comb-one⑥⑥"},{"id":"ref-for-comb-one⑥⑦"},{"id":"ref-for-comb-one⑥⑧"},{"id":"ref-for-comb-one⑥⑨"},{"id":"ref-for-comb-one⑦⓪"},{"id":"ref-for-comb-one⑦①"},{"id":"ref-for-comb-one⑦②"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-comb-one⑦③"},{"id":"ref-for-comb-one⑦④"},{"id":"ref-for-comb-one⑦⑤"},{"id":"ref-for-comb-one⑦⑥"},{"id":"ref-for-comb-one⑦⑦"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-comb-one⑦⑧"},{"id":"ref-for-comb-one⑦⑨"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-comb-one⑧⓪"},{"id":"ref-for-comb-one⑧①"},{"id":"ref-for-comb-one⑧②"},{"id":"ref-for-comb-one⑧③"}],"title":"5.2. Determining Fallback Order: the position-try-order property"}],"url":"https://www.w3.org/TR/css-values-4/#comb-one"},
"4fd7e54f": {"dfnID":"4fd7e54f","dfnText":"<length-percentage>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-length-percentage"},{"id":"ref-for-typedef-length-percentage①"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-typedef-length-percentage②"}],"title":"4.1. The anchor-size() Function"}],"url":"https://www.w3.org/TR/css-values-4/#typedef-length-percentage"},
"515ba43c": {"dfnID":"515ba43c","dfnText":"author origin","external":true,"refSections":[{"refs":[{"id":"ref-for-cascade-origin-author"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-cascade-5/#cascade-origin-author"},
"515ec31f": {"dfnID":"515ec31f","dfnText":"center","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-self-position-center"}],"title":"3.3. Centering on the Anchor: the anchor-center value"}],"url":"https://www.w3.org/TR/css-align-3/#valdef-self-position-center"},
"58164e11": {"dfnID":"58164e11","dfnText":"cssText","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-cssstyledeclaration-csstext"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://www.w3.org/TR/cssom-1/#dom-cssstyledeclaration-csstext"},
"58d7f97c": {"dfnID":"58d7f97c","dfnText":"absolutely-positioned","external":true,"refSections":[{"refs":[{"id":"ref-for-absolute-position"},{"id":"ref-for-absolute-position①"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-absolute-position②"},{"id":"ref-for-absolute-position③"},{"id":"ref-for-absolute-position④"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-absolute-position⑤"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-absolute-position⑥"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-absolute-position⑦"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-absolute-position⑧"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-absolute-position⑨"},{"id":"ref-for-absolute-position①⓪"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-absolute-position①①"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-absolute-position①②"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-absolute-position①③"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-absolute-position①④"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-absolute-position①⑤"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-absolute-position①⑥"},{"id":"ref-for-absolute-position①⑦"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-absolute-position①⑧"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-absolute-position①⑨"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-position-3/#absolute-position"},
"599428b5": {"dfnID":"599428b5","dfnText":"block-axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"},{"id":"ref-for-block-axis①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#block-axis"},
"5e16daa2": {"dfnID":"5e16daa2","dfnText":"ResizeObserver","external":true,"refSections":[{"refs":[{"id":"ref-for-resizeobserver"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/resize-observer-1/#resizeobserver"},
"5f80981e": {"dfnID":"5f80981e","dfnText":"self-alignment","external":true,"refSections":[{"refs":[{"id":"ref-for-self-align"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"https://www.w3.org/TR/css-align-3/#self-align"},
"62f136c0": {"dfnID":"62f136c0","dfnText":"margin properties","external":true,"refSections":[{"refs":[{"id":"ref-for-margin-properties"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-margin-properties①"}],"title":"5.4. The @position-try Rule"}],"url":"https://www.w3.org/TR/css-box-4/#margin-properties"},
"64bdec0d": {"dfnID":"64bdec0d","dfnText":"fragment","external":true,"refSections":[{"refs":[{"id":"ref-for-fragment"}],"title":"3.2. The anchor() Function"}],"url":"https://www.w3.org/TR/css-break-4/#fragment"},
"6562e50f": {"dfnID":"6562e50f","dfnText":"inset-modified containing block","external":true,"refSections":[{"refs":[{"id":"ref-for-inset-modified-containing-block"},{"id":"ref-for-inset-modified-containing-block①"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-inset-modified-containing-block②"},{"id":"ref-for-inset-modified-containing-block③"},{"id":"ref-for-inset-modified-containing-block④"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-inset-modified-containing-block⑤"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-inset-modified-containing-block⑥"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-inset-modified-containing-block⑦"},{"id":"ref-for-inset-modified-containing-block⑧"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-position-3/#inset-modified-containing-block"},
"6b4fc208": {"dfnID":"6b4fc208","dfnText":"containing block","external":true,"refSections":[{"refs":[{"id":"ref-for-containing-block"},{"id":"ref-for-containing-block①"},{"id":"ref-for-containing-block②"},{"id":"ref-for-containing-block③"},{"id":"ref-for-containing-block④"},{"id":"ref-for-containing-block⑤"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-containing-block⑥"},{"id":"ref-for-containing-block⑦"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-containing-block⑧"},{"id":"ref-for-containing-block⑨"},{"id":"ref-for-containing-block①⓪"},{"id":"ref-for-containing-block①①"},{"id":"ref-for-containing-block①②"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-containing-block①③"},{"id":"ref-for-containing-block①④"},{"id":"ref-for-containing-block①⑤"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-containing-block①⑥"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-containing-block①⑦"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-containing-block①⑧"},{"id":"ref-for-containing-block①⑨"}],"title":"5. Overflow Management"}],"url":"https://www.w3.org/TR/css-display-3/#containing-block"},
"70cda73a": {"dfnID":"70cda73a","dfnText":"absolutely positioned element","external":true,"refSections":[{"refs":[{"id":"ref-for-absolute-position"},{"id":"ref-for-absolute-position①"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-absolute-position②"},{"id":"ref-for-absolute-position③"},{"id":"ref-for-absolute-position④"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-absolute-position⑤"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-absolute-position⑥"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-absolute-position⑦"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-absolute-position⑧"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-absolute-position⑨"},{"id":"ref-for-absolute-position①⓪"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-absolute-position①①"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-absolute-position①②"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-absolute-position①③"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-absolute-position①④"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-absolute-position①⑤"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-absolute-position①⑥"},{"id":"ref-for-absolute-position①⑦"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-absolute-position①⑧"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-absolute-position①⑨"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-position-3/#absolute-position"},
"72bd2c25": {"dfnID":"72bd2c25","dfnText":"translate()","external":true,"refSections":[{"refs":[{"id":"ref-for-funcdef-transform-translate"}],"title":"3.2. The anchor() Function"}],"url":"https://www.w3.org/TR/css-transforms-1/#funcdef-transform-translate"},
"7486f2c8": {"dfnID":"7486f2c8","dfnText":"li","external":true,"refSections":[{"refs":[{"id":"ref-for-the-li-element"},{"id":"ref-for-the-li-element①"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"}],"url":"https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element"},
"7507b495": {"dfnID":"7507b495","dfnText":"layout containment","external":true,"refSections":[{"refs":[{"id":"ref-for-layout-containment"}],"title":"2.1. Creating an Anchor: the anchor-name property"}],"url":"https://www.w3.org/TR/css-contain-2/#layout-containment"},
"778f8dbd": {"dfnID":"778f8dbd","dfnText":"tree-scoped name","external":true,"refSections":[{"refs":[{"id":"ref-for-css-tree-scoped-name"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-css-tree-scoped-name①"}],"title":"2.3. Finding an Anchor"}],"url":"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name"},
"7b5d8638": {"dfnID":"7b5d8638","dfnText":"originating element","external":true,"refSections":[{"refs":[{"id":"ref-for-originating-element"}],"title":"2.1.1. Implicit Anchor Elements"}],"url":"https://www.w3.org/TR/selectors-4/#originating-element"},
"7de802de": {"dfnID":"7de802de","dfnText":"margin-block-start","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-margin-block-start"},{"id":"ref-for-propdef-margin-block-start①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-logical-1/#propdef-margin-block-start"},
"80d2b689": {"dfnID":"80d2b689","dfnText":"justify-self","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-justify-self"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-propdef-justify-self①"}],"title":"3.3. Centering on the Anchor: the anchor-center value"}],"url":"https://www.w3.org/TR/css-align-3/#propdef-justify-self"},
"81a52293": {"dfnID":"81a52293","dfnText":"property","external":true,"refSections":[{"refs":[{"id":"ref-for-css-property"}],"title":"5.4. The @position-try Rule"}],"url":"https://www.w3.org/TR/css-cascade-5/#css-property"},
"82ddda8c": {"dfnID":"82ddda8c","dfnText":"inline-axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"},{"id":"ref-for-inline-axis①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#inline-axis"},
"83d2ef35": {"dfnID":"83d2ef35","dfnText":"block-end","external":true,"refSections":[{"refs":[{"id":"ref-for-block-end"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#block-end"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8c8e51b4": {"dfnID":"8c8e51b4","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"}],"title":"5.5. Applying Position Fallback"},{"refs":[{"id":"ref-for-computed-value①"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"https://www.w3.org/TR/css-cascade-5/#computed-value"},
"8cd4f032": {"dfnID":"8cd4f032","dfnText":",","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-comma"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-comb-comma①"}],"title":"4.1. The anchor-size() Function"}],"url":"https://www.w3.org/TR/css-values-4/#comb-comma"},
"90c7548c": {"dfnID":"90c7548c","dfnText":"start","external":true,"refSections":[{"refs":[{"id":"ref-for-start"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-start①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#start"},
"93f98063": {"dfnID":"93f98063","dfnText":"principal box","external":true,"refSections":[{"refs":[{"id":"ref-for-principal-box"},{"id":"ref-for-principal-box①"}],"title":"2.1. Creating an Anchor: the anchor-name property"}],"url":"https://www.w3.org/TR/css-display-3/#principal-box"},
"98ddb9b0": {"dfnID":"98ddb9b0","dfnText":"<length>","external":true,"refSections":[{"refs":[{"id":"ref-for-length-value"},{"id":"ref-for-length-value①"},{"id":"ref-for-length-value②"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-length-value③"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-length-value④"}],"title":"4.1. The anchor-size() Function"}],"url":"https://www.w3.org/TR/css-values-4/#length-value"},
"9ad79111": {"dfnID":"9ad79111","dfnText":"container query","external":true,"refSections":[{"refs":[{"id":"ref-for-container-query"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"https://www.w3.org/TR/css-contain-3/#container-query"},
"9c6aec4c": {"dfnID":"9c6aec4c","dfnText":"element","external":true,"refSections":[{"refs":[{"id":"ref-for-elements"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-elements①"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-display-3/#elements"},
"9d357000": {"dfnID":"9d357000","dfnText":"CSSOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-cssomstring"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://www.w3.org/TR/cssom-1/#cssomstring"},
"9d95c839": {"dfnID":"9d95c839","dfnText":"align-self","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-align-self"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-propdef-align-self①"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-propdef-align-self②"}],"title":"5.2. Determining Fallback Order: the position-try-order property"}],"url":"https://www.w3.org/TR/css-align-3/#propdef-align-self"},
"9f07bd0d": {"dfnID":"9f07bd0d","dfnText":"cascade origin","external":true,"refSections":[{"refs":[{"id":"ref-for-origin"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-cascade-6/#origin"},
"a0336d84": {"dfnID":"a0336d84","dfnText":"||","external":true,"refSections":[{"refs":[{"id":"ref-for-comb-any"},{"id":"ref-for-comb-any①"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-comb-any②"},{"id":"ref-for-comb-any③"},{"id":"ref-for-comb-any④"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-values-4/#comb-any"},
"a3cabdb1": {"dfnID":"a3cabdb1","dfnText":"scroll container","external":true,"refSections":[{"refs":[{"id":"ref-for-scroll-container"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-scroll-container①"},{"id":"ref-for-scroll-container②"},{"id":"ref-for-scroll-container③"}],"title":"3.4. Taking Scroll Into Account"}],"url":"https://www.w3.org/TR/css-overflow-3/#scroll-container"},
"a46e00af": {"dfnID":"a46e00af","dfnText":"scoped property","external":true,"refSections":[{"refs":[{"id":"ref-for-property-scoped"}],"title":"2.1. Creating an Anchor: the anchor-name property"}],"url":"https://www.w3.org/TR/css-contain-2/#property-scoped"},
"a5bae6ee": {"dfnID":"a5bae6ee","dfnText":"right","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-right"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-propdef-right①"}],"title":"3.5. Validity"}],"url":"https://www.w3.org/TR/css-position-3/#propdef-right"},
"a5c91173": {"dfnID":"a5c91173","dfnText":"SameObject","external":true,"refSections":[{"refs":[{"id":"ref-for-SameObject"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"https://webidl.spec.whatwg.org/#SameObject"},
"a6eb24bb": {"dfnID":"a6eb24bb","dfnText":"inline axis","external":true,"refSections":[{"refs":[{"id":"ref-for-inline-axis"},{"id":"ref-for-inline-axis①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#inline-axis"},
"a81b1fb8": {"dfnID":"a81b1fb8","dfnText":"<declaration-list>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-declaration-list"}],"title":"5.4. The @position-try Rule"}],"url":"https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list"},
"acceptable-anchor-element": {"dfnID":"acceptable-anchor-element","dfnText":"acceptable anchor element","external":false,"refSections":[{"refs":[{"id":"ref-for-acceptable-anchor-element"},{"id":"ref-for-acceptable-anchor-element①"}],"title":"2.3. Finding an Anchor"}],"url":"#acceptable-anchor-element"},
"accepted-position-try-properties": {"dfnID":"accepted-position-try-properties","dfnText":"accepts","external":false,"refSections":[{"refs":[{"id":"ref-for-accepted-position-try-properties"}],"title":"6.1. The CSSPositionTryRule interface"},{"refs":[{"id":"ref-for-accepted-position-try-properties①"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"#accepted-position-try-properties"},
"anchor-element": {"dfnID":"anchor-element","dfnText":"anchor element","external":false,"refSections":[{"refs":[{"id":"ref-for-anchor-element"},{"id":"ref-for-anchor-element①"},{"id":"ref-for-anchor-element②"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-anchor-element③"},{"id":"ref-for-anchor-element④"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-anchor-element⑤"},{"id":"ref-for-anchor-element⑥"},{"id":"ref-for-anchor-element⑦"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-anchor-element⑧"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-anchor-element⑨"},{"id":"ref-for-anchor-element①⓪"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-anchor-element①①"},{"id":"ref-for-anchor-element①②"},{"id":"ref-for-anchor-element①③"},{"id":"ref-for-anchor-element①④"},{"id":"ref-for-anchor-element①⑤"},{"id":"ref-for-anchor-element①⑥"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-anchor-element①⑦"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-anchor-element①⑧"}],"title":"5. Overflow Management"}],"url":"#anchor-element"},
"anchor-functions": {"dfnID":"anchor-functions","dfnText":"anchor functions","external":false,"refSections":[{"refs":[{"id":"ref-for-anchor-functions"},{"id":"ref-for-anchor-functions①"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-anchor-functions②"},{"id":"ref-for-anchor-functions③"}],"title":"2.4. \nDefault Anchors: the position-anchor property"}],"url":"#anchor-functions"},
"anchor-name": {"dfnID":"anchor-name","dfnText":"anchor names","external":false,"refSections":[{"refs":[{"id":"ref-for-anchor-name"},{"id":"ref-for-anchor-name①"},{"id":"ref-for-anchor-name②"},{"id":"ref-for-anchor-name③"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-anchor-name④"},{"id":"ref-for-anchor-name⑤"},{"id":"ref-for-anchor-name⑥"},{"id":"ref-for-anchor-name⑦"},{"id":"ref-for-anchor-name⑧"},{"id":"ref-for-anchor-name⑨"},{"id":"ref-for-anchor-name①⓪"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-anchor-name①①"},{"id":"ref-for-anchor-name①②"},{"id":"ref-for-anchor-name①③"},{"id":"ref-for-anchor-name①④"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-anchor-name①⑤"}],"title":"3.2. The anchor() Function"}],"url":"#anchor-name"},
"anchor-positioning": {"dfnID":"anchor-positioning","dfnText":"Anchor positioning","external":false,"refSections":[],"url":"#anchor-positioning"},
"anchor-specifier": {"dfnID":"anchor-specifier","dfnText":"anchor specifier","external":false,"refSections":[{"refs":[{"id":"ref-for-anchor-specifier"}],"title":"2.3. Finding an Anchor"}],"url":"#anchor-specifier"},
"apply-a-position-option": {"dfnID":"apply-a-position-option","dfnText":"apply a position option","external":false,"refSections":[{"refs":[{"id":"ref-for-apply-a-position-option"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-apply-a-position-option①"},{"id":"ref-for-apply-a-position-option②"}],"title":"5.5. Applying Position Fallback"}],"url":"#apply-a-position-option"},
"at-ruledef-position-try": {"dfnID":"at-ruledef-position-try","dfnText":"@position-try","external":false,"refSections":[{"refs":[{"id":"ref-for-at-ruledef-position-try"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-at-ruledef-position-try①"},{"id":"ref-for-at-ruledef-position-try②"},{"id":"ref-for-at-ruledef-position-try③"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-at-ruledef-position-try④"},{"id":"ref-for-at-ruledef-position-try⑤"},{"id":"ref-for-at-ruledef-position-try⑥"},{"id":"ref-for-at-ruledef-position-try⑦"},{"id":"ref-for-at-ruledef-position-try⑧"}],"title":"5.4. The @position-try Rule"},{"refs":[{"id":"ref-for-at-ruledef-position-try⑨"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"#at-ruledef-position-try"},
"b76f3e6a": {"dfnID":"b76f3e6a","dfnText":"scroll offset","external":true,"refSections":[{"refs":[{"id":"ref-for-scroll-offset"}],"title":"3.4. Taking Scroll Into Account"}],"url":"https://www.w3.org/TR/css-overflow-3/#scroll-offset"},
"b8dade0f": {"dfnID":"b8dade0f","dfnText":"block axis","external":true,"refSections":[{"refs":[{"id":"ref-for-block-axis"},{"id":"ref-for-block-axis①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#block-axis"},
"c09ea731": {"dfnID":"c09ea731","dfnText":"containing block chain","external":true,"refSections":[{"refs":[{"id":"ref-for-containing-block-chain"}],"title":"2.3. Finding an Anchor"}],"url":"https://www.w3.org/TR/css-display-3/#containing-block-chain"},
"c1c732b9": {"dfnID":"c1c732b9","dfnText":"available space","external":true,"refSections":[{"refs":[{"id":"ref-for-available"}],"title":"3.3. Centering on the Anchor: the anchor-center value"}],"url":"https://www.w3.org/TR/css-sizing-3/#available"},
"c297b070": {"dfnID":"c297b070","dfnText":"#","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-comma"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-mult-comma①"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-mult-comma②"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-values-4/#mult-comma"},
"c304f669": {"dfnID":"c304f669","dfnText":"tree-scoped reference","external":true,"refSections":[{"refs":[{"id":"ref-for-css-tree-scoped-reference"},{"id":"ref-for-css-tree-scoped-reference①"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-css-tree-scoped-reference②"}],"title":"3.2. The anchor() Function"}],"url":"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-reference"},
"c7fc65e0": {"dfnID":"c7fc65e0","dfnText":"container query length","external":true,"refSections":[{"refs":[{"id":"ref-for-container-query-length"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"https://drafts.csswg.org/css-contain-3/#container-query-length"},
"csspositiontryrule": {"dfnID":"csspositiontryrule","dfnText":"CSSPositionTryRule","external":false,"refSections":[{"refs":[{"id":"ref-for-csspositiontryrule"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"#csspositiontryrule"},
"d4441b24": {"dfnID":"d4441b24","dfnText":"?","external":true,"refSections":[{"refs":[{"id":"ref-for-mult-opt"},{"id":"ref-for-mult-opt①"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-mult-opt②"},{"id":"ref-for-mult-opt③"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-mult-opt④"}],"title":"5.3. The position-try Shorthand"}],"url":"https://www.w3.org/TR/css-values-4/#mult-opt"},
"d7d642a2": {"dfnID":"d7d642a2","dfnText":"input","external":true,"refSections":[{"refs":[{"id":"ref-for-the-input-element"}],"title":"3.2. The anchor() Function"}],"url":"https://html.spec.whatwg.org/multipage/input.html#the-input-element"},
"d9b71dda": {"dfnID":"d9b71dda","dfnText":"absolutely position","external":true,"refSections":[{"refs":[{"id":"ref-for-absolute-position"},{"id":"ref-for-absolute-position①"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-absolute-position②"},{"id":"ref-for-absolute-position③"},{"id":"ref-for-absolute-position④"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-absolute-position⑤"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-absolute-position⑥"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-absolute-position⑦"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-absolute-position⑧"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-absolute-position⑨"},{"id":"ref-for-absolute-position①⓪"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-absolute-position①①"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-absolute-position①②"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-absolute-position①③"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-absolute-position①④"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-absolute-position①⑤"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-absolute-position①⑥"},{"id":"ref-for-absolute-position①⑦"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-absolute-position①⑧"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-absolute-position①⑨"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-position-3/#absolute-position"},
"dec20430": {"dfnID":"dec20430","dfnText":"absolutely positioned box","external":true,"refSections":[{"refs":[{"id":"ref-for-absolute-position"},{"id":"ref-for-absolute-position①"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-absolute-position②"},{"id":"ref-for-absolute-position③"},{"id":"ref-for-absolute-position④"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-absolute-position⑤"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-absolute-position⑥"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-absolute-position⑦"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-absolute-position⑧"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-absolute-position⑨"},{"id":"ref-for-absolute-position①⓪"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-absolute-position①①"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-absolute-position①②"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-absolute-position①③"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-absolute-position①④"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-absolute-position①⑤"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-absolute-position①⑥"},{"id":"ref-for-absolute-position①⑦"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-absolute-position①⑧"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-absolute-position①⑨"}],"title":"5.5. Applying Position Fallback"}],"url":"https://www.w3.org/TR/css-position-3/#absolute-position"},
"default-anchor-element": {"dfnID":"default-anchor-element","dfnText":"default anchor element","external":false,"refSections":[{"refs":[{"id":"ref-for-default-anchor-element"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-default-anchor-element①"},{"id":"ref-for-default-anchor-element②"},{"id":"ref-for-default-anchor-element③"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-default-anchor-element④"},{"id":"ref-for-default-anchor-element⑤"},{"id":"ref-for-default-anchor-element⑥"},{"id":"ref-for-default-anchor-element⑦"},{"id":"ref-for-default-anchor-element⑧"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-default-anchor-element⑨"},{"id":"ref-for-default-anchor-element①⓪"},{"id":"ref-for-default-anchor-element①①"},{"id":"ref-for-default-anchor-element①②"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-default-anchor-element①③"},{"id":"ref-for-default-anchor-element①④"},{"id":"ref-for-default-anchor-element①⑤"}],"title":"3.4. Taking Scroll Into Account"}],"url":"#default-anchor-element"},
"default-anchor-specifier": {"dfnID":"default-anchor-specifier","dfnText":"default anchor specifier","external":false,"refSections":[{"refs":[{"id":"ref-for-default-anchor-specifier"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-default-anchor-specifier①"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-default-anchor-specifier②"}],"title":"3.2. The anchor() Function"}],"url":"#default-anchor-specifier"},
"determine-the-position-fallback-styles": {"dfnID":"determine-the-position-fallback-styles","dfnText":"determine the position fallback styles","external":false,"refSections":[{"refs":[{"id":"ref-for-determine-the-position-fallback-styles"}],"title":"5.5. Applying Position Fallback"}],"url":"#determine-the-position-fallback-styles"},
"dom-csspositiontryrule-name": {"dfnID":"dom-csspositiontryrule-name","dfnText":"name","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csspositiontryrule-name"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"#dom-csspositiontryrule-name"},
"dom-csspositiontryrule-style": {"dfnID":"dom-csspositiontryrule-style","dfnText":"style","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-csspositiontryrule-style"}],"title":"6.1. The CSSPositionTryRule interface"}],"url":"#dom-csspositiontryrule-style"},
"e112902f": {"dfnID":"e112902f","dfnText":"end","external":true,"refSections":[{"refs":[{"id":"ref-for-end"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-end①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#end"},
"e26aa9bf": {"dfnID":"e26aa9bf","dfnText":"initial containing block","external":true,"refSections":[{"refs":[{"id":"ref-for-initial-containing-block"}],"title":"2.3. Finding an Anchor"}],"url":"https://www.w3.org/TR/css-display-3/#initial-containing-block"},
"e4237559": {"dfnID":"e4237559","dfnText":"justify-items","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-justify-items"}],"title":"3.3. Centering on the Anchor: the anchor-center value"}],"url":"https://www.w3.org/TR/css-align-3/#propdef-justify-items"},
"e6b1dd7a": {"dfnID":"e6b1dd7a","dfnText":"align-items","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-align-items"}],"title":"3.3. Centering on the Anchor: the anchor-center value"}],"url":"https://www.w3.org/TR/css-align-3/#propdef-align-items"},
"e6cc3311": {"dfnID":"e6cc3311","dfnText":"tree","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-tree"}],"title":"2.3. Finding an Anchor"}],"url":"https://dom.spec.whatwg.org/#concept-tree"},
"eb6008ce": {"dfnID":"eb6008ce","dfnText":"writing mode","external":true,"refSections":[{"refs":[{"id":"ref-for-writing-mode"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-writing-mode①"},{"id":"ref-for-writing-mode②"}],"title":"4.1. The anchor-size() Function"}],"url":"https://www.w3.org/TR/css-writing-modes-4/#writing-mode"},
"ebcbc56d": {"dfnID":"ebcbc56d","dfnText":"left","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-left"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-propdef-left①"}],"title":"3.5. Validity"}],"url":"https://www.w3.org/TR/css-position-3/#propdef-left"},
"f411d42d": {"dfnID":"f411d42d","dfnText":"bottom","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-bottom"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-propdef-bottom①"}],"title":"5.2. Determining Fallback Order: the position-try-order property"}],"url":"https://www.w3.org/TR/css-position-3/#propdef-bottom"},
"f5b34cad": {"dfnID":"f5b34cad","dfnText":"<dashed-ident>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-dashed-ident"},{"id":"ref-for-typedef-dashed-ident①"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-typedef-dashed-ident②"},{"id":"ref-for-typedef-dashed-ident③"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-typedef-dashed-ident④"},{"id":"ref-for-typedef-dashed-ident⑤"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-typedef-dashed-ident⑥"},{"id":"ref-for-typedef-dashed-ident⑦"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-typedef-dashed-ident⑧"},{"id":"ref-for-typedef-dashed-ident⑨"},{"id":"ref-for-typedef-dashed-ident①⓪"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-typedef-dashed-ident①①"},{"id":"ref-for-typedef-dashed-ident①②"}],"title":"5.4. The @position-try Rule"}],"url":"https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"},
"f616a86d": {"dfnID":"f616a86d","dfnText":"inset properties","external":true,"refSections":[{"refs":[{"id":"ref-for-inset-properties"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-inset-properties①"},{"id":"ref-for-inset-properties②"},{"id":"ref-for-inset-properties③"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-inset-properties④"},{"id":"ref-for-inset-properties⑤"},{"id":"ref-for-inset-properties⑥"},{"id":"ref-for-inset-properties⑦"},{"id":"ref-for-inset-properties⑧"},{"id":"ref-for-inset-properties⑨"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-inset-properties①⓪"},{"id":"ref-for-inset-properties①①"},{"id":"ref-for-inset-properties①②"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-inset-properties①③"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-inset-properties①④"},{"id":"ref-for-inset-properties①⑤"},{"id":"ref-for-inset-properties①⑥"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-inset-properties①⑦"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-inset-properties①⑧"}],"title":"5.4. The @position-try Rule"}],"url":"https://drafts.csswg.org/css-logical-1/#inset-properties"},
"f7960529": {"dfnID":"f7960529","dfnText":"root","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-tree-root"}],"title":"2.3. Finding an Anchor"}],"url":"https://dom.spec.whatwg.org/#concept-tree-root"},
"f937b7b6": {"dfnID":"f937b7b6","dfnText":"continue","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-continue"}],"title":"5.5. Applying Position Fallback"}],"url":"https://infra.spec.whatwg.org/#iteration-continue"},
"f99d4ae2": {"dfnID":"f99d4ae2","dfnText":"top","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-top"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-propdef-top①"}],"title":"5.2. Determining Fallback Order: the position-try-order property"}],"url":"https://www.w3.org/TR/css-position-3/#propdef-top"},
"fd3ce740": {"dfnID":"fd3ce740","dfnText":"normal","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-align-self-normal"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-valdef-align-self-normal①"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"https://www.w3.org/TR/css-align-3/#valdef-align-self-normal"},
"funcdef-anchor": {"dfnID":"funcdef-anchor","dfnText":"anchor()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-anchor"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-funcdef-anchor①"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-funcdef-anchor②"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-funcdef-anchor③"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-funcdef-anchor④"},{"id":"ref-for-funcdef-anchor⑤"},{"id":"ref-for-funcdef-anchor⑥"},{"id":"ref-for-funcdef-anchor⑦"},{"id":"ref-for-funcdef-anchor⑧"},{"id":"ref-for-funcdef-anchor⑨"},{"id":"ref-for-funcdef-anchor①⓪"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-funcdef-anchor①①"},{"id":"ref-for-funcdef-anchor①②"},{"id":"ref-for-funcdef-anchor①③"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-funcdef-anchor①④"},{"id":"ref-for-funcdef-anchor①⑤"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-funcdef-anchor①⑥"},{"id":"ref-for-funcdef-anchor①⑦"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-funcdef-anchor①⑧"}],"title":"5.4. The @position-try Rule"}],"url":"#funcdef-anchor"},
"funcdef-anchor-size": {"dfnID":"funcdef-anchor-size","dfnText":"anchor-size()","external":false,"refSections":[{"refs":[{"id":"ref-for-funcdef-anchor-size"}],"title":"1. Introduction"},{"refs":[{"id":"ref-for-funcdef-anchor-size①"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-funcdef-anchor-size②"}],"title":"4. Anchor-Based Sizing"},{"refs":[{"id":"ref-for-funcdef-anchor-size③"},{"id":"ref-for-funcdef-anchor-size④"},{"id":"ref-for-funcdef-anchor-size⑤"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-funcdef-anchor-size⑥"},{"id":"ref-for-funcdef-anchor-size⑦"}],"title":"4.2. Validity"}],"url":"#funcdef-anchor-size"},
"implicit-anchor-element": {"dfnID":"implicit-anchor-element","dfnText":"implicit anchor element","external":false,"refSections":[{"refs":[{"id":"ref-for-implicit-anchor-element"},{"id":"ref-for-implicit-anchor-element①"},{"id":"ref-for-implicit-anchor-element②"},{"id":"ref-for-implicit-anchor-element③"}],"title":"2.1.1. Implicit Anchor Elements"},{"refs":[{"id":"ref-for-implicit-anchor-element④"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-implicit-anchor-element⑤"},{"id":"ref-for-implicit-anchor-element⑥"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-implicit-anchor-element⑦"}],"title":"3.2. The anchor() Function"}],"url":"#implicit-anchor-element"},
"inset-area-grid": {"dfnID":"inset-area-grid","dfnText":"inset-area grid","external":false,"refSections":[{"refs":[{"id":"ref-for-inset-area-grid"},{"id":"ref-for-inset-area-grid①"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-inset-area-grid②"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#inset-area-grid"},
"last-successful-position-option": {"dfnID":"last-successful-position-option","dfnText":"last successful position option","external":false,"refSections":[{"refs":[{"id":"ref-for-last-successful-position-option"},{"id":"ref-for-last-successful-position-option①"},{"id":"ref-for-last-successful-position-option②"}],"title":"5.5. Applying Position Fallback"}],"url":"#last-successful-position-option"},
"needs-scroll-adjustment": {"dfnID":"needs-scroll-adjustment","dfnText":"needs scroll adjustment","external":false,"refSections":[{"refs":[{"id":"ref-for-needs-scroll-adjustment"},{"id":"ref-for-needs-scroll-adjustment①"}],"title":"3.4. Taking Scroll Into Account"}],"url":"#needs-scroll-adjustment"},
"position-fallback-origin": {"dfnID":"position-fallback-origin","dfnText":"position fallback origin","external":false,"refSections":[{"refs":[{"id":"ref-for-position-fallback-origin"}],"title":"5.5. Applying Position Fallback"}],"url":"#position-fallback-origin"},
"position-option": {"dfnID":"position-option","dfnText":"position option","external":false,"refSections":[{"refs":[{"id":"ref-for-position-option"},{"id":"ref-for-position-option①"},{"id":"ref-for-position-option②"},{"id":"ref-for-position-option③"},{"id":"ref-for-position-option④"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-position-option⑤"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-position-option⑥"},{"id":"ref-for-position-option⑦"}],"title":"5.5. Applying Position Fallback"}],"url":"#position-option"},
"position-options-list": {"dfnID":"position-options-list","dfnText":"position options list","external":false,"refSections":[{"refs":[{"id":"ref-for-position-options-list"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-position-options-list①"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-position-options-list②"},{"id":"ref-for-position-options-list③"},{"id":"ref-for-position-options-list④"},{"id":"ref-for-position-options-list⑤"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-position-options-list⑥"},{"id":"ref-for-position-options-list⑦"},{"id":"ref-for-position-options-list⑧"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-position-options-list⑨"},{"id":"ref-for-position-options-list①⓪"},{"id":"ref-for-position-options-list①①"}],"title":"5.5. Applying Position Fallback"}],"url":"#position-options-list"},
"propdef-anchor-name": {"dfnID":"propdef-anchor-name","dfnText":"anchor-name","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-anchor-name"},{"id":"ref-for-propdef-anchor-name①"},{"id":"ref-for-propdef-anchor-name②"}],"title":"2.1. Creating an Anchor: the anchor-name property"},{"refs":[{"id":"ref-for-propdef-anchor-name③"}],"title":"2.1.1. Implicit Anchor Elements"},{"refs":[{"id":"ref-for-propdef-anchor-name④"},{"id":"ref-for-propdef-anchor-name⑤"},{"id":"ref-for-propdef-anchor-name⑥"}],"title":"2.3. Finding an Anchor"}],"url":"#propdef-anchor-name"},
"propdef-anchor-scope": {"dfnID":"propdef-anchor-scope","dfnText":"anchor-scope","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-anchor-scope"},{"id":"ref-for-propdef-anchor-scope①"},{"id":"ref-for-propdef-anchor-scope②"},{"id":"ref-for-propdef-anchor-scope③"},{"id":"ref-for-propdef-anchor-scope④"}],"title":"2.2. \nScoping Anchor Names: the anchor-scope property"},{"refs":[{"id":"ref-for-propdef-anchor-scope⑤"}],"title":"2.3. Finding an Anchor"}],"url":"#propdef-anchor-scope"},
"propdef-inset-area": {"dfnID":"propdef-inset-area","dfnText":"inset-area","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-inset-area"}],"title":"3. Anchor-Based Positioning"},{"refs":[{"id":"ref-for-propdef-inset-area①"},{"id":"ref-for-propdef-inset-area②"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-propdef-inset-area③"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-propdef-inset-area④"},{"id":"ref-for-propdef-inset-area⑤"},{"id":"ref-for-propdef-inset-area⑥"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-propdef-inset-area⑦"}],"title":"5.4. The @position-try Rule"}],"url":"#propdef-inset-area"},
"propdef-position-anchor": {"dfnID":"propdef-position-anchor","dfnText":"position-anchor","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-position-anchor"},{"id":"ref-for-propdef-position-anchor①"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-propdef-position-anchor②"},{"id":"ref-for-propdef-position-anchor③"}],"title":"5.4. The @position-try Rule"}],"url":"#propdef-position-anchor"},
"propdef-position-try": {"dfnID":"propdef-position-try","dfnText":"position-try","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-position-try"}],"title":"5.3. The position-try Shorthand"},{"refs":[{"id":"ref-for-propdef-position-try①"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"#propdef-position-try"},
"propdef-position-try-options": {"dfnID":"propdef-position-try-options","dfnText":"position-try-options","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-position-try-options"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-propdef-position-try-options①"}],"title":"5.1. Giving Fallback Options: the position-try-options property"},{"refs":[{"id":"ref-for-propdef-position-try-options②"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-propdef-position-try-options③"},{"id":"ref-for-propdef-position-try-options④"}],"title":"5.3. The position-try Shorthand"},{"refs":[{"id":"ref-for-propdef-position-try-options⑤"},{"id":"ref-for-propdef-position-try-options⑥"}],"title":"5.4. The @position-try Rule"}],"url":"#propdef-position-try-options"},
"propdef-position-try-order": {"dfnID":"propdef-position-try-order","dfnText":"position-try-order","external":false,"refSections":[{"refs":[{"id":"ref-for-propdef-position-try-order"}],"title":"5. Overflow Management"},{"refs":[{"id":"ref-for-propdef-position-try-order①"}],"title":"5.2. Determining Fallback Order: the position-try-order property"},{"refs":[{"id":"ref-for-propdef-position-try-order②"},{"id":"ref-for-propdef-position-try-order③"},{"id":"ref-for-propdef-position-try-order④"}],"title":"5.3. The position-try Shorthand"}],"url":"#propdef-position-try-order"},
"snapshotted-scroll-offset": {"dfnID":"snapshotted-scroll-offset","dfnText":"snapshotted scroll offset","external":false,"refSections":[{"refs":[{"id":"ref-for-snapshotted-scroll-offset"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-snapshotted-scroll-offset①"}],"title":"5.5. Applying Position Fallback"}],"url":"#snapshotted-scroll-offset"},
"style--layout-interleave": {"dfnID":"style--layout-interleave","dfnText":"Style & layout interleaving","external":false,"refSections":[{"refs":[{"id":"ref-for-style--layout-interleave"}],"title":"5.5. Applying Position Fallback"},{"refs":[{"id":"ref-for-style--layout-interleave①"},{"id":"ref-for-style--layout-interleave②"}],"title":"7. \nAppendix: Style & Layout Interleaving"}],"url":"#style--layout-interleave"},
"target-anchor-element": {"dfnID":"target-anchor-element","dfnText":"target anchor element","external":false,"refSections":[{"refs":[{"id":"ref-for-target-anchor-element"},{"id":"ref-for-target-anchor-element①"}],"title":"2.3. Finding an Anchor"},{"refs":[{"id":"ref-for-target-anchor-element②"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-target-anchor-element③"},{"id":"ref-for-target-anchor-element④"},{"id":"ref-for-target-anchor-element⑤"},{"id":"ref-for-target-anchor-element⑥"},{"id":"ref-for-target-anchor-element⑦"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-target-anchor-element⑧"}],"title":"3.4. Taking Scroll Into Account"},{"refs":[{"id":"ref-for-target-anchor-element⑨"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-target-anchor-element①⓪"},{"id":"ref-for-target-anchor-element①①"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-target-anchor-element①②"}],"title":"4.2. Validity"}],"url":"#target-anchor-element"},
"typedef-anchor-element": {"dfnID":"typedef-anchor-element","dfnText":"<anchor-element>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-anchor-element"},{"id":"ref-for-typedef-anchor-element①"}],"title":"2.4. \nDefault Anchors: the position-anchor property"},{"refs":[{"id":"ref-for-typedef-anchor-element②"},{"id":"ref-for-typedef-anchor-element③"},{"id":"ref-for-typedef-anchor-element④"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-typedef-anchor-element⑤"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-typedef-anchor-element⑥"}],"title":"4.1. The anchor-size() Function"},{"refs":[{"id":"ref-for-typedef-anchor-element⑦"}],"title":"4.2. Validity"},{"refs":[{"id":"ref-for-typedef-anchor-element⑧"}],"title":"5.4. The @position-try Rule"}],"url":"#typedef-anchor-element"},
"typedef-anchor-side": {"dfnID":"typedef-anchor-side","dfnText":"<anchor-side>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-anchor-side"},{"id":"ref-for-typedef-anchor-side①"},{"id":"ref-for-typedef-anchor-side②"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-typedef-anchor-side③"}],"title":"3.5. Validity"},{"refs":[{"id":"ref-for-typedef-anchor-side④"}],"title":"4.1. The anchor-size() Function"}],"url":"#typedef-anchor-side"},
"typedef-anchor-size": {"dfnID":"typedef-anchor-size","dfnText":"<anchor-size>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-anchor-size"},{"id":"ref-for-typedef-anchor-size①"},{"id":"ref-for-typedef-anchor-size②"},{"id":"ref-for-typedef-anchor-size③"},{"id":"ref-for-typedef-anchor-size④"}],"title":"4.1. The anchor-size() Function"}],"url":"#typedef-anchor-size"},
"typedef-inset-area": {"dfnID":"typedef-inset-area","dfnText":"<inset-area>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-inset-area"},{"id":"ref-for-typedef-inset-area①"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-typedef-inset-area②"},{"id":"ref-for-typedef-inset-area③"},{"id":"ref-for-typedef-inset-area④"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#typedef-inset-area"},
"typedef-position-try-options-try-tactic": {"dfnID":"typedef-position-try-options-try-tactic","dfnText":"<try-tactic>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-position-try-options-try-tactic"},{"id":"ref-for-typedef-position-try-options-try-tactic①"},{"id":"ref-for-typedef-position-try-options-try-tactic②"},{"id":"ref-for-typedef-position-try-options-try-tactic③"},{"id":"ref-for-typedef-position-try-options-try-tactic④"},{"id":"ref-for-typedef-position-try-options-try-tactic⑤"}],"title":"5.1. Giving Fallback Options: the position-try-options property"}],"url":"#typedef-position-try-options-try-tactic"},
"typedef-try-size": {"dfnID":"typedef-try-size","dfnText":"<try-size>","external":false,"refSections":[{"refs":[{"id":"ref-for-typedef-try-size"},{"id":"ref-for-typedef-try-size①"}],"title":"5.2. Determining Fallback Order: the position-try-order property"}],"url":"#typedef-try-size"},
"valdef-anchor-bottom": {"dfnID":"valdef-anchor-bottom","dfnText":"bottom","external":false,"refSections":[],"url":"#valdef-anchor-bottom"},
"valdef-anchor-center": {"dfnID":"valdef-anchor-center","dfnText":"center","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-center"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-center"},
"valdef-anchor-dashed-ident": {"dfnID":"valdef-anchor-dashed-ident","dfnText":"<dashed-ident>","external":false,"refSections":[],"url":"#valdef-anchor-dashed-ident"},
"valdef-anchor-end": {"dfnID":"valdef-anchor-end","dfnText":"end","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-end"},{"id":"ref-for-valdef-anchor-end①"},{"id":"ref-for-valdef-anchor-end②"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-end"},
"valdef-anchor-implicit": {"dfnID":"valdef-anchor-implicit","dfnText":"implicit","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-implicit"}],"title":"2.1.1. Implicit Anchor Elements"},{"refs":[{"id":"ref-for-valdef-anchor-implicit①"},{"id":"ref-for-valdef-anchor-implicit②"}],"title":"2.3. Finding an Anchor"}],"url":"#valdef-anchor-implicit"},
"valdef-anchor-inside": {"dfnID":"valdef-anchor-inside","dfnText":"inside","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-inside"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-inside"},
"valdef-anchor-left": {"dfnID":"valdef-anchor-left","dfnText":"left","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-left"}],"title":"3.2. The anchor() Function"},{"refs":[{"id":"ref-for-valdef-anchor-left①"}],"title":"3.5. Validity"}],"url":"#valdef-anchor-left"},
"valdef-anchor-name-dashed-ident": {"dfnID":"valdef-anchor-name-dashed-ident","dfnText":"<dashed-ident>#","external":false,"refSections":[],"url":"#valdef-anchor-name-dashed-ident"},
"valdef-anchor-name-none": {"dfnID":"valdef-anchor-name-none","dfnText":"none","external":false,"refSections":[],"url":"#valdef-anchor-name-none"},
"valdef-anchor-outside": {"dfnID":"valdef-anchor-outside","dfnText":"outside","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-outside"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-outside"},
"valdef-anchor-percentage": {"dfnID":"valdef-anchor-percentage","dfnText":"<percentage>","external":false,"refSections":[],"url":"#valdef-anchor-percentage"},
"valdef-anchor-right": {"dfnID":"valdef-anchor-right","dfnText":"right","external":false,"refSections":[],"url":"#valdef-anchor-right"},
"valdef-anchor-scope-all": {"dfnID":"valdef-anchor-scope-all","dfnText":"all","external":false,"refSections":[],"url":"#valdef-anchor-scope-all"},
"valdef-anchor-scope-dashed-ident": {"dfnID":"valdef-anchor-scope-dashed-ident","dfnText":"<dashed-ident>","external":false,"refSections":[],"url":"#valdef-anchor-scope-dashed-ident"},
"valdef-anchor-scope-none": {"dfnID":"valdef-anchor-scope-none","dfnText":"none","external":false,"refSections":[],"url":"#valdef-anchor-scope-none"},
"valdef-anchor-self-end": {"dfnID":"valdef-anchor-self-end","dfnText":"self-end","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-self-end"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-self-end"},
"valdef-anchor-self-start": {"dfnID":"valdef-anchor-self-start","dfnText":"self-start","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-self-start"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-self-start"},
"valdef-anchor-size-block": {"dfnID":"valdef-anchor-size-block","dfnText":"block","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-size-block"}],"title":"4.1. The anchor-size() Function"}],"url":"#valdef-anchor-size-block"},
"valdef-anchor-size-height": {"dfnID":"valdef-anchor-size-height","dfnText":"height","external":false,"refSections":[],"url":"#valdef-anchor-size-height"},
"valdef-anchor-size-inline": {"dfnID":"valdef-anchor-size-inline","dfnText":"inline","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-size-inline"}],"title":"4.1. The anchor-size() Function"}],"url":"#valdef-anchor-size-inline"},
"valdef-anchor-size-self-block": {"dfnID":"valdef-anchor-size-self-block","dfnText":"self-block","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-size-self-block"}],"title":"4.1. The anchor-size() Function"}],"url":"#valdef-anchor-size-self-block"},
"valdef-anchor-size-self-inline": {"dfnID":"valdef-anchor-size-self-inline","dfnText":"self-inline","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-size-self-inline"}],"title":"4.1. The anchor-size() Function"}],"url":"#valdef-anchor-size-self-inline"},
"valdef-anchor-size-width": {"dfnID":"valdef-anchor-size-width","dfnText":"width","external":false,"refSections":[],"url":"#valdef-anchor-size-width"},
"valdef-anchor-start": {"dfnID":"valdef-anchor-start","dfnText":"start","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-anchor-start"},{"id":"ref-for-valdef-anchor-start①"},{"id":"ref-for-valdef-anchor-start②"}],"title":"3.2. The anchor() Function"}],"url":"#valdef-anchor-start"},
"valdef-anchor-top": {"dfnID":"valdef-anchor-top","dfnText":"top","external":false,"refSections":[],"url":"#valdef-anchor-top"},
"valdef-inset-area-block-end": {"dfnID":"valdef-inset-area-block-end","dfnText":"block-end","external":false,"refSections":[],"url":"#valdef-inset-area-block-end"},
"valdef-inset-area-block-self-end": {"dfnID":"valdef-inset-area-block-self-end","dfnText":"block-self-end","external":false,"refSections":[],"url":"#valdef-inset-area-block-self-end"},
"valdef-inset-area-block-self-start": {"dfnID":"valdef-inset-area-block-self-start","dfnText":"block-self-start","external":false,"refSections":[],"url":"#valdef-inset-area-block-self-start"},
"valdef-inset-area-block-start": {"dfnID":"valdef-inset-area-block-start","dfnText":"block-start","external":false,"refSections":[],"url":"#valdef-inset-area-block-start"},
"valdef-inset-area-bottom": {"dfnID":"valdef-inset-area-bottom","dfnText":"bottom","external":false,"refSections":[],"url":"#valdef-inset-area-bottom"},
"valdef-inset-area-center": {"dfnID":"valdef-inset-area-center","dfnText":"center","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-center"},{"id":"ref-for-valdef-inset-area-center①"},{"id":"ref-for-valdef-inset-area-center②"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-center"},
"valdef-inset-area-end": {"dfnID":"valdef-inset-area-end","dfnText":"end","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-end"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-end"},
"valdef-inset-area-inline-end": {"dfnID":"valdef-inset-area-inline-end","dfnText":"inline-end","external":false,"refSections":[],"url":"#valdef-inset-area-inline-end"},
"valdef-inset-area-inline-self-end": {"dfnID":"valdef-inset-area-inline-self-end","dfnText":"inline-self-end","external":false,"refSections":[],"url":"#valdef-inset-area-inline-self-end"},
"valdef-inset-area-inline-self-start": {"dfnID":"valdef-inset-area-inline-self-start","dfnText":"inline-self-start","external":false,"refSections":[],"url":"#valdef-inset-area-inline-self-start"},
"valdef-inset-area-inline-start": {"dfnID":"valdef-inset-area-inline-start","dfnText":"inline-start","external":false,"refSections":[],"url":"#valdef-inset-area-inline-start"},
"valdef-inset-area-inset-area": {"dfnID":"valdef-inset-area-inset-area","dfnText":"<inset-area>","external":false,"refSections":[],"url":"#valdef-inset-area-inset-area"},
"valdef-inset-area-left": {"dfnID":"valdef-inset-area-left","dfnText":"left","external":false,"refSections":[],"url":"#valdef-inset-area-left"},
"valdef-inset-area-none": {"dfnID":"valdef-inset-area-none","dfnText":"none","external":false,"refSections":[],"url":"#valdef-inset-area-none"},
"valdef-inset-area-right": {"dfnID":"valdef-inset-area-right","dfnText":"right","external":false,"refSections":[],"url":"#valdef-inset-area-right"},
"valdef-inset-area-self-end": {"dfnID":"valdef-inset-area-self-end","dfnText":"self-end","external":false,"refSections":[],"url":"#valdef-inset-area-self-end"},
"valdef-inset-area-self-start": {"dfnID":"valdef-inset-area-self-start","dfnText":"self-start","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-self-start"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-self-start"},
"valdef-inset-area-span-all": {"dfnID":"valdef-inset-area-span-all","dfnText":"span-all","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-span-all"},{"id":"ref-for-valdef-inset-area-span-all①"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-span-all"},
"valdef-inset-area-span-block-end": {"dfnID":"valdef-inset-area-span-block-end","dfnText":"span-block-end","external":false,"refSections":[],"url":"#valdef-inset-area-span-block-end"},
"valdef-inset-area-span-block-start": {"dfnID":"valdef-inset-area-span-block-start","dfnText":"span-block-start","external":false,"refSections":[],"url":"#valdef-inset-area-span-block-start"},
"valdef-inset-area-span-bottom": {"dfnID":"valdef-inset-area-span-bottom","dfnText":"span-bottom","external":false,"refSections":[],"url":"#valdef-inset-area-span-bottom"},
"valdef-inset-area-span-end": {"dfnID":"valdef-inset-area-span-end","dfnText":"span-end","external":false,"refSections":[],"url":"#valdef-inset-area-span-end"},
"valdef-inset-area-span-inline-end": {"dfnID":"valdef-inset-area-span-inline-end","dfnText":"span-inline-end","external":false,"refSections":[],"url":"#valdef-inset-area-span-inline-end"},
"valdef-inset-area-span-inline-start": {"dfnID":"valdef-inset-area-span-inline-start","dfnText":"span-inline-start","external":false,"refSections":[],"url":"#valdef-inset-area-span-inline-start"},
"valdef-inset-area-span-start": {"dfnID":"valdef-inset-area-span-start","dfnText":"span-start","external":false,"refSections":[],"url":"#valdef-inset-area-span-start"},
"valdef-inset-area-span-top": {"dfnID":"valdef-inset-area-span-top","dfnText":"span-top","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-span-top"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-span-top"},
"valdef-inset-area-span-x-end": {"dfnID":"valdef-inset-area-span-x-end","dfnText":"span-x-end","external":false,"refSections":[],"url":"#valdef-inset-area-span-x-end"},
"valdef-inset-area-span-x-start": {"dfnID":"valdef-inset-area-span-x-start","dfnText":"span-x-start","external":false,"refSections":[],"url":"#valdef-inset-area-span-x-start"},
"valdef-inset-area-span-y-end": {"dfnID":"valdef-inset-area-span-y-end","dfnText":"span-y-end","external":false,"refSections":[],"url":"#valdef-inset-area-span-y-end"},
"valdef-inset-area-span-y-start": {"dfnID":"valdef-inset-area-span-y-start","dfnText":"span-y-start","external":false,"refSections":[],"url":"#valdef-inset-area-span-y-start"},
"valdef-inset-area-start": {"dfnID":"valdef-inset-area-start","dfnText":"start","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-start"},{"id":"ref-for-valdef-inset-area-start①"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-start"},
"valdef-inset-area-top": {"dfnID":"valdef-inset-area-top","dfnText":"top","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-top"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-top"},
"valdef-inset-area-x-end": {"dfnID":"valdef-inset-area-x-end","dfnText":"x-end","external":false,"refSections":[],"url":"#valdef-inset-area-x-end"},
"valdef-inset-area-x-self-end": {"dfnID":"valdef-inset-area-x-self-end","dfnText":"x-self-end","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-x-self-end"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-x-self-end"},
"valdef-inset-area-x-self-start": {"dfnID":"valdef-inset-area-x-self-start","dfnText":"x-self-start","external":false,"refSections":[],"url":"#valdef-inset-area-x-self-start"},
"valdef-inset-area-x-start": {"dfnID":"valdef-inset-area-x-start","dfnText":"x-start","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-inset-area-x-start"}],"title":"3.1.1. \nResolving <inset-area>s"}],"url":"#valdef-inset-area-x-start"},
"valdef-inset-area-y-end": {"dfnID":"valdef-inset-area-y-end","dfnText":"y-end","external":false,"refSections":[],"url":"#valdef-inset-area-y-end"},
"valdef-inset-area-y-self-end": {"dfnID":"valdef-inset-area-y-self-end","dfnText":"y-self-end","external":false,"refSections":[],"url":"#valdef-inset-area-y-self-end"},
"valdef-inset-area-y-self-start": {"dfnID":"valdef-inset-area-y-self-start","dfnText":"y-self-start","external":false,"refSections":[],"url":"#valdef-inset-area-y-self-start"},
"valdef-inset-area-y-start": {"dfnID":"valdef-inset-area-y-start","dfnText":"y-start","external":false,"refSections":[],"url":"#valdef-inset-area-y-start"},
"valdef-justify-self-anchor-center": {"dfnID":"valdef-justify-self-anchor-center","dfnText":"anchor-center","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-justify-self-anchor-center"}],"title":"3.1. The inset-area Property"},{"refs":[{"id":"ref-for-valdef-justify-self-anchor-center①"}],"title":"3.1.1. \nResolving <inset-area>s"},{"refs":[{"id":"ref-for-valdef-justify-self-anchor-center②"}],"title":"3.3. Centering on the Anchor: the anchor-center value"},{"refs":[{"id":"ref-for-valdef-justify-self-anchor-center③"}],"title":"3.4. Taking Scroll Into Account"}],"url":"#valdef-justify-self-anchor-center"},
"valdef-position-try-options-dashed-ident": {"dfnID":"valdef-position-try-options-dashed-ident","dfnText":"<dashed-ident>","external":false,"refSections":[],"url":"#valdef-position-try-options-dashed-ident"},
"valdef-position-try-options-dashed-ident--try-tactic": {"dfnID":"valdef-position-try-options-dashed-ident--try-tactic","dfnText":"<dashed-ident> || <try-tactic>","external":false,"refSections":[],"url":"#valdef-position-try-options-dashed-ident--try-tactic"},
"valdef-position-try-options-flip-block": {"dfnID":"valdef-position-try-options-flip-block","dfnText":"flip-block","external":false,"refSections":[{"refs":[{"id":"ref-for-valdef-position-try-options-flip-block"}],"title":"5.2. Determining Fallback Order: the position-try-order property"}],"url":"#valdef-position-try-options-flip-block"},
"valdef-position-try-options-flip-inline": {"dfnID":"valdef-position-try-options-flip-inline","dfnText":"flip-inline","external":false,"refSections":[],"url":"#valdef-position-try-options-flip-inline"},
"valdef-position-try-options-flip-start": {"dfnID":"valdef-position-try-options-flip-start","dfnText":"flip-start","external":false,"refSections":[],"url":"#valdef-position-try-options-flip-start"},
"valdef-position-try-options-inset-area-inset-area": {"dfnID":"valdef-position-try-options-inset-area-inset-area","dfnText":"inset-area( <'inset-area'> )","external":false,"refSections":[],"url":"#valdef-position-try-options-inset-area-inset-area"},
"valdef-position-try-options-none": {"dfnID":"valdef-position-try-options-none","dfnText":"none","external":false,"refSections":[],"url":"#valdef-position-try-options-none"},
"valdef-position-try-options-try-tactic": {"dfnID":"valdef-position-try-options-try-tactic","dfnText":"<try-tactic>","external":false,"refSections":[],"url":"#valdef-position-try-options-try-tactic"},
"valdef-position-try-order-most-block-size": {"dfnID":"valdef-position-try-order-most-block-size","dfnText":"most-block-size","external":false,"refSections":[],"url":"#valdef-position-try-order-most-block-size"},
"valdef-position-try-order-most-height": {"dfnID":"valdef-position-try-order-most-height","dfnText":"most-height","external":false,"refSections":[],"url":"#valdef-position-try-order-most-height"},
"valdef-position-try-order-most-inline-size": {"dfnID":"valdef-position-try-order-most-inline-size","dfnText":"most-inline-size","external":false,"refSections":[],"url":"#valdef-position-try-order-most-inline-size"},
"valdef-position-try-order-most-width": {"dfnID":"valdef-position-try-order-most-width","dfnText":"most-width","external":false,"refSections":[],"url":"#valdef-position-try-order-most-width"},
"valdef-position-try-order-normal": {"dfnID":"valdef-position-try-order-normal","dfnText":"normal","external":false,"refSections":[],"url":"#valdef-position-try-order-normal"},
"valid-anchor-function": {"dfnID":"valid-anchor-function","dfnText":"valid anchor function","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-anchor-function"},{"id":"ref-for-valid-anchor-function①"}],"title":"3.2. The anchor() Function"}],"url":"#valid-anchor-function"},
"valid-anchor-size-function": {"dfnID":"valid-anchor-size-function","dfnText":"valid anchor-size function","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-anchor-size-function"}],"title":"4.1. The anchor-size() Function"}],"url":"#valid-anchor-size-function"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-link-titles */
"use strict";
{
let linkTitleData = {
"#typedef-inset-area": "Expands to: block-end | block-self-end | block-self-start | block-start | bottom | center | end | inline-end | inline-self-end | inline-self-start | inline-start | left | right | self-end | self-start | span-all | span-block-end | span-block-start | span-bottom | span-end | span-inline-end | span-inline-start | span-start | span-top | span-x-end | span-x-start | span-y-end | span-y-start | start | top | x-end | x-self-end | x-self-start | x-start | y-end | y-self-end | y-self-start | y-start",
"https://https://tawasl-zahra.github.io/whimsywondershttps://https://tawasl-zahra.github.io/whimsywonderstawasl-zahra.github.io/whimsywonderswww.w3.org/TR/css-values-4/#length-value": "Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | q | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw",
};

function setTypeTitles() {
	for(let el of document.querySelectorAll("a[href]")) {
		if(el.href in linkTitleData && !el.hasAttribute("title")) {
			el.setAttribute("title", linkTitleData[el.href]);
		}
	}
}

document.addEventListener("DOMContentLoaded", setTypeTitles);
}</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#acceptable-anchor-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"acceptable anchor element","type":"dfn","url":"#acceptable-anchor-element"},
"#accepted-position-try-properties": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"accepted @position-try properties","type":"dfn","url":"#accepted-position-try-properties"},
"#anchor-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor element","type":"dfn","url":"#anchor-element"},
"#anchor-functions": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor functions","type":"dfn","url":"#anchor-functions"},
"#anchor-name": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor name","type":"dfn","url":"#anchor-name"},
"#anchor-specifier": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor specifier","type":"dfn","url":"#anchor-specifier"},
"#apply-a-position-option": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"apply a position option","type":"dfn","url":"#apply-a-position-option"},
"#at-ruledef-position-try": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"@position-try","type":"at-rule","url":"#at-ruledef-position-try"},
"#csspositiontryrule": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"CSSPositionTryRule","type":"interface","url":"#csspositiontryrule"},
"#default-anchor-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"default anchor element","type":"dfn","url":"#default-anchor-element"},
"#default-anchor-specifier": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"default anchor specifier","type":"dfn","url":"#default-anchor-specifier"},
"#determine-the-position-fallback-styles": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"determine the position fallback styles","type":"dfn","url":"#determine-the-position-fallback-styles"},
"#dom-csspositiontryrule-name": {"export":true,"for_":["CSSPositionTryRule"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"name","type":"attribute","url":"#dom-csspositiontryrule-name"},
"#dom-csspositiontryrule-style": {"export":true,"for_":["CSSPositionTryRule"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"style","type":"attribute","url":"#dom-csspositiontryrule-style"},
"#funcdef-anchor": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor()","type":"function","url":"#funcdef-anchor"},
"#funcdef-anchor-size": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor-size()","type":"function","url":"#funcdef-anchor-size"},
"#implicit-anchor-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"implicit anchor element","type":"dfn","url":"#implicit-anchor-element"},
"#inset-area-grid": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"inset-area grid","type":"dfn","url":"#inset-area-grid"},
"#last-successful-position-option": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"last successful position option","type":"dfn","url":"#last-successful-position-option"},
"#needs-scroll-adjustment": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"needs scroll adjustment","type":"dfn","url":"#needs-scroll-adjustment"},
"#position-fallback-origin": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position fallback origin","type":"dfn","url":"#position-fallback-origin"},
"#position-option": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position option","type":"dfn","url":"#position-option"},
"#position-options-list": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position options list","type":"dfn","url":"#position-options-list"},
"#propdef-anchor-name": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor-name","type":"property","url":"#propdef-anchor-name"},
"#propdef-anchor-scope": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor-scope","type":"property","url":"#propdef-anchor-scope"},
"#propdef-inset-area": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"inset-area","type":"property","url":"#propdef-inset-area"},
"#propdef-position-anchor": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position-anchor","type":"property","url":"#propdef-position-anchor"},
"#propdef-position-try": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position-try","type":"property","url":"#propdef-position-try"},
"#propdef-position-try-options": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position-try-options","type":"property","url":"#propdef-position-try-options"},
"#propdef-position-try-order": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"position-try-order","type":"property","url":"#propdef-position-try-order"},
"#snapshotted-scroll-offset": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"snapshotted scroll offset","type":"dfn","url":"#snapshotted-scroll-offset"},
"#style--layout-interleave": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"interleave","type":"dfn","url":"#style--layout-interleave"},
"#target-anchor-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"target anchor element","type":"dfn","url":"#target-anchor-element"},
"#typedef-anchor-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"<anchor-element>","type":"type","url":"#typedef-anchor-element"},
"#typedef-anchor-side": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"<anchor-side>","type":"type","url":"#typedef-anchor-side"},
"#typedef-anchor-size": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"<anchor-size>","type":"type","url":"#typedef-anchor-size"},
"#typedef-inset-area": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"<inset-area>","type":"type","url":"#typedef-inset-area"},
"#typedef-position-try-options-try-tactic": {"export":true,"for_":["position-try-options"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"<try-tactic>","type":"type","url":"#typedef-position-try-options-try-tactic"},
"#typedef-try-size": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"<try-size>","type":"type","url":"#typedef-try-size"},
"#valdef-anchor-center": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"center","type":"value","url":"#valdef-anchor-center"},
"#valdef-anchor-end": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"end","type":"value","url":"#valdef-anchor-end"},
"#valdef-anchor-implicit": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"implicit","type":"value","url":"#valdef-anchor-implicit"},
"#valdef-anchor-inside": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"inside","type":"value","url":"#valdef-anchor-inside"},
"#valdef-anchor-left": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"left","type":"value","url":"#valdef-anchor-left"},
"#valdef-anchor-outside": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"outside","type":"value","url":"#valdef-anchor-outside"},
"#valdef-anchor-self-end": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"self-end","type":"value","url":"#valdef-anchor-self-end"},
"#valdef-anchor-self-start": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"self-start","type":"value","url":"#valdef-anchor-self-start"},
"#valdef-anchor-size-block": {"export":true,"for_":["anchor-size()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"block","type":"value","url":"#valdef-anchor-size-block"},
"#valdef-anchor-size-inline": {"export":true,"for_":["anchor-size()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"inline","type":"value","url":"#valdef-anchor-size-inline"},
"#valdef-anchor-size-self-block": {"export":true,"for_":["anchor-size()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"self-block","type":"value","url":"#valdef-anchor-size-self-block"},
"#valdef-anchor-size-self-inline": {"export":true,"for_":["anchor-size()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"self-inline","type":"value","url":"#valdef-anchor-size-self-inline"},
"#valdef-anchor-start": {"export":true,"for_":["anchor()"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"start","type":"value","url":"#valdef-anchor-start"},
"#valdef-inset-area-center": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"center","type":"value","url":"#valdef-inset-area-center"},
"#valdef-inset-area-end": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"end","type":"value","url":"#valdef-inset-area-end"},
"#valdef-inset-area-self-start": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"self-start","type":"value","url":"#valdef-inset-area-self-start"},
"#valdef-inset-area-span-all": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"span-all","type":"value","url":"#valdef-inset-area-span-all"},
"#valdef-inset-area-span-top": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"span-top","type":"value","url":"#valdef-inset-area-span-top"},
"#valdef-inset-area-start": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"start","type":"value","url":"#valdef-inset-area-start"},
"#valdef-inset-area-top": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"top","type":"value","url":"#valdef-inset-area-top"},
"#valdef-inset-area-x-self-end": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"x-self-end","type":"value","url":"#valdef-inset-area-x-self-end"},
"#valdef-inset-area-x-start": {"export":true,"for_":["<inset-area>","inset-area"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"x-start","type":"value","url":"#valdef-inset-area-x-start"},
"#valdef-justify-self-anchor-center": {"export":true,"for_":["align-items","align-self","justify-items","justify-self"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"anchor-center","type":"value","url":"#valdef-justify-self-anchor-center"},
"#valdef-position-try-options-flip-block": {"export":true,"for_":["position-try-options"],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"flip-block","type":"value","url":"#valdef-position-try-options-flip-block"},
"#valid-anchor-function": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"invalid anchor function","type":"dfn","url":"#valid-anchor-function"},
"#valid-anchor-size-function": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"local","text":"valid anchor-size function","type":"dfn","url":"#valid-anchor-size-function"},
"https://dom.spec.whatwg.org/#concept-shadow-tree": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"shadow tree","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-shadow-tree"},
"https://dom.spec.whatwg.org/#concept-tree": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"tree","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-tree"},
"https://dom.spec.whatwg.org/#concept-tree-root": {"export":true,"for_":["tree"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"root","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-tree-root"},
"https://drafts.csswg.org/css-contain-3/#container-query-length": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"current","text":"container query length","type":"dfn","url":"https://drafts.csswg.org/css-contain-3/#container-query-length"},
"https://drafts.csswg.org/css-logical-1/#inset-properties": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-logical","spec":"css-logical-1","status":"current","text":"inset properties","type":"dfn","url":"https://drafts.csswg.org/css-logical-1/#inset-properties"},
"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name": {"export":true,"for_":["CSS"],"level":"1","normative":true,"shortname":"css-scoping","spec":"css-scoping-1","status":"current","text":"tree-scoped name","type":"dfn","url":"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-name"},
"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-reference": {"export":true,"for_":["CSS"],"level":"1","normative":true,"shortname":"css-scoping","spec":"css-scoping-1","status":"current","text":"tree-scoped reference","type":"dfn","url":"https://drafts.csswg.org/css-scoping-1/#css-tree-scoped-reference"},
"https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"li","type":"element","url":"https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element"},
"https://html.spec.whatwg.org/multipage/input.html#the-input-element": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"input","type":"element","url":"https://html.spec.whatwg.org/multipage/input.html#the-input-element"},
"https://infra.spec.whatwg.org/#iteration-continue": {"export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"continue","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-continue"},
"https://infra.spec.whatwg.org/#list-iterate": {"export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://webidl.spec.whatwg.org/#Exposed": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#PutForwards": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"PutForwards","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#PutForwards"},
"https://webidl.spec.whatwg.org/#SameObject": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SameObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SameObject"},
"https://www.w3.org/TR/CSS21/selector.html#x22": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"pseudo-elements","type":"dfn","url":"https://www.w3.org/TR/CSS21/selector.html#x22"},
"https://www.w3.org/TR/css-align-3/#propdef-align-items": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"align-items","type":"property","url":"https://www.w3.org/TR/css-align-3/#propdef-align-items"},
"https://www.w3.org/TR/css-align-3/#propdef-align-self": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"align-self","type":"property","url":"https://www.w3.org/TR/css-align-3/#propdef-align-self"},
"https://www.w3.org/TR/css-align-3/#propdef-justify-items": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"justify-items","type":"property","url":"https://www.w3.org/TR/css-align-3/#propdef-justify-items"},
"https://www.w3.org/TR/css-align-3/#propdef-justify-self": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"justify-self","type":"property","url":"https://www.w3.org/TR/css-align-3/#propdef-justify-self"},
"https://www.w3.org/TR/css-align-3/#self-align": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"self-alignment","type":"dfn","url":"https://www.w3.org/TR/css-align-3/#self-align"},
"https://www.w3.org/TR/css-align-3/#self-alignment-properties": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"self-alignment properties","type":"dfn","url":"https://www.w3.org/TR/css-align-3/#self-alignment-properties"},
"https://www.w3.org/TR/css-align-3/#valdef-align-self-normal": {"export":true,"for_":["align-self"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"normal","type":"value","url":"https://www.w3.org/TR/css-align-3/#valdef-align-self-normal"},
"https://www.w3.org/TR/css-align-3/#valdef-self-position-center": {"export":true,"for_":["<self-position>","<content-position>","justify-self","align-self","justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"center","type":"value","url":"https://www.w3.org/TR/css-align-3/#valdef-self-position-center"},
"https://www.w3.org/TR/css-align-3/#valdef-self-position-end": {"export":true,"for_":["<self-position>","<content-position>","justify-self","align-self","justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"end","type":"value","url":"https://www.w3.org/TR/css-align-3/#valdef-self-position-end"},
"https://www.w3.org/TR/css-align-3/#valdef-self-position-start": {"export":true,"for_":["<self-position>","<content-position>","justify-self","align-self","justify-content","align-content"],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"snapshot","text":"start","type":"value","url":"https://www.w3.org/TR/css-align-3/#valdef-self-position-start"},
"https://www.w3.org/TR/css-box-4/#margin-box": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"snapshot","text":"margin box","type":"dfn","url":"https://www.w3.org/TR/css-box-4/#margin-box"},
"https://www.w3.org/TR/css-box-4/#margin-properties": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-box","spec":"css-box-4","status":"snapshot","text":"margin properties","type":"dfn","url":"https://www.w3.org/TR/css-box-4/#margin-properties"},
"https://www.w3.org/TR/css-break-4/#fragment": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-break","spec":"css-break-4","status":"snapshot","text":"fragment","type":"dfn","url":"https://www.w3.org/TR/css-break-4/#fragment"},
"https://www.w3.org/TR/css-cascade-5/#cascade-origin-animation": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"snapshot","text":"animation origin","type":"dfn","url":"https://www.w3.org/TR/css-cascade-5/#cascade-origin-animation"},
"https://www.w3.org/TR/css-cascade-5/#cascade-origin-author": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"snapshot","text":"author origin","type":"dfn","url":"https://www.w3.org/TR/css-cascade-5/#cascade-origin-author"},
"https://www.w3.org/TR/css-cascade-5/#computed-value": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"snapshot","text":"computed value","type":"dfn","url":"https://www.w3.org/TR/css-cascade-5/#computed-value"},
"https://www.w3.org/TR/css-cascade-5/#css-property": {"export":true,"for_":["CSS"],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"snapshot","text":"property","type":"dfn","url":"https://www.w3.org/TR/css-cascade-5/#css-property"},
"https://www.w3.org/TR/css-cascade-5/#used-value": {"export":true,"for_":[],"level":"5","normative":true,"shortname":"css-cascade","spec":"css-cascade-5","status":"snapshot","text":"used value","type":"dfn","url":"https://www.w3.org/TR/css-cascade-5/#used-value"},
"https://www.w3.org/TR/css-cascade-6/#origin": {"export":true,"for_":[],"level":"6","normative":true,"shortname":"css-cascade","spec":"css-cascade-6","status":"snapshot","text":"cascade origin","type":"dfn","url":"https://www.w3.org/TR/css-cascade-6/#origin"},
"https://www.w3.org/TR/css-contain-2/#layout-containment": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"snapshot","text":"layout containment","type":"dfn","url":"https://www.w3.org/TR/css-contain-2/#layout-containment"},
"https://www.w3.org/TR/css-contain-2/#property-scoped": {"export":true,"for_":["property"],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"snapshot","text":"scoped property","type":"dfn","url":"https://www.w3.org/TR/css-contain-2/#property-scoped"},
"https://www.w3.org/TR/css-contain-2/#property-scoped-to-a-sub-tree": {"export":true,"for_":["property"],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"snapshot","text":"scoped to a sub-tree","type":"dfn","url":"https://www.w3.org/TR/css-contain-2/#property-scoped-to-a-sub-tree"},
"https://www.w3.org/TR/css-contain-2/#style-containment": {"export":true,"for_":[],"level":"2","normative":true,"shortname":"css-contain","spec":"css-contain-2","status":"snapshot","text":"style containment","type":"dfn","url":"https://www.w3.org/TR/css-contain-2/#style-containment"},
"https://www.w3.org/TR/css-contain-3/#container-query": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-contain","spec":"css-contain-3","status":"snapshot","text":"container query","type":"dfn","url":"https://www.w3.org/TR/css-contain-3/#container-query"},
"https://www.w3.org/TR/css-display-3/#containing-block": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"snapshot","text":"containing block","type":"dfn","url":"https://www.w3.org/TR/css-display-3/#containing-block"},
"https://www.w3.org/TR/css-display-3/#containing-block-chain": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"snapshot","text":"containing block chain","type":"dfn","url":"https://www.w3.org/TR/css-display-3/#containing-block-chain"},
"https://www.w3.org/TR/css-display-3/#elements": {"export":false,"for_":["CSS"],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"snapshot","text":"element","type":"dfn","url":"https://www.w3.org/TR/css-display-3/#elements"},
"https://www.w3.org/TR/css-display-3/#initial-containing-block": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"snapshot","text":"initial containing block","type":"dfn","url":"https://www.w3.org/TR/css-display-3/#initial-containing-block"},
"https://www.w3.org/TR/css-display-3/#principal-box": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-display","spec":"css-display-3","status":"snapshot","text":"principal box","type":"dfn","url":"https://www.w3.org/TR/css-display-3/#principal-box"},
"https://www.w3.org/TR/css-logical-1/#propdef-margin-block-end": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-logical","spec":"css-logical-1","status":"snapshot","text":"margin-block-end","type":"property","url":"https://www.w3.org/TR/css-logical-1/#propdef-margin-block-end"},
"https://www.w3.org/TR/css-logical-1/#propdef-margin-block-start": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-logical","spec":"css-logical-1","status":"snapshot","text":"margin-block-start","type":"property","url":"https://www.w3.org/TR/css-logical-1/#propdef-margin-block-start"},
"https://www.w3.org/TR/css-logical-1/#propdef-margin-inline-start": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-logical","spec":"css-logical-1","status":"snapshot","text":"margin-inline-start","type":"property","url":"https://www.w3.org/TR/css-logical-1/#propdef-margin-inline-start"},
"https://www.w3.org/TR/css-overflow-3/#scroll-container": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"snapshot","text":"scroll container","type":"dfn","url":"https://www.w3.org/TR/css-overflow-3/#scroll-container"},
"https://www.w3.org/TR/css-overflow-3/#scroll-offset": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-overflow","spec":"css-overflow-3","status":"snapshot","text":"scroll offset","type":"dfn","url":"https://www.w3.org/TR/css-overflow-3/#scroll-offset"},
"https://www.w3.org/TR/css-position-3/#absolute-position": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"absolute position","type":"dfn","url":"https://www.w3.org/TR/css-position-3/#absolute-position"},
"https://www.w3.org/TR/css-position-3/#inset-modified-containing-block": {"export":false,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"inset-modified containing block","type":"dfn","url":"https://www.w3.org/TR/css-position-3/#inset-modified-containing-block"},
"https://www.w3.org/TR/css-position-3/#propdef-bottom": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"bottom","type":"property","url":"https://www.w3.org/TR/css-position-3/#propdef-bottom"},
"https://www.w3.org/TR/css-position-3/#propdef-left": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"left","type":"property","url":"https://www.w3.org/TR/css-position-3/#propdef-left"},
"https://www.w3.org/TR/css-position-3/#propdef-right": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"right","type":"property","url":"https://www.w3.org/TR/css-position-3/#propdef-right"},
"https://www.w3.org/TR/css-position-3/#propdef-top": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"top","type":"property","url":"https://www.w3.org/TR/css-position-3/#propdef-top"},
"https://www.w3.org/TR/css-position-3/#valdef-top-auto": {"export":true,"for_":["top","right","bottom","left","inset-block-start","inset-inline-start","inset-block-end","inset-inline-end","inset-block","inset-inline","inset"],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"snapshot","text":"auto","type":"value","url":"https://www.w3.org/TR/css-position-3/#valdef-top-auto"},
"https://www.w3.org/TR/css-shadow-parts-1/#selectordef-part": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"css-shadow-parts","spec":"css-shadow-parts-1","status":"snapshot","text":"::part()","type":"selector","url":"https://www.w3.org/TR/css-shadow-parts-1/#selectordef-part"},
"https://www.w3.org/TR/css-sizing-3/#available": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"snapshot","text":"available space","type":"dfn","url":"https://www.w3.org/TR/css-sizing-3/#available"},
"https://www.w3.org/TR/css-sizing-3/#propdef-max-height": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"snapshot","text":"max-height","type":"property","url":"https://www.w3.org/TR/css-sizing-3/#propdef-max-height"},
"https://www.w3.org/TR/css-sizing-3/#propdef-width": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"snapshot","text":"width","type":"property","url":"https://www.w3.org/TR/css-sizing-3/#propdef-width"},
"https://www.w3.org/TR/css-sizing-3/#sizing-property": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"snapshot","text":"sizing property","type":"dfn","url":"https://www.w3.org/TR/css-sizing-3/#sizing-property"},
"https://www.w3.org/TR/css-sizing-4/#last-remembered": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-sizing","spec":"css-sizing-4","status":"snapshot","text":"last remembered size","type":"dfn","url":"https://www.w3.org/TR/css-sizing-4/#last-remembered"},
"https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list": {"export":true,"for_":[],"level":"3","normative":true,"shortname":"css-syntax","spec":"css-syntax-3","status":"snapshot","text":"<declaration-list>","type":"type","url":"https://www.w3.org/TR/css-syntax-3/#typedef-declaration-list"},
"https://www.w3.org/TR/css-transforms-1/#funcdef-transform-translate": {"export":true,"for_":["transform"],"level":"1","normative":true,"shortname":"css-transforms","spec":"css-transforms-1","status":"snapshot","text":"translate()","type":"function","url":"https://www.w3.org/TR/css-transforms-1/#funcdef-transform-translate"},
"https://www.w3.org/TR/css-values-4/#comb-any": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"||","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#comb-any"},
"https://www.w3.org/TR/css-values-4/#comb-comma": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":",","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#comb-comma"},
"https://www.w3.org/TR/css-values-4/#comb-one": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"|","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#comb-one"},
"https://www.w3.org/TR/css-values-4/#computed-length": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"computed length","type":"dfn","url":"https://www.w3.org/TR/css-values-4/#computed-length"},
"https://www.w3.org/TR/css-values-4/#length-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<length>","type":"type","url":"https://www.w3.org/TR/css-values-4/#length-value"},
"https://www.w3.org/TR/css-values-4/#math-function": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"math function","type":"dfn","url":"https://www.w3.org/TR/css-values-4/#math-function"},
"https://www.w3.org/TR/css-values-4/#mult-comma": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"#","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#mult-comma"},
"https://www.w3.org/TR/css-values-4/#mult-num-range": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"{a,b}","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#mult-num-range"},
"https://www.w3.org/TR/css-values-4/#mult-opt": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"?","type":"grammar","url":"https://www.w3.org/TR/css-values-4/#mult-opt"},
"https://www.w3.org/TR/css-values-4/#percentage-value": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<percentage>","type":"type","url":"https://www.w3.org/TR/css-values-4/#percentage-value"},
"https://www.w3.org/TR/css-values-4/#typedef-dashed-ident": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<dashed-ident>","type":"type","url":"https://www.w3.org/TR/css-values-4/#typedef-dashed-ident"},
"https://www.w3.org/TR/css-values-4/#typedef-length-percentage": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-values","spec":"css-values-4","status":"snapshot","text":"<length-percentage>","type":"type","url":"https://www.w3.org/TR/css-values-4/#typedef-length-percentage"},
"https://www.w3.org/TR/css-writing-modes-4/#block-axis": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"block axis","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#block-axis"},
"https://www.w3.org/TR/css-writing-modes-4/#block-end": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"block-end","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#block-end"},
"https://www.w3.org/TR/css-writing-modes-4/#block-start": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"block-start","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#block-start"},
"https://www.w3.org/TR/css-writing-modes-4/#end": {"export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"end","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#end"},
"https://www.w3.org/TR/css-writing-modes-4/#inline-axis": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"inline-axis","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#inline-axis"},
"https://www.w3.org/TR/css-writing-modes-4/#inline-end": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"inline-end","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#inline-end"},
"https://www.w3.org/TR/css-writing-modes-4/#inline-start": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"inline-start","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#inline-start"},
"https://www.w3.org/TR/css-writing-modes-4/#start": {"export":true,"for_":["CSS"],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"start","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#start"},
"https://www.w3.org/TR/css-writing-modes-4/#writing-mode": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"css-writing-modes","spec":"css-writing-modes-4","status":"snapshot","text":"writing mode","type":"dfn","url":"https://www.w3.org/TR/css-writing-modes-4/#writing-mode"},
"https://www.w3.org/TR/cssom-1/#cssomstring": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"snapshot","text":"CSSOMString","type":"interface","url":"https://www.w3.org/TR/cssom-1/#cssomstring"},
"https://www.w3.org/TR/cssom-1/#cssrule": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"snapshot","text":"CSSRule","type":"interface","url":"https://www.w3.org/TR/cssom-1/#cssrule"},
"https://www.w3.org/TR/cssom-1/#cssstyledeclaration": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"snapshot","text":"CSSStyleDeclaration","type":"interface","url":"https://www.w3.org/TR/cssom-1/#cssstyledeclaration"},
"https://www.w3.org/TR/cssom-1/#dom-cssstyledeclaration-csstext": {"export":true,"for_":["CSSStyleDeclaration"],"level":"1","normative":true,"shortname":"cssom","spec":"cssom-1","status":"snapshot","text":"cssText","type":"attribute","url":"https://www.w3.org/TR/cssom-1/#dom-cssstyledeclaration-csstext"},
"https://www.w3.org/TR/resize-observer-1/#resizeobserver": {"export":true,"for_":[],"level":"1","normative":true,"shortname":"resize-observer","spec":"resize-observer-1","status":"snapshot","text":"ResizeObserver","type":"interface","url":"https://www.w3.org/TR/resize-observer-1/#resizeobserver"},
"https://www.w3.org/TR/selectors-4/#originating-element": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"snapshot","text":"originating element","type":"dfn","url":"https://www.w3.org/TR/selectors-4/#originating-element"},
"https://www.w3.org/TR/selectors-4/#pseudo-element": {"export":true,"for_":[],"level":"4","normative":true,"shortname":"selectors","spec":"selectors-4","status":"snapshot","text":"pseudo-element","type":"dfn","url":"https://www.w3.org/TR/selectors-4/#pseudo-element"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.text != linkText) {
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.text)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const ref = refsData[url];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>
</body>
</html>